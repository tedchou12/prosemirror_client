{"code":"webpackHotUpdate(\"licit\",{\"./src/client/LicitRuntime.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony import */ var _http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./http */ \\\"./src/client/http.js\\\");\\n/* harmony import */ var _Types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Types */ \\\"./src/Types.js\\\");\\n// This implements the interface of `EditorRuntime`.\\n\\n\\nclass LicitRuntime {\\n  // Image Proxy\\n  canProxyImageSrc() {\\n    return false;\\n  }\\n\\n  getProxyImageSrc(src) {\\n    // This simulate a fake proxy.\\n    const suffix = 'proxied=1';\\n    return src.indexOf('?') === -1 ? `${src}?${suffix}` : `${src}&${suffix}`;\\n  } // Image Upload\\n\\n\\n  canUploadImage() {\\n    return true;\\n  }\\n\\n  uploadImage(blob) {\\n    var img; // [FS-AFQ][03-MAR-2020][IRAD-884#2]\\n    // Note: Resolving the promise blindly after 3 seconds causes two issues,\\n    // 1. Even if an image upload finishes in 700ms, it will take 3s for resolving the promise.\\n    // 2. If the image upload takes more than 3s, then the promise will be incorrectly resolved before completing the upload.\\n    // The following structure may be good to solve the issue.\\n\\n    return new Promise((resolve, reject) => {\\n      // console.log(resolve);\\n      // console.log(blob);\\n      // console.log(reject);\\n      // Use uploaded image URL.\\n      const url = window.location.protocol + \\\"//\\\" + window.location.hostname + ':3004/saveimage?fn=' + blob.name;\\n      Object(_http__WEBPACK_IMPORTED_MODULE_0__[\\\"POST\\\"])(url, blob, 'application/octet-stream').then(data => {\\n        img = JSON.parse(data);\\n        resolve(img);\\n      }, err => {\\n        img = {\\n          id: '',\\n          width: 0,\\n          height: 0,\\n          src: ''\\n        };\\n        resolve(img);\\n      });\\n    });\\n  }\\n\\n}\\n\\n/* harmony default export */ __webpack_exports__[\\\"default\\\"] = (LicitRuntime);\\n\\n\\n//# sourceURL=webpack:///./src/client/LicitRuntime.js?\")}});","extractedComments":["/*!************************************!*\\\n  !*** ./src/client/LicitRuntime.js ***!\n  \\************************************/","/*! exports provided: default */"]}