{"code":"webpackHotUpdate(0,{450:function(e,t,n){\"use strict\";n.r(t);var r={};n.r(r),n.d(r,\"MARK_CODE\",(function(){return Co})),n.d(r,\"MARK_EM\",(function(){return Ao})),n.d(r,\"MARK_FONT_SIZE\",(function(){return To})),n.d(r,\"MARK_FONT_TYPE\",(function(){return Po})),n.d(r,\"MARK_LINK\",(function(){return Mo})),n.d(r,\"MARK_NO_BREAK\",(function(){return Ro})),n.d(r,\"MARK_STRIKE\",(function(){return Do})),n.d(r,\"MARK_STRONG\",(function(){return Io})),n.d(r,\"MARK_SUPER\",(function(){return No})),n.d(r,\"MARK_SUB\",(function(){return jo})),n.d(r,\"MARK_TEXT_COLOR\",(function(){return Lo})),n.d(r,\"MARK_TEXT_HIGHLIGHT\",(function(){return zo})),n.d(r,\"MARK_TEXT_SELECTION\",(function(){return Bo})),n.d(r,\"MARK_UNDERLINE\",(function(){return Uo})),n.d(r,\"MARK_SPACER\",(function(){return Ho})),n.d(r,\"MARK_CUSTOMSTYLES\",(function(){return Fo}));var o={};n.r(o),n.d(o,\"BLOCKQUOTE\",(function(){return Vo})),n.d(o,\"BOOKMARK\",(function(){return qo})),n.d(o,\"BULLET_LIST\",(function(){return Ko})),n.d(o,\"CODE_BLOCK\",(function(){return $o})),n.d(o,\"DOC\",(function(){return Go})),n.d(o,\"HARD_BREAK\",(function(){return Wo})),n.d(o,\"HEADING\",(function(){return Yo})),n.d(o,\"HORIZONTAL_RULE\",(function(){return Xo})),n.d(o,\"IMAGE\",(function(){return Jo})),n.d(o,\"LINK\",(function(){return Zo})),n.d(o,\"LIST_ITEM\",(function(){return Qo})),n.d(o,\"MATH\",(function(){return ei})),n.d(o,\"ORDERED_LIST\",(function(){return ti})),n.d(o,\"PARAGRAPH\",(function(){return ni})),n.d(o,\"TABLE\",(function(){return ri})),n.d(o,\"TABLE_CELL\",(function(){return oi})),n.d(o,\"TABLE_HEADER\",(function(){return ii})),n.d(o,\"TABLE_ROW\",(function(){return si})),n.d(o,\"TEXT\",(function(){return ai})),n.d(o,\"UNDERLINE\",(function(){return ci}));var i={};n.r(i),n.d(i,\"CLEAR_FORMAT\",(function(){return Bp})),n.d(i,\"DOC_LAYOUT\",(function(){return Up})),n.d(i,\"EM\",(function(){return Hp})),n.d(i,\"H1\",(function(){return Fp})),n.d(i,\"H2\",(function(){return Vp})),n.d(i,\"H3\",(function(){return qp})),n.d(i,\"H4\",(function(){return Kp})),n.d(i,\"H5\",(function(){return $p})),n.d(i,\"H6\",(function(){return Gp})),n.d(i,\"HISTORY_REDO\",(function(){return Wp})),n.d(i,\"HISTORY_UNDO\",(function(){return Yp})),n.d(i,\"HR\",(function(){return Xp})),n.d(i,\"IMAGE_FROM_URL\",(function(){return Jp})),n.d(i,\"IMAGE_UPLOAD\",(function(){return Zp})),n.d(i,\"INDENT_LESS\",(function(){return Qp})),n.d(i,\"INDENT_MORE\",(function(){return ef})),n.d(i,\"LINK_SET_URL\",(function(){return tf})),n.d(i,\"LIST_ITEM_INSERT_NEW_LINE\",(function(){return nf})),n.d(i,\"LIST_ITEM_MERGE_DOWN\",(function(){return rf})),n.d(i,\"LIST_ITEM_MERGE_UP\",(function(){return of})),n.d(i,\"LIST_SPLIT\",(function(){return sf})),n.d(i,\"MATH_EDIT\",(function(){return af})),n.d(i,\"OL\",(function(){return cf})),n.d(i,\"PRINT\",(function(){return lf})),n.d(i,\"STRIKE\",(function(){return uf})),n.d(i,\"STRONG\",(function(){return df})),n.d(i,\"SUPER\",(function(){return pf})),n.d(i,\"SUB\",(function(){return ff})),n.d(i,\"TABLE_ADD_COLUMN_AFTER\",(function(){return hf})),n.d(i,\"TABLE_ADD_COLUMN_BEFORE\",(function(){return mf})),n.d(i,\"TABLE_ADD_ROW_AFTER\",(function(){return gf})),n.d(i,\"TABLE_ADD_ROW_BEFORE\",(function(){return yf})),n.d(i,\"TABLE_BACKGROUND_COLOR\",(function(){return bf})),n.d(i,\"TABLE_BORDER_COLOR\",(function(){return vf})),n.d(i,\"TABLE_DELETE_COLUMN\",(function(){return _f})),n.d(i,\"TABLE_DELETE_ROW\",(function(){return wf})),n.d(i,\"TABLE_DELETE_TABLE\",(function(){return Ef})),n.d(i,\"TABLE_INSERT_TABLE\",(function(){return Sf})),n.d(i,\"TABLE_MERGE_CELLS\",(function(){return Of})),n.d(i,\"TABLE_MOVE_TO_NEXT_CELL\",(function(){return xf})),n.d(i,\"TABLE_MOVE_TO_PREV_CELL\",(function(){return kf})),n.d(i,\"TABLE_SPLIT_ROW\",(function(){return Cf})),n.d(i,\"TABLE_TOGGLE_HEADER_CELL\",(function(){return Af})),n.d(i,\"TABLE_TOGGLE_HEADER_COLUMN\",(function(){return Tf})),n.d(i,\"TABLE_TOGGLE_HEADER_ROW\",(function(){return Pf})),n.d(i,\"TEXT_ALIGN_CENTER\",(function(){return Mf})),n.d(i,\"TEXT_ALIGN_JUSTIFY\",(function(){return Rf})),n.d(i,\"TEXT_ALIGN_LEFT\",(function(){return Df})),n.d(i,\"TEXT_ALIGN_RIGHT\",(function(){return If})),n.d(i,\"TEXT_COLOR\",(function(){return Nf})),n.d(i,\"TEXT_HIGHLIGHT\",(function(){return jf})),n.d(i,\"TEXT_INSERT_TAB_SPACE\",(function(){return Lf})),n.d(i,\"TEXT_LINE_SPACINGS\",(function(){return zf})),n.d(i,\"UL\",(function(){return Bf})),n.d(i,\"UNDERLINE\",(function(){return Uf}));var s={};n.r(s),n.d(s,\"tooltip\",(function(){return Ym})),n.d(s,\"findKeymapByDescription\",(function(){return Xm})),n.d(s,\"findShortcutByDescription\",(function(){return Jm})),n.d(s,\"findShortcutByKeymap\",(function(){return Zm})),n.d(s,\"makeKeyMap\",(function(){return Qm})),n.d(s,\"makeKeyMapWithCommon\",(function(){return eg})),n.d(s,\"KEY_BACK_DELETE\",(function(){return tg})),n.d(s,\"KEY_FORWARD_DELETE\",(function(){return ng})),n.d(s,\"KEY_INSERT_HORIZONTAL_RULE\",(function(){return rg})),n.d(s,\"KEY_INSERT_NEW_LINE\",(function(){return og})),n.d(s,\"KEY_INSERT_NEW_LINE_IN_LIST_ITEM\",(function(){return ig})),n.d(s,\"KEY_REDO\",(function(){return sg})),n.d(s,\"KEY_SET_NORMAL_TEXT\",(function(){return ag})),n.d(s,\"KEY_SHIFT_BACKSPACE\",(function(){return cg})),n.d(s,\"KEY_SPLIT_CODEBLOCK\",(function(){return lg})),n.d(s,\"KEY_SPLIT_LIST_ITEM\",(function(){return ug})),n.d(s,\"KEY_TAB\",(function(){return dg})),n.d(s,\"KEY_TAB_SHIFT\",(function(){return pg})),n.d(s,\"KEY_TOGGLE_BLOCK_QUOTE\",(function(){return fg})),n.d(s,\"KEY_TOGGLE_BOLD\",(function(){return hg})),n.d(s,\"KEY_TOGGLE_BULLET_LIST\",(function(){return mg})),n.d(s,\"KEY_TOGGLE_CODE_BLOCK\",(function(){return gg})),n.d(s,\"KEY_TOGGLE_HEADING_1\",(function(){return yg})),n.d(s,\"KEY_TOGGLE_HEADING_2\",(function(){return bg})),n.d(s,\"KEY_TOGGLE_HEADING_3\",(function(){return vg})),n.d(s,\"KEY_TOGGLE_HEADING_4\",(function(){return _g})),n.d(s,\"KEY_TOGGLE_HEADING_5\",(function(){return wg})),n.d(s,\"KEY_TOGGLE_HEADING_6\",(function(){return Eg})),n.d(s,\"KEY_TOGGLE_ITALIC\",(function(){return Sg})),n.d(s,\"KEY_TOGGLE_MONOSPACE\",(function(){return Og})),n.d(s,\"KEY_TOGGLE_ORDERED_LIST\",(function(){return xg})),n.d(s,\"KEY_TOGGLE_STRIKETHROUGH\",(function(){return kg})),n.d(s,\"KEY_TOGGLE_UNDERLINE\",(function(){return Cg})),n.d(s,\"KEY_UNDO\",(function(){return Ag})),n.d(s,\"ALL_KEYS\",(function(){return Tg}));var a=n(0),c=n.n(a),l=n(13),u=n.n(l),d=n(1),p=n.n(d),f=n(146),h=n.n(f),m=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};function g(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function y(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}var b=h()(null),v=function(){function e(){var t=this;y(this,e),this._listeners=[],S.forEach((function(e){return e(t)}))}return e.prototype.setState=function(e,t){var n=this;return Promise.resolve().then((function(){var r=void 0;if(null!=(r=\"function\"==typeof e?e(n.state):e)){n.state=Object.assign({},n.state,r);var o=n._listeners.map((function(e){return e()}));return Promise.all(o).then((function(){if(t)return t()}))}t&&t()}))},e.prototype.subscribe=function(e){this._listeners.push(e)},e.prototype.unsubscribe=function(e){this._listeners=this._listeners.filter((function(t){return t!==e}))},e}(),_={},w=function(e){function t(){var n,r;y(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=g(this,e.call.apply(e,[this].concat(i))),r.state={},r.instances=[],r.unmounted=!1,r.onUpdate=function(){return new Promise((function(e){r.unmounted?e():r.setState(_,e)}))},g(r,n)}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillUnmount=function(){this.unmounted=!0,this._unsubscribe()},t.prototype._unsubscribe=function(){var e=this;this.instances.forEach((function(t){t.unsubscribe(e.onUpdate)}))},t.prototype._createInstances=function(e,t){var n=this;if(this._unsubscribe(),null===e)throw new Error(\"You must wrap your <Subscribe> components with a <Provider>\");var r=e,o=t.map((function(e){var t=void 0;return\"object\"===(void 0===e?\"undefined\":m(e))&&e instanceof v?t=e:(t=r.get(e))||(t=new e,r.set(e,t)),t.unsubscribe(n.onUpdate),t.subscribe(n.onUpdate),t}));return this.instances=o,o},t.prototype.render=function(){var e=this;return c.a.createElement(b.Consumer,null,(function(t){return e.props.children.apply(null,e._createInstances(t,e.props.to))}))},t}(c.a.Component);function E(e){return c.a.createElement(b.Consumer,null,(function(t){var n=new Map(t);return e.inject&&e.inject.forEach((function(e){n.set(e.constructor,e)})),c.a.createElement(b.Provider,{value:n},e.children)}))}var S=[];function O(e){return(O=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function x(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return A(this,n)}}function A(e,t){return!t||\"object\"!==O(t)&&\"function\"!=typeof t?T(e):t}function T(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(n,e);var t=C(n);function n(){var e;x(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return M(T(e=t.call.apply(t,[this].concat(o))),\"state\",{opened:!1,tabIndex:\"state\",defaultSize:.5}),M(T(e),\"toggleDevTools\",(function(){var t=e.state,n=t.opened,r=t.defaultSize;if(n)document.querySelector(\"html\").style.marginBottom=\"\";else{var o=r*window.innerHeight;document.querySelector(\"html\").style.marginBottom=\"\".concat(o,\"px\")}e.setState({opened:!n})})),M(T(e),\"selectTab\",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e.setState({tabIndex:t})})),M(T(e),\"updateBodyMargin\",(function(e){var t=e*window.innerHeight;document.querySelector(\"html\").style.marginBottom=\"\".concat(t,\"px\")})),e}return n}(v);var D=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},I=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,N=D((function(e){return I.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),j=n(147),L=n.n(j);var z=function(){function e(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)==0){var t,n=function(e){var t=document.createElement(\"style\");return t.setAttribute(\"data-emotion\",e.key),void 0!==e.nonce&&t.setAttribute(\"nonce\",e.nonce),t.appendChild(document.createTextNode(\"\")),t}(this);t=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(n,t),this.tags.push(n)}var r=this.tags[this.tags.length-1];if(this.isSpeedy){var o=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(r);try{var i=105===e.charCodeAt(1)&&64===e.charCodeAt(0);o.insertRule(e,i?0:o.cssRules.length)}catch(e){0}}else r.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}();var B=function(e){function t(e,t,r){var o=t.trim().split(h);t=o;var i=o.length,s=e.length;switch(s){case 0:case 1:var a=0;for(e=0===s?\"\":e[0]+\" \";a<i;++a)t[a]=n(e,t[a],r).trim();break;default:var c=a=0;for(t=[];a<i;++a)for(var l=0;l<s;++l)t[c++]=n(e[l]+\" \",o[a],r).trim()}return t}function n(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,\"$1\"+e.trim());case 58:return e.trim()+t.replace(m,\"$1\"+e.trim());default:if(0<1*n&&0<t.indexOf(\"\\f\"))return t.replace(m,(58===e.charCodeAt(0)?\"\":\"$1\")+e.trim())}return e+t}function r(e,t,n,i){var s=e+\";\",a=2*t+3*n+4*i;if(944===a){e=s.indexOf(\":\",9)+1;var c=s.substring(e,s.length-1).trim();return c=s.substring(0,e).trim()+c+\";\",1===T||2===T&&o(c,1)?\"-webkit-\"+c+c:c}if(0===T||2===T&&!o(s,1))return s;switch(a){case 1015:return 97===s.charCodeAt(10)?\"-webkit-\"+s+s:s;case 951:return 116===s.charCodeAt(3)?\"-webkit-\"+s+s:s;case 963:return 110===s.charCodeAt(5)?\"-webkit-\"+s+s:s;case 1009:if(100!==s.charCodeAt(4))break;case 969:case 942:return\"-webkit-\"+s+s;case 978:return\"-webkit-\"+s+\"-moz-\"+s+s;case 1019:case 983:return\"-webkit-\"+s+\"-moz-\"+s+\"-ms-\"+s+s;case 883:if(45===s.charCodeAt(8))return\"-webkit-\"+s+s;if(0<s.indexOf(\"image-set(\",11))return s.replace(x,\"$1-webkit-$2\")+s;break;case 932:if(45===s.charCodeAt(4))switch(s.charCodeAt(5)){case 103:return\"-webkit-box-\"+s.replace(\"-grow\",\"\")+\"-webkit-\"+s+\"-ms-\"+s.replace(\"grow\",\"positive\")+s;case 115:return\"-webkit-\"+s+\"-ms-\"+s.replace(\"shrink\",\"negative\")+s;case 98:return\"-webkit-\"+s+\"-ms-\"+s.replace(\"basis\",\"preferred-size\")+s}return\"-webkit-\"+s+\"-ms-\"+s+s;case 964:return\"-webkit-\"+s+\"-ms-flex-\"+s+s;case 1023:if(99!==s.charCodeAt(8))break;return\"-webkit-box-pack\"+(c=s.substring(s.indexOf(\":\",15)).replace(\"flex-\",\"\").replace(\"space-between\",\"justify\"))+\"-webkit-\"+s+\"-ms-flex-pack\"+c+s;case 1005:return p.test(s)?s.replace(d,\":-webkit-\")+s.replace(d,\":-moz-\")+s:s;case 1e3:switch(t=(c=s.substring(13).trim()).indexOf(\"-\")+1,c.charCodeAt(0)+c.charCodeAt(t)){case 226:c=s.replace(v,\"tb\");break;case 232:c=s.replace(v,\"tb-rl\");break;case 220:c=s.replace(v,\"lr\");break;default:return s}return\"-webkit-\"+s+\"-ms-\"+c+s;case 1017:if(-1===s.indexOf(\"sticky\",9))break;case 975:switch(t=(s=e).length-10,a=(c=(33===s.charCodeAt(t)?s.substring(0,t):s).substring(e.indexOf(\":\",7)+1).trim()).charCodeAt(0)+(0|c.charCodeAt(7))){case 203:if(111>c.charCodeAt(8))break;case 115:s=s.replace(c,\"-webkit-\"+c)+\";\"+s;break;case 207:case 102:s=s.replace(c,\"-webkit-\"+(102<a?\"inline-\":\"\")+\"box\")+\";\"+s.replace(c,\"-webkit-\"+c)+\";\"+s.replace(c,\"-ms-\"+c+\"box\")+\";\"+s}return s+\";\";case 938:if(45===s.charCodeAt(5))switch(s.charCodeAt(6)){case 105:return c=s.replace(\"-items\",\"\"),\"-webkit-\"+s+\"-webkit-box-\"+c+\"-ms-flex-\"+c+s;case 115:return\"-webkit-\"+s+\"-ms-flex-item-\"+s.replace(E,\"\")+s;default:return\"-webkit-\"+s+\"-ms-flex-line-pack\"+s.replace(\"align-content\",\"\").replace(E,\"\")+s}break;case 973:case 989:if(45!==s.charCodeAt(3)||122===s.charCodeAt(4))break;case 931:case 953:if(!0===O.test(e))return 115===(c=e.substring(e.indexOf(\":\")+1)).charCodeAt(0)?r(e.replace(\"stretch\",\"fill-available\"),t,n,i).replace(\":fill-available\",\":stretch\"):s.replace(c,\"-webkit-\"+c)+s.replace(c,\"-moz-\"+c.replace(\"fill-\",\"\"))+s;break;case 962:if(s=\"-webkit-\"+s+(102===s.charCodeAt(5)?\"-ms-\"+s:\"\")+s,211===n+i&&105===s.charCodeAt(13)&&0<s.indexOf(\"transform\",10))return s.substring(0,s.indexOf(\";\",27)+1).replace(f,\"$1-webkit-$2\")+s}return s}function o(e,t){var n=e.indexOf(1===t?\":\":\"{\"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),D(2!==t?r:r.replace(S,\"$1\"),n,t)}function i(e,t){var n=r(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+\";\"?n.replace(w,\" or ($1)\").substring(4):\"(\"+t+\")\"}function s(e,t,n,r,o,i,s,a,l,u){for(var d,p=0,f=t;p<R;++p)switch(d=M[p].call(c,e,f,n,r,o,i,s,a,l,u)){case void 0:case!1:case!0:case null:break;default:f=d}if(f!==t)return f}function a(e){return void 0!==(e=e.prefix)&&(D=null,e?\"function\"!=typeof e?T=1:(T=2,D=e):T=0),a}function c(e,n){var a=e;if(33>a.charCodeAt(0)&&(a=a.trim()),a=[a],0<R){var c=s(-1,n,a,a,C,k,0,0,0,0);void 0!==c&&\"string\"==typeof c&&(n=c)}var d=function e(n,a,c,d,p){for(var f,h,m,v,w,E=0,S=0,O=0,x=0,M=0,D=0,N=m=f=0,j=0,L=0,z=0,B=0,U=c.length,H=U-1,F=\"\",V=\"\",q=\"\",K=\"\";j<U;){if(h=c.charCodeAt(j),j===H&&0!==S+x+O+E&&(0!==S&&(h=47===S?10:47),x=O=E=0,U++,H++),0===S+x+O+E){if(j===H&&(0<L&&(F=F.replace(u,\"\")),0<F.trim().length)){switch(h){case 32:case 9:case 59:case 13:case 10:break;default:F+=c.charAt(j)}h=59}switch(h){case 123:for(f=(F=F.trim()).charCodeAt(0),m=1,B=++j;j<U;){switch(h=c.charCodeAt(j)){case 123:m++;break;case 125:m--;break;case 47:switch(h=c.charCodeAt(j+1)){case 42:case 47:e:{for(N=j+1;N<H;++N)switch(c.charCodeAt(N)){case 47:if(42===h&&42===c.charCodeAt(N-1)&&j+2!==N){j=N+1;break e}break;case 10:if(47===h){j=N+1;break e}}j=N}}break;case 91:h++;case 40:h++;case 34:case 39:for(;j++<H&&c.charCodeAt(j)!==h;);}if(0===m)break;j++}switch(m=c.substring(B,j),0===f&&(f=(F=F.replace(l,\"\").trim()).charCodeAt(0)),f){case 64:switch(0<L&&(F=F.replace(u,\"\")),h=F.charCodeAt(1)){case 100:case 109:case 115:case 45:L=a;break;default:L=P}if(B=(m=e(a,L,m,h,p+1)).length,0<R&&(w=s(3,m,L=t(P,F,z),a,C,k,B,h,p,d),F=L.join(\"\"),void 0!==w&&0===(B=(m=w.trim()).length)&&(h=0,m=\"\")),0<B)switch(h){case 115:F=F.replace(_,i);case 100:case 109:case 45:m=F+\"{\"+m+\"}\";break;case 107:m=(F=F.replace(g,\"$1 $2\"))+\"{\"+m+\"}\",m=1===T||2===T&&o(\"@\"+m,3)?\"@-webkit-\"+m+\"@\"+m:\"@\"+m;break;default:m=F+m,112===d&&(V+=m,m=\"\")}else m=\"\";break;default:m=e(a,t(a,F,z),m,d,p+1)}q+=m,m=z=L=N=f=0,F=\"\",h=c.charCodeAt(++j);break;case 125:case 59:if(1<(B=(F=(0<L?F.replace(u,\"\"):F).trim()).length))switch(0===N&&(f=F.charCodeAt(0),45===f||96<f&&123>f)&&(B=(F=F.replace(\" \",\":\")).length),0<R&&void 0!==(w=s(1,F,a,n,C,k,V.length,d,p,d))&&0===(B=(F=w.trim()).length)&&(F=\"\\0\\0\"),f=F.charCodeAt(0),h=F.charCodeAt(1),f){case 0:break;case 64:if(105===h||99===h){K+=F+c.charAt(j);break}default:58!==F.charCodeAt(B-1)&&(V+=r(F,f,h,F.charCodeAt(2)))}z=L=N=f=0,F=\"\",h=c.charCodeAt(++j)}}switch(h){case 13:case 10:47===S?S=0:0===1+f&&107!==d&&0<F.length&&(L=1,F+=\"\\0\"),0<R*I&&s(0,F,a,n,C,k,V.length,d,p,d),k=1,C++;break;case 59:case 125:if(0===S+x+O+E){k++;break}default:switch(k++,v=c.charAt(j),h){case 9:case 32:if(0===x+E+S)switch(M){case 44:case 58:case 9:case 32:v=\"\";break;default:32!==h&&(v=\" \")}break;case 0:v=\"\\\\0\";break;case 12:v=\"\\\\f\";break;case 11:v=\"\\\\v\";break;case 38:0===x+S+E&&(L=z=1,v=\"\\f\"+v);break;case 108:if(0===x+S+E+A&&0<N)switch(j-N){case 2:112===M&&58===c.charCodeAt(j-3)&&(A=M);case 8:111===D&&(A=D)}break;case 58:0===x+S+E&&(N=j);break;case 44:0===S+O+x+E&&(L=1,v+=\"\\r\");break;case 34:case 39:0===S&&(x=x===h?0:0===x?h:x);break;case 91:0===x+S+O&&E++;break;case 93:0===x+S+O&&E--;break;case 41:0===x+S+E&&O--;break;case 40:if(0===x+S+E){if(0===f)switch(2*M+3*D){case 533:break;default:f=1}O++}break;case 64:0===S+O+x+E+N+m&&(m=1);break;case 42:case 47:if(!(0<x+E+O))switch(S){case 0:switch(2*h+3*c.charCodeAt(j+1)){case 235:S=47;break;case 220:B=j,S=42}break;case 42:47===h&&42===M&&B+2!==j&&(33===c.charCodeAt(B+2)&&(V+=c.substring(B,j+1)),v=\"\",S=0)}}0===S&&(F+=v)}D=M,M=h,j++}if(0<(B=V.length)){if(L=a,0<R&&(void 0!==(w=s(2,V,L,n,C,k,B,d,p,d))&&0===(V=w).length))return K+V+q;if(V=L.join(\",\")+\"{\"+V+\"}\",0!=T*A){switch(2!==T||o(V,2)||(A=0),A){case 111:V=V.replace(b,\":-moz-$1\")+V;break;case 112:V=V.replace(y,\"::-webkit-input-$1\")+V.replace(y,\"::-moz-$1\")+V.replace(y,\":-ms-input-$1\")+V}A=0}}return K+V+q}(P,a,n,0,0);return 0<R&&(void 0!==(c=s(-2,d,a,a,C,k,d.length,0,0,0))&&(d=c)),\"\",A=0,k=C=1,d}var l=/^\\0+/g,u=/[\\0\\r\\f]/g,d=/: */g,p=/zoo|gra/,f=/([,: ])(transform)/g,h=/,\\r+?/g,m=/([\\t\\r\\n ])*\\f?&/g,g=/@(k\\w+)\\s*(\\S*)\\s*/,y=/::(place)/g,b=/:(read-only)/g,v=/[svh]\\w+-[tblr]{2}/,_=/\\(\\s*(.*)\\s*\\)/g,w=/([\\s\\S]*?);/g,E=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\\w-]+)[^]*/,O=/stretch|:\\s*\\w+\\-(?:conte|avail)/,x=/([^-])(image-set\\()/,k=1,C=1,A=0,T=1,P=[],M=[],R=0,D=null,I=0;return c.use=function e(t){switch(t){case void 0:case null:R=M.length=0;break;default:if(\"function\"==typeof t)M[R++]=t;else if(\"object\"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else I=0|!!t}return e},c.set=a,void 0!==e&&a(e),c};function U(e){e&&H.current.insert(e+\"}\")}var H={current:null},F=function(e,t,n,r,o,i,s,a,c,l){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return H.current.insert(t+\";\"),\"\";case 108:if(98===t.charCodeAt(2))return\"\"}break;case 2:if(0===a)return t+\"/*|*/\";break;case 3:switch(a){case 102:case 112:return H.current.insert(n[0]+t),\"\";default:return t+(0===l?\"/*|*/\":\"\")}case-2:t.split(\"/*|*/}\").forEach(U)}},V=function(e){void 0===e&&(e={});var t,n=e.key||\"css\";void 0!==e.prefix&&(t={prefix:e.prefix});var r=new B(t);var o,i={};o=e.container||document.head;var s,a=document.querySelectorAll(\"style[data-emotion-\"+n+\"]\");Array.prototype.forEach.call(a,(function(e){e.getAttribute(\"data-emotion-\"+n).split(\" \").forEach((function(e){i[e]=!0})),e.parentNode!==o&&o.appendChild(e)})),r.use(e.stylisPlugins)(F),s=function(e,t,n,o){var i=t.name;H.current=n,r(e,t.styles),o&&(c.inserted[i]=!0)};var c={key:n,sheet:new z({key:n,container:o,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:i,registered:{},insert:s};return c};function q(e,t,n){var r=\"\";return n.split(\" \").forEach((function(n){void 0!==e[n]?t.push(e[n]):r+=n+\" \"})),r}var K=function(e,t,n){var r=e.key+\"-\"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var o=t;do{e.insert(\".\"+r,o,e.sheet,!0);o=o.next}while(void 0!==o)}};var $=function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},G={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},W=/[A-Z]|^ms/g,Y=/_EMO_([^_]+?)_([^]*?)_EMO_/g,X=function(e){return 45===e.charCodeAt(1)},J=function(e){return null!=e&&\"boolean\"!=typeof e},Z=D((function(e){return X(e)?e:e.replace(W,\"-$&\").toLowerCase()})),Q=function(e,t){switch(e){case\"animation\":case\"animationName\":if(\"string\"==typeof t)return t.replace(Y,(function(e,t,n){return te={name:t,styles:n,next:te},t}))}return 1===G[e]||X(e)||\"number\"!=typeof t||0===t?t:t+\"px\"};function ee(e,t,n,r){if(null==n)return\"\";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case\"boolean\":return\"\";case\"object\":if(1===n.anim)return te={name:n.name,styles:n.styles,next:te},n.name;if(void 0!==n.styles){var o=n.next;if(void 0!==o)for(;void 0!==o;)te={name:o.name,styles:o.styles,next:te},o=o.next;return n.styles+\";\"}return function(e,t,n){var r=\"\";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=ee(e,t,n[o],!1);else for(var i in n){var s=n[i];if(\"object\"!=typeof s)null!=t&&void 0!==t[s]?r+=i+\"{\"+t[s]+\"}\":J(s)&&(r+=Z(i)+\":\"+Q(i,s)+\";\");else if(!Array.isArray(s)||\"string\"!=typeof s[0]||null!=t&&void 0!==t[s[0]]){var a=ee(e,t,s,!1);switch(i){case\"animation\":case\"animationName\":r+=Z(i)+\":\"+a+\";\";break;default:r+=i+\"{\"+a+\"}\"}}else for(var c=0;c<s.length;c++)J(s[c])&&(r+=Z(i)+\":\"+Q(i,s[c])+\";\")}return r}(e,t,n);case\"function\":if(void 0!==e){var i=te,s=n(e);return te=i,ee(e,t,s,r)}break;case\"string\":}if(null==t)return n;var a=t[n];return void 0===a||r?n:a}var te,ne=/label:\\s*([^\\s;\\n{]+)\\s*;/g;var re=function(e,t,n){if(1===e.length&&\"object\"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,o=\"\";te=void 0;var i=e[0];null==i||void 0===i.raw?(r=!1,o+=ee(n,t,i,!1)):o+=i[0];for(var s=1;s<e.length;s++)o+=ee(n,t,e[s],46===o.charCodeAt(o.length-1)),r&&(o+=i[s]);ne.lastIndex=0;for(var a,c=\"\";null!==(a=ne.exec(o));)c+=\"-\"+a[1];return{name:$(o)+c,styles:o,next:te}};var oe=Object(a.createContext)(\"undefined\"!=typeof HTMLElement?V():null),ie=Object(a.createContext)({}),se=(oe.Provider,function(e){return Object(a.forwardRef)((function(t,n){return Object(a.createElement)(oe.Consumer,null,(function(r){return e(t,r,n)}))}))});Object.prototype.hasOwnProperty;a.Component;var ae=function e(t){for(var n=t.length,r=0,o=\"\";r<n;r++){var i=t[r];if(null!=i){var s=void 0;switch(typeof i){case\"boolean\":break;case\"object\":if(Array.isArray(i))s=e(i);else for(var a in s=\"\",i)i[a]&&a&&(s&&(s+=\" \"),s+=a);break;default:s=i}s&&(o&&(o+=\" \"),o+=s)}}return o};function ce(e,t,n){var r=[],o=q(e,r,n);return r.length<2?n:o+t(r)}se((function(e,t){return Object(a.createElement)(ie.Consumer,null,(function(n){var r=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=re(n,t.registered);return K(t,o,!1),t.key+\"-\"+o.name},o={css:r,cx:function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return ce(t.registered,r,ae(n))},theme:n},i=e.children(o);return!0,i}))}));var le=N,ue=function(e){return\"theme\"!==e&&\"innerRef\"!==e},de=function(e){return\"string\"==typeof e&&e.charCodeAt(0)>96?le:ue};function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(n,!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var he=function e(t,n){var r,o,i;void 0!==n&&(r=n.label,i=n.target,o=t.__emotion_forwardProp&&n.shouldForwardProp?function(e){return t.__emotion_forwardProp(e)&&n.shouldForwardProp(e)}:n.shouldForwardProp);var s=t.__emotion_real===t,c=s&&t.__emotion_base||t;\"function\"!=typeof o&&s&&(o=t.__emotion_forwardProp);var l=o||de(c),u=!l(\"as\");return function(){var d=arguments,p=s&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&p.push(\"label:\"+r+\";\"),null==d[0]||void 0===d[0].raw)p.push.apply(p,d);else{0,p.push(d[0][0]);for(var f=d.length,h=1;h<f;h++)p.push(d[h],d[0][h])}var m=se((function(e,t,n){return Object(a.createElement)(ie.Consumer,null,(function(r){var s=u&&e.as||c,d=\"\",f=[],h=e;if(null==e.theme){for(var m in h={},e)h[m]=e[m];h.theme=r}\"string\"==typeof e.className?d=q(t.registered,f,e.className):null!=e.className&&(d=e.className+\" \");var g=re(p.concat(f),t.registered,h);K(t,g,\"string\"==typeof s);d+=t.key+\"-\"+g.name,void 0!==i&&(d+=\" \"+i);var y=u&&void 0===o?de(s):l,b={};for(var v in e)u&&\"as\"===v||y(v)&&(b[v]=e[v]);return b.className=d,b.ref=n||e.innerRef,Object(a.createElement)(s,b)}))}));return m.displayName=void 0!==r?r:\"Styled(\"+(\"string\"==typeof c?c:c.displayName||c.name||\"Component\")+\")\",m.defaultProps=t.defaultProps,m.__emotion_real=m,m.__emotion_base=c,m.__emotion_styles=p,m.__emotion_forwardProp=o,Object.defineProperty(m,\"toString\",{value:function(){return\".\"+i}}),m.withComponent=function(t,r){return e(t,void 0!==r?fe({},n||{},{},r):n).apply(void 0,p)},m}}.bind();[\"a\",\"abbr\",\"address\",\"area\",\"article\",\"aside\",\"audio\",\"b\",\"base\",\"bdi\",\"bdo\",\"big\",\"blockquote\",\"body\",\"br\",\"button\",\"canvas\",\"caption\",\"cite\",\"code\",\"col\",\"colgroup\",\"data\",\"datalist\",\"dd\",\"del\",\"details\",\"dfn\",\"dialog\",\"div\",\"dl\",\"dt\",\"em\",\"embed\",\"fieldset\",\"figcaption\",\"figure\",\"footer\",\"form\",\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\",\"head\",\"header\",\"hgroup\",\"hr\",\"html\",\"i\",\"iframe\",\"img\",\"input\",\"ins\",\"kbd\",\"keygen\",\"label\",\"legend\",\"li\",\"link\",\"main\",\"map\",\"mark\",\"marquee\",\"menu\",\"menuitem\",\"meta\",\"meter\",\"nav\",\"noscript\",\"object\",\"ol\",\"optgroup\",\"option\",\"output\",\"p\",\"param\",\"picture\",\"pre\",\"progress\",\"q\",\"rp\",\"rt\",\"ruby\",\"s\",\"samp\",\"script\",\"section\",\"select\",\"small\",\"source\",\"span\",\"strong\",\"style\",\"sub\",\"summary\",\"sup\",\"table\",\"tbody\",\"td\",\"textarea\",\"tfoot\",\"th\",\"thead\",\"time\",\"title\",\"tr\",\"track\",\"u\",\"ul\",\"var\",\"video\",\"wbr\",\"circle\",\"clipPath\",\"defs\",\"ellipse\",\"foreignObject\",\"g\",\"image\",\"line\",\"linearGradient\",\"mask\",\"path\",\"pattern\",\"polygon\",\"polyline\",\"radialGradient\",\"rect\",\"stop\",\"svg\",\"text\",\"tspan\"].forEach((function(e){he[e]=he(e)}));var me=he,ge={scheme:\"monokai\",base00:\"#363755\",base01:\"#604D49\",base02:\"#6D5A55\",base03:\"#D1929B\",base04:\"#B79F8D\",base05:\"#F9F8F2\",base06:\"#F7F4F1\",base07:\"#FAF8F5\",base08:\"#FA3E7E\",base09:\"#FD993C\",base0A:\"#F6BF81\",base0B:\"#B8E248\",base0C:\"#B4EFE4\",base0D:\"#85D9EF\",base0E:\"#BE87FF\",base0F:\"#D6724C\"},ye={main:\"#ffa2b1\",main20:\"rgba(255, 162, 177, .2)\",main40:\"rgba(255, 162, 177, .4)\",main60:\"rgba(255, 162, 177, .6)\",main80:\"rgba(255, 162, 177, .8)\",main90:\"rgba(255, 162, 177, .9)\",mainBg:\"#363755\",softerMain:\"#BB91A3\",white:\"#fff\",white05:\"rgba(255, 255, 255, .05)\",white10:\"rgba(255, 255, 255, .1)\",white20:\"rgba(255, 255, 255, .2)\",white60:\"rgba(255, 255, 255, .6)\",white80:\"rgba(255, 255, 255, .8)\",black30:\"rgba(0, 0, 0, .3)\",lightYellow:\"#FFF9C4\",lightPink:\"#FB4B85\",darkGreen:\"#81AF6D\",syntax:ge},be=me(\"div\")({position:\"fixed\",bottom:\"16px\",right:\"16px\",background:ye.mainBg,boxShadow:\"0 0 30px \".concat(ye.black30),borderRadius:\"50%\",padding:\"4px 6px\",transition:\"opacity 0.3s\",zIndex:99999,\"&:hover\":{opacity:.7,cursor:\"pointer\"},\"& svg\":{width:\"34px\",height:\"34px\",position:\"relative\",bottom:\"-2px\"}});function ve(e){return c.a.createElement(be,{onClick:e.onClick},c.a.createElement(\"svg\",{width:\"530\",height:\"530\",viewBox:\"0 0 530 530\",xmlns:\"http://www.w3.org/2000/svg\",xmlnsXlink:\"http://www.w3.org/1999/xlink\"},c.a.createElement(\"title\",null,\"prosemirror\"),c.a.createElement(\"desc\",null,\"Created using Figma\"),c.a.createElement(\"use\",{xlinkHref:\"#a\",transform:\"matrix(2 0 0 2 118 116)\",fill:\"#FFF\"}),c.a.createElement(\"use\",{xlinkHref:\"#b\",transform:\"rotate(16 59.054 420.192) scale(2)\",fill:\"#FFF\"}),c.a.createElement(\"use\",{xlinkHref:\"#c\",transform:\"matrix(2 0 0 2 154.024 141.58)\",fill:\"#363755\"}),c.a.createElement(\"use\",{xlinkHref:\"#d\",transform:\"matrix(2 0 0 2 220 334.8)\",fill:\"#FFF\"}),c.a.createElement(\"use\",{xlinkHref:\"#e\",transform:\"matrix(2 0 0 2 218.826 262.052)\",fill:\"#363755\"}),c.a.createElement(\"use\",{xlinkHref:\"#f\",transform:\"matrix(2 0 0 2 197.108 184.998)\",fill:\"#FFF\"}),c.a.createElement(\"use\",{xlinkHref:\"#g\",transform:\"matrix(2 0 0 2 221.8 216)\",fill:\"#363755\"}),c.a.createElement(\"defs\",null,c.a.createElement(\"path\",{id:\"a\",d:\"M73.5 0C32.859 0 0 32.859 0 73.5S32.859 147 73.5 147 147 114.141 147 73.5 114.069 0 73.5 0z\"}),c.a.createElement(\"path\",{id:\"b\",d:\"M193.601 107.116c0-13.376 8.238-23.91 20.619-31.153-2.244-7.447-5.19-14.6-8.824-21.32-13.886 3.633-25.12-1.799-34.568-11.26-9.449-9.437-12.344-20.672-8.709-34.571A111.362 111.362 0 0 0 140.799 0c-7.243 12.37-20.339 20.594-33.689 20.594-13.363 0-26.446-8.225-33.701-20.594A110.888 110.888 0 0 0 52.1 8.812c3.634 13.9.753 25.134-8.721 34.57-9.436 9.462-20.67 14.894-34.569 11.26A112.178 112.178 0 0 0 0 75.963c12.369 7.243 20.593 17.777 20.593 31.153 0 13.352-8.224 26.448-20.593 33.704a113.338 113.338 0 0 0 8.811 21.321c13.899-3.634 25.133-.752 34.569 8.697 9.448 9.462 12.355 20.696 8.721 34.57a112.653 112.653 0 0 0 21.32 8.837c7.243-12.407 20.338-20.619 33.702-20.619 13.35 0 26.446 8.225 33.701 20.619a114.22 114.22 0 0 0 21.32-8.837c-3.634-13.874-.752-25.108 8.709-34.57 9.449-9.437 20.683-14.869 34.569-11.26a112.343 112.343 0 0 0 8.823-21.321c-12.406-7.256-20.644-17.789-20.644-31.141zm-86.491 46.57c-25.732 0-46.58-20.849-46.58-46.57 0-25.733 20.86-46.595 46.58-46.595 25.732 0 46.567 20.875 46.567 46.595 0 25.734-20.835 46.57-46.567 46.57z\"}),c.a.createElement(\"path\",{id:\"c\",d:\"M98.088 49.91c-6.9 83.9 10.8 103.401 10.8 103.401s-55.1 5.499-82.7-13.401c-30.5-20.9-26-67.5-25.9-94.6.1-28.4 25.6-45.8 49.9-45.3 29.1.5 50.2 21.6 47.9 49.9z\"}),c.a.createElement(\"path\",{id:\"d\",d:\"M.1.1c12.2 33.3 22.5 42.7 40 55.2 25.3 18 36.6 17.5 76.3 41C78.1 60.3 30.8 45.7 0 0l.1.1z\"}),c.a.createElement(\"path\",{id:\"e\",d:\"M.687 36.474c3 13.3 17.9 29.9 30.4 41.6 24.8 23.2 42 22.4 86 54.7-18.2-51.8-18.8-62-43.5-106.1-24.7-44-67.6-20.3-67.6-20.3s-8.4 16.6-5.3 29.9v.2z\"}),c.a.createElement(\"path\",{id:\"f\",d:\"M38.346 11.5s-4-11.6-18-11.5c-30 .2-28.8 52.1 16.9 52 39.6-.1 39.2-49.4 16.1-49.6-10.2-.2-15 9.1-15 9.1z\"}),c.a.createElement(\"path\",{id:\"g\",d:\"M26.5 15c10.8 0 2 14.9-.6 20.9-1.8-8.4-10.2-20.9.6-20.9zM10.2.1C4.6.1 0 4.6 0 10.3c0 5.6 4.5 10.2 10.2 10.2 5.6 0 10.2-4.5 10.2-10.2C20.4 4.7 15.9.1 10.2.1zM40.7 0c-4.8 0-8.8 4.5-8.8 10.2 0 5.6 3.9 10.2 8.8 10.2 4.8 0 8.8-4.5 8.8-10.2C49.5 4.6 45.6 0 40.7 0z\"}))))}be.displayName=\"FloattingButton\";var _e=n(148),we=n.n(_e),Ee=n(4),Se=n.n(Ee);function Oe(e){return(Oe=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function xe(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ce(e,t,n){return t&&ke(e.prototype,t),n&&ke(e,n),e}function Ae(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Te(e,t)}function Te(e,t){return(Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pe(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Re(e);if(t){var o=Re(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Me(this,n)}}function Me(e,t){return!t||\"object\"!==Oe(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function Re(e){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var De=me(\"div\")({display:\"flex\",listStyle:\"none\",borderBottom:\"1px solid \".concat(ye.main20)});De.displayName=\"TabList\";var Ie=me(\"div\")({height:\"100%\",width:\"100%\"});Ie.displayName=\"TabsStyled\";var Ne=me(\"div\")({color:ye.white,textTransform:\"uppercase\",fontSize:\"13px\",padding:\"16px 24px 14px\",boxSizing:\"border-box\",userSelect:\"none\",\"&:hover\":{cursor:\"pointer\",background:ye.white05},\"&:focus\":{outline:\"none\"}},(function(e){return{borderBottom:e.isSelected?\"2px solid \".concat(ye.main):\"none\"}}));Ne.displayName=\"TabStyled\";var je=function(e){Ae(n,e);var t=Pe(n);function n(){return xe(this,n),t.apply(this,arguments)}return Ce(n,[{key:\"render\",value:function(){var e=this;return c.a.createElement(Ne,{isSelected:this.props.index===this.context.tabs.selectedIndex,onClick:function(){(e.context.tabs.onSelect||function(){})(e.props.index)}},this.props.children)}}]),n}(c.a.Component);je.contextTypes={tabs:Se.a.object.isRequired};var Le=me(\"div\")({width:\"100%\",height:\"calc(100% - 48px)\",boxSizing:\"border-box\"});Le.displayName=\"TabPanelStyled\";var ze=function(e){Ae(n,e);var t=Pe(n);function n(){return xe(this,n),t.apply(this,arguments)}return Ce(n,[{key:\"render\",value:function(){return c.a.createElement(Le,null,this.props.children({index:this.context.tabs.selectedIndex}))}}]),n}(c.a.Component);ze.contextTypes={tabs:Se.a.object.isRequired};var Be=function(e){Ae(n,e);var t=Pe(n);function n(){return xe(this,n),t.apply(this,arguments)}return Ce(n,[{key:\"getChildContext\",value:function(){return{tabs:{onSelect:this.props.onSelect,selectedIndex:this.props.selectedIndex}}}},{key:\"render\",value:function(){return c.a.createElement(Ie,null,this.props.children)}}]),n}(c.a.Component);Be.childContextTypes={tabs:Se.a.object};var Ue=n(50),He=n.n(Ue),Fe=n(3),Ve=n(149),qe=n(121),Ke=n.n(qe);function $e(e,t){var n=function e(t,n,r){return r===n?t:n.content&&n.content.content?n.content.content.map((function(n,o){return e([].concat(t,\"content\",o),n,r)})).filter((function(e){return Array.isArray(e)&&e.length}))[0]:null}([],e,t);if(n)return n.reduce((function(e,t){return\"content\"===t&&\"content\"===e[e.length-1]||e.push(t),e}),[])}function Ge(e,t){var n=function e(t,n,r){return r===n?t:n.content?n.content===r?t.concat(\"content\"):n.content.map((function(n,o){return e([].concat(t,\"content\",o),n,r)})).filter((function(e){return Array.isArray(e)&&e.length}))[0]:null}([],e,t);if(n)return n.reduce((function(e,t){return e.push(t),\"content\"===t&&e.push(\"content\"),e}),[])}var We=n(2);function Ye(e){return(Ye=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function Xe(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function Je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(\"undefined\"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if(\"string\"==typeof e)return Ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ze(e,t)}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qe(e,t){return(Qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function et(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rt(e);if(t){var o=rt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tt(this,n)}}function tt(e,t){return!t||\"object\"!==Ye(t)&&\"function\"!=typeof t?nt(e):t}function nt(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function rt(e){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var it={top:0,left:0,width:0,height:0,active:!1},st=\"prosemirror-dev-tools-snapshots\",at=[\"#EA7C7F\",\"#67B0C6\",\"#94BB7F\",\"#CA9EDB\",\"#DCDC5D\",\"#B9CC7C\",\"#DD97D8\",\"#FFB761\",\"#4D8FD1\",\"#F36E98\",\"#E45F44\",\"#A6A4AE\",\"#FCC047\",\"#FFC129\",\"#D3929C\",\"#4CBCD4\",\"#8D7BC0\"];function ct(e){return Object.keys(e.nodes).reduce((function(e,t,n){var r=n>=at.length?function(e,t){var n=e/t;return Math.round(t*(n-Math.floor(n)))}(n,at.length):n;return e[t]=at[r],e}),{})}function lt(e){for(var t,n=e;!t&&n;)n.pmViewDesc&&(t=n),n=n.parentNode;return t}function ut(e){return{type:e.type,empty:e.empty,anchor:e.anchor,head:e.head,from:e.from,to:e.to}}function dt(e){var t=Fe.DOMSerializer.fromSchema(e.schema),n=e.selection,r=t.serializeFragment(n.content().content),o=[];if(r)for(var i=r.firstChild;i;)o.push(i.outerHTML),i=i.nextSibling;return{id:Ke()(),state:e,timestamp:Date.now(),diffPending:!0,diff:void 0,selection:void 0,selectionContent:Object(Ve.prettyPrint)(o.join(\"\\n\"),{max_char:60,indent_size:2})}}var pt=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qe(e,t)}(r,e);var t=et(r);function r(e,o){var i,s,a,c,l;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,r),ot(nt(i=t.call(this)),\"state\",{EditorState:function(){},view:null,state:{},schema:{},nodeColors:{},activeMarks:[],history:[],expandPath:[],historyRolledBackTo:!1,selectedHistoryItem:0,snapshots:JSON.parse(window.localStorage.getItem(st))||[],nodePicker:it}),ot(nt(i),\"activatePicker\",(function(){i.setState({nodePicker:Object.assign({},it,{active:!0})})})),ot(nt(i),\"deactivatePicker\",(function(){var e=i.state.nodePicker;e.onMouseOver&&document.removeEventListener(\"mouseover\",e.onMouseOver),e.onMouseOver&&document.removeEventListener(\"click\",e.onClick),i.setState({nodePicker:it})})),ot(nt(i),\"updateNodePickerPossition\",(function(e){var t=lt(e);if(t&&(t.pmViewDesc.node&&\"doc\"!==t.pmViewDesc.node.type.name||t.pmViewDesc.mark)){var n=t.getBoundingClientRect(),r=n.top,o=n.left,s=n.width,a=n.height;i.setState({nodePicker:{top:r+window.scrollY,left:o,width:s,height:a,active:!0}})}else i.setState({nodePicker:Object.assign({},it,{active:!0})})})),ot(nt(i),\"nodePickerSelect\",(function(e){var t=lt(e);if(t){var n=i.state.state,r=$e(n.doc,n.doc.nodeAt(t.pmViewDesc.posAtStart));i.setState({expandPath:r})}i.setState({nodePicker:it})})),ot(nt(i),\"saveSnapshot\",(function(){var e=prompt(\"Enter snapshot name\",Date.now());if(e){var t=[{name:e,timestamp:Date.now(),snapshot:i.state.state.doc.toJSON()}].concat(i.state.snapshots);i.setState({snapshots:t}),window.localStorage.setItem(st,JSON.stringify(t))}})),ot(nt(i),\"loadSnapshot\",(function(e){var t=i.state.EditorState,n=i.state.view,r=n.state,o=t.create({schema:r.schema,plugins:r.plugins,doc:r.schema.nodeFromJSON(e.snapshot)});i.setState({history:[dt(o)],state:o}),n.updateState(o)})),ot(nt(i),\"deleteSnapshot\",(function(e){var t=i.state.snapshots,n=t.indexOf(e);t.splice(n,1),i.setState({snapshots:[].concat(t)}),window.localStorage.setItem(st,JSON.stringify(t))})),ot(nt(i),\"logNodeFromJSON\",(function(e){var t=e.doc,n=e.node,r=i.state.state.doc,o=Ge(t,n);o?console.log(o.reduce((function(e,t){return e[t]}),r)):console.log(n)})),ot(nt(i),\"selectHistoryItem\",(function(e){return i.setState({selectedHistoryItem:e})})),ot(nt(i),\"rollbackHistory\",(function(e){var t=i.state.EditorState,n=i.state.history[e].state,r=i.state.view,o=t.create({schema:n.schema,plugins:n.plugins,doc:n.schema.nodeFromJSON(n.doc.toJSON())});r.updateState(o),r.dom.focus();var s=r.state.tr.setSelection(n.selection).setMeta(\"addToHistory\",!1).setMeta(\"_skip-dev-tools-history_\",!0);r.dispatch(s),i.setState({state:o,historyRolledBackTo:e})})),i.diffWorker=o&&o.diffWorker?n.e(2).then(n.bind(null,454)).then((function(e){return new(0,e.JsonDiffWorker)(o.diffWorker)})):n.e(1).then(n.bind(null,455)).then((function(e){return new(0,e.JsonDiffMain)})),i.state=Object.assign({},i.state,{EditorState:We.EditorState,view:e,state:e.state,nodeColors:ct(e.state.schema),history:[{state:e.state,timestamp:Date.now()}]}),a=function(e,t,n){var r,o,s,a,c=function(e,t,n,r){if(!n.getMeta(\"_skip-dev-tools-history_\")){var o=function(e,t){var n=!1!==t?t:0;return e.slice(n,200)}(e,t);return o.unshift(dt(r)),o}}(i.state.history,i.state.historyRolledBackTo,e,n);if(t&&c){var l=Je(c,1)[0].id,u=nt(i);(r=He.a.mark((function e(){var r,o,s,a,d,p;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.diffWorker;case 2:return r=e.sent,e.next=5,Promise.all([r.diff({a:t.doc.toJSON(),b:n.doc.toJSON(),id:l}),r.diff({a:ut(t.selection),b:ut(n.selection),id:l})]);case 5:o=e.sent,s=Je(o,2),a=s[0].delta,d=s[1].delta,p=c.map((function(e){return e.id===l?Object.assign({},e,{diff:a,diffPending:!1,selection:d}):e})),u.setState({history:p});case 11:case\"end\":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(n,o){var i=r.apply(e,t);function s(e){Xe(i,n,o,s,a,\"next\",e)}function a(e){Xe(i,n,o,s,a,\"throw\",e)}s(void 0)}))})()}i.setState({state:n,nodeColors:ct(n.schema),activeMarks:(o=n,s=o.selection,a=[],s.empty?a=s.storedMarks||s.$from.marks():o.doc.nodesBetween(s.from,s.to,(function(e){a=a.concat(e.marks)})),a=a.reduce((function(e,t){return-1===e.indexOf(t)&&e.push(t),e}),[]).map((function(e){return e.toJSON()}))),history:c||i.state.history,selectedHistoryItem:c?0:i.state.selectedHistoryItem,historyRolledBackTo:!c&&i.state.historyRolledBackTo})},c=((s=e)._props.dispatchTransaction||s.dispatch).bind(s),l=function(e){var t=s.state;c(e),a(e,t,s.state)},s._props.dispatchTransaction?s._props.dispatchTransaction=l:s.dispatch=l,i}return r}(v);function ft(e){return(ft=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function ht(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function mt(e,t){return(mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gt(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vt(e);if(t){var o=vt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yt(this,n)}}function yt(e,t){return!t||\"object\"!==ft(t)&&\"function\"!=typeof t?bt(e):t}function bt(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function vt(e){return(vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wt=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mt(e,t)}(n,e);var t=gt(n);function n(){var e;ht(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return _t(bt(e=t.call.apply(t,[this].concat(o))),\"state\",{selectionExpanded:!1}),_t(bt(e),\"toggleSelection\",(function(){e.setState({selectionExpanded:!e.state.selectionExpanded})})),e}return n}(v),Et=[\"jsonID\",\"empty\",\"anchor\",\"from\",\"head\",\"to\",\"$anchor\",\"$head\",\"$cursor\",\"$to\",\"$from\"],St={$from:[\"nodeAfter\",\"nodeBefore\",\"parent\",\"textOffset\",\"depth\",\"pos\"],$to:[\"nodeAfter\",\"nodeBefore\",\"parent\",\"textOffset\",\"depth\",\"pos\"]},Ot=[\"nodeAfter\",\"nodeBefore\",\"parent\"];function xt(e,t,n){return t.reduce((function(t,r){return n&&n[r]?t[r]=n[r].reduce((function(t,n){return t[n]=-1!==Ot.indexOf(n)&&e[r][n]?e[r][n].toJSON():e[r][n],t}),{}):t[\"jsonID\"===r?\"type\":r]=e[r],t}),{})}function kt(e){return xt(e,Et.slice(0,6))}var Ct=me(\"div\")({display:\"flex\",height:\"100%\"});Ct.displayName=\"SplitView\";var At=me(\"div\")({boxSizing:\"border-box\",height:\"100%\",overflow:\"scroll\"},(function(e){var t=e.grow,n=e.sep,r=e.noPaddings,o=e.minWidth,i=e.maxWidth;return{flexGrow:t?1:0,borderLeft:n?\"1px solid \"+ye.main20:\"none\",padding:r?\"\":\"16px 18px 18px\",minWidth:o?\"\".concat(o,\"px\"):\"none\",maxWidth:i?\"\".concat(i,\"px\"):\"none\"}}));At.displayName=\"SplitViewCol\";var Tt=n(150),Pt=n.n(Tt);function Mt(){return(Mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Rt(e){return c.a.createElement(Pt.a,Mt({invertTheme:!1,theme:ge,hideRoot:!0},e))}var Dt=me(\"h2\")({color:ye.softerMain,padding:0,margin:0,fontWeight:400,letterSpacing:\"1px\",fontSize:\"13px\",textTransform:\"uppercase\",flexGrow:1});Dt.displayName=\"Heading\";var It=me(\"div\")({display:\"flex\"});It.displayName=\"HeadingWithButton\";var Nt=me(\"button\")({padding:\"6px 10px\",margin:\"-6px -10px 0 8px\",fontWeight:400,letterSpacing:\"1px\",fontSize:\"11px\",color:ye.white80,textTransform:\"uppercase\",transition:\"background 0.3s, color 0.3s\",borderRadius:\"2px\",border:\"none\",background:\"transparent\",\"&:hover\":{background:ye.main40,color:ye.white,cursor:\"pointer\"},\"&:focus\":{outline:\"none\"},\"&:active\":{background:ye.main60}});Nt.displayName=\"HeadingButton\";var jt=me(\"div\")({padding:\"0 0 9px 0\",overflow:\"hidden\"});jt.displayName=\"JSONTreeWrapper\";var Lt=me(\"div\")({minWidth:\"180px\",boxSizing:\"border-box\",\"& + &\":{paddingTop:\"9px\"}});Lt.displayName=\"Section\";var zt=me(\"div\")({margin:\"0.5em 0px 0.5em 1em\"});zt.displayName=\"Group\";var Bt=me(\"div\")({paddingTop:\"0.25em\"});Bt.displayName=\"GroupRow\";var Ut=me(\"span\")({display:\"inline-block\",color:ye.syntax.base0D,margin:\"0px 0.5em 0px 0px\"});Ut.displayName=\"Key\";var Ht=me(\"span\")({color:ye.syntax.base09});Ht.displayName=\"ValueNum\";var Ft=me(\"button\")({color:ye.white60,background:\"none\",border:\"none\",transition:\"background 0.3s, color 0.3s\",borderRadius:\"3px\",\"&:hover\":{cursor:\"pointer\",background:ye.main40,color:ye.white},\"&:focus\":{outline:\"none\"}});function Vt(e,t){return function(n,r,o,i){var s=c.a.createElement(Ft,{onClick:function(n){n.preventDefault(),n.stopPropagation(),t({doc:e,node:r})}},\"log\");return\"Object\"===n&&r.type?c.a.createElement(\"span\",null,\"{} \",r.type,\" \",s):c.a.createElement(\"span\",null,o,\" \",i,\" \",s)}}function qt(e,t,n,r){return\"Object\"===e&&t.type?c.a.createElement(\"span\",null,\"{} \",t.type):c.a.createElement(\"span\",null,n,\" \",r)}function Kt(){return c.a.createElement(w,{to:[pt,wt]},(function(e,t){var n,r=e.logNodeFromJSON,o=e.state,i=o.state,s=o.activeMarks,a=o.expandPath,l=t.toggleSelection,u=t.state.selectionExpanded,d=i.doc.toJSON();return c.a.createElement(Ct,null,c.a.createElement(At,{grow:!0},c.a.createElement(It,null,c.a.createElement(Dt,null,\"Current Doc\"),c.a.createElement(Nt,{onClick:function(){return console.log(i)}},\"Log State\")),c.a.createElement(Rt,{data:d,hideRoot:!0,getItemString:Vt(d,r),shouldExpandNode:function(e){return function(e,t){var n=[].concat(t).reverse();return!!e&&(e.push(\"attrs\"),!(n.length>e.length)&&(n.join(\".\")===e.join(\".\")||!!n.every((function(t,n){return t===e[n]}))))}(a,e)}})),c.a.createElement(At,{sep:!0,minWidth:220},c.a.createElement(Lt,null,c.a.createElement(It,null,c.a.createElement(Dt,null,\"Selection\"),c.a.createElement(Nt,{onClick:function(){return l()}},u?\"\":\"\")),c.a.createElement(jt,null,c.a.createElement(Rt,{data:u?(n=i.selection,xt(n,Et,St)):kt(i.selection),hideRoot:!0}))),c.a.createElement(Lt,null,c.a.createElement(Dt,null,\"Active Marks\"),c.a.createElement(jt,null,s.length?c.a.createElement(Rt,{data:s,hideRoot:!0,getItemString:qt}):c.a.createElement(zt,null,c.a.createElement(Bt,null,c.a.createElement(Ut,null,\"no active marks\"))))),c.a.createElement(Lt,null,c.a.createElement(Dt,null,\"Document Stats\"),c.a.createElement(zt,null,c.a.createElement(Bt,null,c.a.createElement(Ut,null,\"nodeSize:\"),c.a.createElement(Ht,null,i.doc.nodeSize)),c.a.createElement(Bt,null,c.a.createElement(Ut,null,\"childCount:\"),c.a.createElement(Ht,null,i.doc.childCount))))))}))}Ft.displayName=\"LogNodeButton\";var $t=me(\"div\")({position:\"relative\",top:\"50%\",transform:\"translateY(-50%)\",textAlign:\"center\",color:ye.main,fontSize:\"14px\"});function Gt(){return(Gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Wt(e){return(Wt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function Yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xt(e,t){return(Xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jt(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qt(e);if(t){var o=Qt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zt(this,n)}}function Zt(e,t){return!t||\"object\"!==Wt(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function Qt(e){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}$t.displayName=\"InfoPanel\";var en=function(){},tn=me(\"div\")({minWidth:\"190px\",width:\"100%\",display:\"flex\",boxSizing:\"border-box\",fontWeight:400,letterSpacing:\"1px\",fontSize:\"11px\",color:ye.white80,textTransform:\"uppercase\",transition:\"background .3s\",textAlign:\"left\",fontFamily:\"monospace\",border:\"none\",borderTop:\"1px solid \".concat(ye.main20),margin:0,\"&:first-child\":{borderTop:\"none\"},\"&:hover\":{background:ye.main40,color:ye.white,cursor:\"pointer\"},\"&:focus\":{outline:\"none\"},\"&:active\":{background:ye.main60}},(function(e){return{opacity:e.isDimmed?.3:1,padding:e.nested?\"6px 18px 6px 36px\":\"6px 18px\",background:e.background?e.background(e):e.isSelected?ye.main40:\"transparent\"}}));tn.displayName=\"ListItem\";var nn=me(\"div\")({display:\"block\"},(function(e){return{display:e.collapsed?\"none\":\"block\"}}));nn.displayName=\"ListItemGroupContent\";var rn=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xt(e,t)}(i,e);var t,n,r,o=Jt(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,i),(t=o.call(this,e)).state={collapsed:!0},t}return t=i,(n=[{key:\"toggle\",value:function(){this.setState({collapsed:!this.state.collapsed})}},{key:\"render\",value:function(){var e=this,t=this.props,n=t.items,r=t.groupTitle,o=t.title,i=t.isSelected,s=void 0===i?en:i,a=t.isPrevious,l=void 0===a?en:a,u=t.isDimmed,d=void 0===u?en:u,p=t.getKey,f=void 0===p?en:p,h=t.onListItemClick,m=void 0===h?en:h,g=t.onListItemDoubleClick,y=void 0===g?en:g,b=t.customItemBackground;return c.a.createElement(\"div\",null,c.a.createElement(tn,{key:f(n[0]),onClick:function(){return e.toggle()},isSelected:n.some(s)&&this.state.collapsed,isPrevious:l(n[0],0)&&this.state.collapsed,isDimmed:n.every(d),background:b},c.a.createElement(\"div\",{style:{flexGrow:1}},r(n,0)),c.a.createElement(\"div\",null,this.state.collapsed?\"\":\"\")),c.a.createElement(nn,{collapsed:this.state.collapsed},(n||[]).map((function(e,t){return c.a.createElement(tn,{key:f(e),nested:!0,isSelected:s(e,t),isPrevious:l(e,t),isDimmed:d(e,t),background:b,onClick:function(){return m(e,t)},onDoubleClick:function(){return y(e,t)}},o(e,t))}))))}}])&&Yt(t.prototype,n),r&&Yt(t,r),i}(a.PureComponent);function on(e){var t=e.isSelected,n=void 0===t?en:t,r=e.isPrevious,o=void 0===r?en:r,i=e.isDimmed,s=void 0===i?en:i,a=e.getKey,l=void 0===a?en:a,u=e.onListItemClick,d=void 0===u?en:u,p=e.onListItemDoubleClick,f=void 0===p?en:p;return c.a.createElement(\"div\",null,(e.items||[]).map((function(t,r){return Array.isArray(t)?c.a.createElement(rn,Gt({},e,{items:t,key:t[0].timestamp}),e.groupTitle(t,r)):c.a.createElement(tn,{key:l(t),isSelected:n(t,r),isPrevious:o(t,r),isDimmed:s(t,r),background:e.customItemBackground,onClick:function(){return d(t,r)},onDoubleClick:function(){return f(t,r)}},e.title(t,r))})))}var sn=me(\"span\")({color:ye.main});sn.displayName=\"Updated\";var an=me(\"span\")({color:ye.white});an.displayName=\"White\";var cn=me(\"span\")({display:\"inline-block\",background:ye.lightYellow,color:ye.lightPink,padding:\"1px 3px 2px\",textIndent:0,textDecoration:\"line-through\",minHeight:\"1ex\"});cn.displayName=\"Deleted\";var ln=me(\"span\")({display:\"inline-block\",background:ye.lightYellow,color:ye.darkGreen,padding:\"1px 3px 2px\",textIndent:0,minHeight:\"1ex\"});function un(e){if(e&&\"a\"===e._t){var t={};for(var n in e)\"_t\"!==n&&(\"_\"!==n[0]||e[n.substr(1)]?e[\"_\"+n]?t[n]=[e[\"_\"+n][0],e[n][0]]:e[\"_\"+n]||\"_\"===n[0]||(t[n]=e[n]):t[n.substr(1)]=e[n]);return t}return e}function dn(e){return e[0]}function pn(e){return\"string\"==typeof e?e:function(e){if(null===e)return\"null\";var t=JSON.stringify(e);return void 0===t?\"undefined\":t.length>22?\"\".concat(t.substr(0,15),\"\").concat(t.substr(-5)):t}(e)}function fn(e){return e.split(/\\n/gm).slice(1).map((function(e){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e.startsWith(\"-\")?\"delete\":e.startsWith(\"+\")?\"add\":\"raw\",e.substr(1).replace(/\\s/gm,\"\"))}))}function hn(e){if(Array.isArray(e)){if(1===e.length)return c.a.createElement(ln,null,pn(e[0]));if(2===e.length)return c.a.createElement(sn,null,c.a.createElement(cn,null,pn(e[0])),\" =>\",\" \",c.a.createElement(ln,null,pn(e[1])));if(3===e.length&&0===e[1]&&0===e[2])return c.a.createElement(cn,null,pn(e[0]));if(3===e.length&&2===e[2])return c.a.createElement(sn,null,'\"',fn(e[0]).map((function(e){return e.delete?c.a.createElement(cn,{key:e.delete+\"delete\"},e.delete):e.add?c.a.createElement(ln,{key:e.add+\"add\"},e.add):c.a.createElement(an,{key:e.raw+\"raw\"},e.raw)})),'\"')}return\"\"+e}function mn(e,t,n,r){switch(e){case\"Object\":return c.a.createElement(\"span\",null,\"{}\");default:return c.a.createElement(\"span\",null,n,\" \",r)}}function gn(e){return e.delta?c.a.createElement(Rt,{data:e.delta,hideRoot:!0,postprocessValue:un,labelRenderer:dn,valueRenderer:hn,isCustomNode:Array.isArray,getItemString:mn,shouldExpandNode:function(){return!0}}):null}function yn(e){return(yn=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function bn(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _n(e,t){return(_n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wn(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn(e);if(t){var o=Sn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return En(this,n)}}function En(e,t){return!t||\"object\"!==yn(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function Sn(e){return(Sn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ln.displayName=\"Added\";var On=me(\"pre\")({padding:\"9px 0 18px 0 !important\",margin:0,color:ye.white80,\"& .prosemirror-dev-tools-highlighter-tag\":{color:ye.main}});On.displayName=\"CustomPre\";var xn=/(&lt;\\/?[\\w\\d\\s=\"']+&gt;)/gim,kn=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_n(e,t)}(i,e);var t,n,r,o=wn(i);function i(){return bn(this,i),o.apply(this,arguments)}return t=i,(n=[{key:\"render\",value:function(){return this.props.children?c.a.createElement(On,{dangerouslySetInnerHTML:{__html:(e=this.props.children,e.replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\").replace(xn,\"<span class='prosemirror-dev-tools-highlighter-tag'>$&</span>\"))}}):null;var e}}])&&vn(t.prototype,n),r&&vn(t,r),i}(c.a.Component),Cn=me(\"div\")({minWidth:\"180px\",boxSizing:\"border-box\",\"& + &\":{paddingTop:\"9px\"}});function An(e){return(\"00\"+e).slice(-2)}Cn.displayName=\"Section\";var Tn=function(e){var t,n=new Date(e);return[An(n.getHours()),An(n.getMinutes()),An(n.getSeconds()),(t=n.getMilliseconds(),(\"000\"+t).slice(-3))].join(\":\")};function Pn(e){return e.selectionContent?c.a.createElement(Cn,null,c.a.createElement(Dt,null,\"Selection Content\"),c.a.createElement(kn,null,e.selectionContent)):null}function Mn(e){return e.diff?c.a.createElement(Cn,null,c.a.createElement(Dt,null,\"Doc diff\"),c.a.createElement(gn,{delta:e.diff})):null}function Rn(e){return e.selection?c.a.createElement(Cn,null,c.a.createElement(Dt,null,\"Selection diff\"),c.a.createElement(gn,{delta:e.selection})):null}function Dn(){return c.a.createElement(w,{to:[pt]},(function(e){var t=e.selectHistoryItem,n=e.rollbackHistory,r=e.state,o=r.history,i=r.selectedHistoryItem,s=r.historyRolledBackTo,a=o[i+1],l=o[i],u=o[s],d=o.reduce((function(e,t,n){var r=e[e.length-1];return t.index=n,t.diff?e.push(t):r&&Array.isArray(r)?r.push(t):e.push([t]),e}),[]).reduce((function(e,t){return Array.isArray(t)&&1===t.length?e.push(t[0]):e.push(t),e}),[]);return c.a.createElement(Ct,null,c.a.createElement(At,{noPaddings:!0,minWidth:190},c.a.createElement(on,{items:d,getKey:function(e){return e.timestamp},title:function(e){return Tn(e.timestamp)},groupTitle:function(e){return Tn(e[0].timestamp)+\" [\".concat(e.length,\"]\")},isSelected:function(e){return e.timestamp===l.timestamp},isPrevious:function(e){return a&&e.timestamp===a.timestamp},isDimmed:function(e){return u&&e.timestamp>u.timestamp},customItemBackground:function(e){return e.isSelected?ye.main40:e.isPrevious?ye.main20:\"transparent\"},onListItemClick:function(e){return t(e.index)},onListItemDoubleClick:function(e){return n(e.index)}})),c.a.createElement(At,{grow:!0,sep:!0},c.a.createElement(Mn,{diff:l.diff}),c.a.createElement(Rn,{selection:l.selection}),c.a.createElement(Pn,{selectionContent:l.selectionContent}),!l.diff&&!l.selectionContent&&!l.diffPending&&c.a.createElement($t,null,\"Docs are equal.\")))}))}function In(e){return(In=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function Nn(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function jn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ln(e,t){return(Ln=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zn(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Un(e);if(t){var o=Un(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bn(this,n)}}function Bn(e,t){return!t||\"object\"!==In(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function Un(e){return(Un=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Hn=[\"schema\",\"contentExpr\",\"schema\",\"parseDOM\",\"toDOM\"];function Fn(e,t){return t&&\"[object Object]\"===Object.prototype.toString.call(t)?Object.keys(t).filter((function(t){return-1===e.indexOf(t)})).reduce((function(e,n){return e[n]=t[n],e}),{}):t}var Vn=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ln(e,t)}(i,e);var t,n,r,o=zn(i);function i(){return Nn(this,i),o.apply(this,arguments)}return t=i,(n=[{key:\"shouldComponentUpdate\",value:function(e){return this.props.schema!==e.schema}},{key:\"render\",value:function(){var e=this.props.schema;return c.a.createElement(Ct,null,c.a.createElement(At,{grow:!0},c.a.createElement(Dt,null,\"Nodes\"),c.a.createElement(Rt,{data:e.nodes,postprocessValue:Fn.bind(null,Hn)})),c.a.createElement(At,{grow:!0,sep:!0},c.a.createElement(Dt,null,\"Marks\"),c.a.createElement(Rt,{data:e.marks,postprocessValue:Fn.bind(null,Hn)})))}}])&&jn(t.prototype,n),r&&jn(t,r),i}(c.a.Component);function qn(){return c.a.createElement(w,{to:[pt]},(function(e){var t=e.state.state.schema;return c.a.createElement(Vn,{schema:t})}))}function Kn(e){return(Kn=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function $n(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function Gn(e,t){return(Gn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wn(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Jn(e);if(t){var o=Jn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yn(this,n)}}function Yn(e,t){return!t||\"object\"!==Kn(t)&&\"function\"!=typeof t?Xn(e):t}function Xn(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Jn(e){return(Jn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qn=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gn(e,t)}(n,e);var t=Wn(n);function n(){var e;$n(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Zn(Xn(e=t.call.apply(t,[this].concat(o))),\"state\",{selected:0}),Zn(Xn(e),\"selectPlugin\",(function(t){e.setState({selected:t})})),e}return n}(v);function er(e){return\"function\"==typeof(arguments.length<=1?void 0:arguments[1])?\"func\":e}function tr(e){return c.a.createElement(\"div\",null,c.a.createElement(Dt,null,\"Plugin State\"),c.a.createElement(Rt,{data:e.pluginState,valueRenderer:er}))}function nr(){return c.a.createElement(w,{to:[pt,Qn]},(function(e,t){var n=e.state.state,r=n.plugins,o=r[t.state.selected].getState(n);return c.a.createElement(Ct,null,c.a.createElement(At,{noPaddings:!0},c.a.createElement(on,{items:r,getKey:function(e){return e.key},title:function(e){return e.key},isSelected:function(e,n){return t.state.selected===n},isDimmed:function(e){return!e.getState(n)},onListItemClick:function(e,n){return t.selectPlugin(n)}})),c.a.createElement(At,{grow:!0,sep:!0},o?c.a.createElement(tr,{pluginState:o}):c.a.createElement($t,null,\"Plugin doesn't have any state\")))}))}function rr(e){return(rr=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function or(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function ir(e,t){return(ir=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sr(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=lr(e);if(t){var o=lr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ar(this,n)}}function ar(e,t){return!t||\"object\"!==rr(t)&&\"function\"!=typeof t?cr(e):t}function cr(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function lr(e){return(lr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ur(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dr=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ir(e,t)}(n,e);var t=sr(n);function n(){var e;or(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return ur(cr(e=t.call.apply(t,[this].concat(o))),\"state\",{selectedNode:null}),ur(cr(e),\"selectNode\",(function(t){var n=t.node;e.setState({selectedNode:n})})),e}return n}(v),pr=me(\"div\")({marginTop:\"12px\"});pr.displayName=\"GraphWrapper\";var fr=me(\"div\")({});fr.displayName=\"BlockNodeWrapper\";var hr=me(\"div\")({padding:\"0 12px\",boxSizing:\"border-box\",borderLeft:\"1px solid \".concat(ye.white20),borderRight:\"1px solid \".concat(ye.white20)});hr.displayName=\"BlockNodeContentView\";var mr=me(\"div\")({padding:\"0 12px\",display:\"flex\",width:\"100%\",boxSizing:\"border-box\",borderLeft:\"1px solid \".concat(ye.white20),borderRight:\"1px solid \".concat(ye.white20),flexWrap:\"wrap\"});mr.displayName=\"BlockNodeContentViewWithInline\";var gr=me(\"div\")({width:\"100%\",marginBottom:\"3px\",boxSizing:\"border-box\",display:\"flex\",\"&:hover\":{cursor:\"pointer\"}},(function(e){return{background:e.bg}}));gr.displayName=\"BlockNodeView\";var yr=me(\"div\")({padding:\"3px 6px\",background:\"rgba(255, 255, 255, 0.3)\"});yr.displayName=\"Side\";var br=me(\"div\")({flexGrow:1,padding:\"3px 9px\",whiteSpace:\"pre\"});br.displayName=\"Center\";var vr=me(\"div\")({flexGrow:1,marginBottom:\"3px\",display:\"flex\",boxSizing:\"border-box\",\"&:hover\":{cursor:\"pointer\"}},(function(e){return{background:e.bg}}));function _r(e){if(!e.content||!e.content.content||!e.content.content.length)return null;var t=e.content.content;if(t[0].isBlock){var n=e.startPos+1;return c.a.createElement(hr,null,t.map((function(t,r){var o=n;return n+=t.nodeSize,c.a.createElement(wr,{key:r,node:t,colors:e.colors,onNodeSelected:e.onNodeSelected,startPos:o})})))}var r=e.startPos;return c.a.createElement(mr,null,t.map((function(t,n){var o=r;return r+=t.nodeSize,c.a.createElement(Er,{key:n,index:n,node:t,bg:e.colors[t.type.name],onNodeSelected:e.onNodeSelected,startPos:o})})))}function wr(e){var t=e.colors,n=e.node,r=e.startPos,o=t[n.type.name];return c.a.createElement(fr,null,c.a.createElement(gr,{bg:o,onClick:function(){return e.onNodeSelected({node:n})}},c.a.createElement(yr,null,r),c.a.createElement(br,null,n.type.name),c.a.createElement(yr,null,r+n.nodeSize-1)),c.a.createElement(_r,{content:n.content,colors:t,onNodeSelected:e.onNodeSelected,startPos:r}))}function Er(e){var t=e.node,n=e.bg,r=e.startPos,o=e.index,i=1===t.marks.length?\" - [\".concat(t.marks[0].type.name,\"]\"):t.marks.length>1?\" - [\".concat(t.marks.length,\" marks]\"):\"\";return c.a.createElement(vr,{onClick:function(){return e.onNodeSelected({node:t})},bg:n},0===o?c.a.createElement(yr,null,r):null,c.a.createElement(br,null,t.type.name,\" \",i),c.a.createElement(yr,null,r+t.nodeSize))}function Sr(){return c.a.createElement(w,{to:[pt,dr]},(function(e,t){var n=e.state,r=n.state,o=n.nodeColors,i=t.state.selectedNode,s=i||r.doc;return c.a.createElement(Ct,null,c.a.createElement(At,{grow:!0},c.a.createElement(Dt,null,\"Current Doc\"),c.a.createElement(pr,null,c.a.createElement(wr,{colors:o,node:r.doc,startPos:0,onNodeSelected:t.selectNode}))),c.a.createElement(At,{sep:!0,minWidth:200,maxWidth:300},c.a.createElement(It,null,c.a.createElement(Dt,null,\"Node Info\"),c.a.createElement(Nt,{onClick:function(){return console.log(s)}},\"Log Node\")),c.a.createElement(Rt,{data:s.toJSON(),hideRoot:!0,shouldExpandNode:function(){return\"doc\"!==s.type.name}})))}))}function Or(e){return(Or=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function xr(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function kr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cr(e,t){return(Cr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ar(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Pr(e);if(t){var o=Pr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tr(this,n)}}function Tr(e,t){return!t||\"object\"!==Or(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function Pr(e){return(Pr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}vr.displayName=\"InlineNodeView\";var Mr=me(\"button\")({padding:\"6px 10px\",fontWeight:400,letterSpacing:\"1px\",fontSize:\"11px\",color:ye.white80,background:ye.white10,textTransform:\"uppercase\",transition:\"background 0.3s, color 0.3s\",borderRadius:\"2px\",border:\"none\",\"& + &\":{marginLeft:\"4px\"},\"&:hover\":{background:ye.main40,color:ye.white,cursor:\"pointer\"},\"&:focus\":{outline:\"none\"},\"&:active\":{background:ye.main60}});Mr.displayName=\"ActionButton\";var Rr=me(\"div\")({height:\"24px\",lineHeight:\"24px\",display:\"flex\",width:\"100%\"});Rr.displayName=\"ListItem\";var Dr=me(\"div\")({flexGrow:1});function Ir(e){var t=e.snapshots,n=e.deleteSnapshot,r=e.loadSnapshot;return c.a.createElement(on,{getKey:function(e){return e.name+e.timestamp},items:t,title:function(e){return c.a.createElement(Rr,null,c.a.createElement(Dr,null,e.name),c.a.createElement(\"div\",null,c.a.createElement(Mr,{onClick:function(){return n(e)}},\"delete\"),c.a.createElement(Mr,{onClick:function(){return r(e)}},\"restore\")))}})}Dr.displayName=\"ListItemTitle\";var Nr=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cr(e,t)}(i,e);var t,n,r,o=Ar(i);function i(){return xr(this,i),o.apply(this,arguments)}return t=i,(n=[{key:\"shouldComponentUpdate\",value:function(e){return this.props.snapshots!==e.snapshots}},{key:\"render\",value:function(){var e=this.props,t=e.snapshots,n=e.loadSnapshot,r=e.deleteSnapshot;return c.a.createElement(Ct,null,c.a.createElement(At,{noPaddings:!0,grow:!0},t&&t.length?c.a.createElement(Ir,{snapshots:t,loadSnapshot:n,deleteSnapshot:r}):c.a.createElement($t,null,'No saved snapshots yet. Press \"Save Snapshot\" button to add one.')))}}])&&kr(t.prototype,n),r&&kr(t,r),i}(c.a.Component);function jr(){return c.a.createElement(w,{to:[pt]},(function(e){var t=e.state.snapshots,n=e.loadSnapshot,r=e.deleteSnapshot;return c.a.createElement(Nr,{snapshots:t,loadSnapshot:n,deleteSnapshot:r})}))}var Lr=me(\"div\")({fontSize:\"100%\",lineHeight:1,\"& li + li\":{margin:0}});Lr.displayName=\"CSSReset\";var zr=Lr;function Br(e){return(Br=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function Ur(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function Hr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fr(e,t){return(Fr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vr(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$r(e);if(t){var o=$r(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qr(this,n)}}function qr(e,t){return!t||\"object\"!==Br(t)&&\"function\"!=typeof t?Kr(e):t}function Kr(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function $r(e){return($r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wr=me(\"div\")({position:\"absolute\",pointerEvents:\"none\",top:0,left:0,background:\"rgba(0, 0, 255, 0.3)\",zIndex:99999,cursor:\"pointer\"},(function(e){var t=e.nodePicker;return{transform:\"translateX(\".concat(t.left,\"px) translateY(\").concat(t.top,\"px)\"),display:t.top&&t.left?\"block\":\"none\",width:\"\".concat(t.width,\"px\"),height:\"\".concat(t.height,\"px\")}}));Wr.displayName=\"NodePickerStyled\";var Yr=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fr(e,t)}(i,e);var t,n,r,o=Vr(i);function i(){var e;Ur(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Gr(Kr(e=o.call.apply(o,[this].concat(n))),\"handleMouseMove\",(function(t){e.props.nodePicker.active&&e.props.onMouseMove(t.target)})),Gr(Kr(e),\"handleNodeClick\",(function(t){e.props.nodePicker.active&&(t.preventDefault(),e.props.onSelect(t.target))})),Gr(Kr(e),\"closePicker\",(function(){e.props.nodePicker.active&&e.props.onClose()})),e}return t=i,(n=[{key:\"componentDidMount\",value:function(){this.props.nodePicker.active&&this.initEventHandlers()}},{key:\"componentWillReceiveProps\",value:function(e){this.destroyEventHandlers(),e.nodePicker.active&&this.initEventHandlers()}},{key:\"componentWillUnmount\",value:function(){this.destroyEventHandlers()}},{key:\"initEventHandlers\",value:function(){document.addEventListener(\"mousemove\",this.handleMouseMove),document.addEventListener(\"click\",this.handleNodeClick),document.addEventListener(\"keydown\",this.closePicker)}},{key:\"destroyEventHandlers\",value:function(){document.removeEventListener(\"mousemove\",this.handleMouseMove),document.removeEventListener(\"click\",this.handleNodeClick),document.removeEventListener(\"keydown\",this.closePicker)}},{key:\"render\",value:function(){return c.a.createElement(Wr,{nodePicker:this.props.nodePicker})}}])&&Hr(t.prototype,n),r&&Hr(t,r),i}(c.a.Component),Xr=me(\"div\")({position:\"absolute\",right:\"4px\",top:\"-28px\",width:\"24px\",height:\"24px\",borderRadius:\"3px\",\"&:hover\":{backgroundColor:ye.main80,cursor:\"pointer\"}},(function(e){var t=e.isActive;return{background:\"\".concat(t?ye.main:ye.main60,' url(\"').concat(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAQAAAACNCElAAAAxklEQVRIx+2Vuw3DMAxEXWUD9VrKvTYJRzAygWpPkSVcBlDtJS6Fg8AQqQ+lAEECXU08iid+pmnoTwWDKzbU6IEbLnkYQaMlD9uA6iqAUArQwDBgX4T1Z+uF4Q4PB/sZmH/1e1BCRZiLhqgWKsJsYjJLUPkDEJKjvmPWwnwCtcKoW4O5VnpTFmaVb8o3LXONOiZAcI3aYe5UIFXiUmv77doOc7oUpDoozLU5iiPFqYtcW4W01LJP3FEiwzXBLG9SUBNq6Ef0BJ8IApq+rItIAAAAAElFTkSuQmCC\",'\")'),backgroundSize:\"20px 20px\",backgroundRepeat:\"none\",backgroundPosition:\"50% 50%\"}}));Xr.displayName=\"NodePickerTrigger\";var Jr=me(\"div\")({position:\"absolute\",right:\"32px\",top:\"-28px\",color:ye.white,background:ye.main60,fontSize:\"12px\",lineHeight:\"25px\",padding:\"0 6px\",height:\"24px\",backgroundSize:\"20px 20px\",backgroundRepeat:\"none\",backgroundPosition:\"50% 50%\",borderRadius:\"3px\",\"&:hover\":{backgroundColor:ye.main80,cursor:\"pointer\"}});Jr.displayName=\"SaveSnapshotButton\";var Zr=Jr,Qr=me(\"div\")({width:\"100%\",height:\"100%\",overflow:\"hidden\",background:ye.mainBg,fontFamily:\"Helvetica Neue, Calibri Light, Roboto, sans-serif\",fontSize:\"13px\"});Qr.displayName=\"DockContainer\";var eo=me(\"button\")({background:\"none\",border:\"none\",position:\"absolute\",right:0,color:ye.white60,fontSize:\"18px\",\"&:hover\":{cursor:\"pointer\",background:ye.white05,color:ye.white},\"&:focus\":{outline:\"none\"}});function to(){return c.a.createElement(w,{to:[R]},(function(e){var t=e.state,n=t.defaultSize,r=t.tabIndex,o=e.toggleDevTools,i=e.updateBodyMargin,s=e.selectTab;return c.a.createElement(zr,null,c.a.createElement(w,{to:[pt]},(function(e){var t=e.state.nodePicker,n=e.deactivatePicker,r=e.updateNodePickerPossition,o=e.nodePickerSelect;return c.a.createElement(Yr,{nodePicker:t,onClose:n,onMouseMove:r,onSelect:function(e){o(e),s(0)}})})),c.a.createElement(we.a,{position:\"bottom\",dimMode:\"none\",isVisible:!0,defaultSize:n,onSizeChange:i},(function(){return c.a.createElement(Qr,null,c.a.createElement(eo,{onClick:o},\"\"),c.a.createElement(w,{to:[pt]},(function(e){var t=e.state.nodePicker,n=e.deactivatePicker,r=e.activatePicker;return c.a.createElement(Xr,{onClick:t.active?n:r,isActive:t.active})})),c.a.createElement(w,{to:[pt]},(function(e){var t=e.saveSnapshot;return c.a.createElement(Zr,{onClick:t},\"Save Snapshot\")})),c.a.createElement(Be,{onSelect:s,selectedIndex:r},c.a.createElement(De,null,c.a.createElement(je,{index:\"state\"},\"State\"),c.a.createElement(je,{index:\"history\"},\"History\"),c.a.createElement(je,{index:\"plugins\"},\"Plugins\"),c.a.createElement(je,{index:\"schema\"},\"Schema\"),c.a.createElement(je,{index:\"structure\"},\"Structure\"),c.a.createElement(je,{index:\"snapshots\"},\"Snapshots\")),c.a.createElement(ze,null,(function(e){switch(e.index){case\"state\":return c.a.createElement(Kt,null);case\"history\":return c.a.createElement(Dn,null);case\"plugins\":return c.a.createElement(nr,null);case\"schema\":return c.a.createElement(qn,null);case\"structure\":return c.a.createElement(Sr,null);case\"snapshots\":return c.a.createElement(jr,null);default:return c.a.createElement(Kt,null)}}))))})))}))}function no(){return c.a.createElement(w,{to:[R]},(function(e){var t=e.state,n=e.toggleDevTools;return t.opened?c.a.createElement(to,null):c.a.createElement(ve,{onClick:n})}))}eo.displayName=\"CloseButton\";var ro=function(e,t){var n=function(){var e=document.querySelector(\".\".concat(\"__prosemirror-dev-tools__\"));return e?(u.a.unmountComponentAtNode(e),e.innerHTML=\"\"):((e=document.createElement(\"div\")).className=\"__prosemirror-dev-tools__\",document.body.appendChild(e)),e}(),r=new pt(e,t);u.a.render(c.a.createElement(E,{inject:[r]},c.a.createElement(no,null)),n)},oo=n(5),io=n(6);Se.a.objectOf((e,t,n)=>{if(!Object.prototype.hasOwnProperty.call(e,t))throw new Error(`Prop \\`${t}\\` has type 'any' or 'mixed', but was not provided to \\`${n}\\`. Pass undefined or any other value.`)}),Se.a.string,Se.a.bool,Se.a.string,Se.a.bool,Se.a.string,Se.a.arrayOf((e,t,n)=>{if(!Object.prototype.hasOwnProperty.call(e,t))throw new Error(`Prop \\`${t}\\` has type 'any' or 'mixed', but was not provided to \\`${n}\\`. Pass undefined or any other value.`)}),Se.a.func,Se.a.objectOf((e,t,n)=>{if(!Object.prototype.hasOwnProperty.call(e,t))throw new Error(`Prop \\`${t}\\` has type 'any' or 'mixed', but was not provided to \\`${n}\\`. Pass undefined or any other value.`)}),Se.a.string,Se.a.arrayOf((e,t,n)=>{if(!Object.prototype.hasOwnProperty.call(e,t))throw new Error(`Prop \\`${t}\\` has type 'any' or 'mixed', but was not provided to \\`${n}\\`. Pass undefined or any other value.`)}).isRequired,Se.a.func.isRequired,Se.a.any,Se.a.string.isRequired,Se.a.bool.isRequired,Se.a.func.isRequired,Se.a.func.isRequired,Se.a.number.isRequired,Se.a.string.isRequired,Se.a.string.isRequired,Se.a.number.isRequired,Se.a.func,Se.a.func,Se.a.func,Se.a.func,Se.a.func,Se.a.func,Se.a.func,Se.a.func,Se.a.func,Se.a.any;const so=[\"code\",0];var ao={parseDOM:[{tag:\"code\"}],toDOM:()=>so};const co=/([\\d\\.]+)(px|pt)/i;function lo(e){const t=e.match(co);if(!t)return 0;let n=parseFloat(t[1]);const r=t[2];return n&&r?(\"px\"===r&&(n*=.75292857),n):0}const uo=\"desktop_screen_4_3\",po=\"desktop_screen_16_9\",fo=\"us_letter_landscape\",ho=\"us_letter_portrait\",mo=\"a4_landscape\",go=\"a4_portrait\";var yo={attrs:{layout:{default:null},padding:{default:null},width:{default:null}},content:\"block+\"};const bo=[\"em\",0];var vo={parseDOM:[{tag:\"i\"},{tag:\"em\"},{style:\"font-style=italic\"}],toDOM:()=>bo};var _o={attrs:{pt:{default:null}},inline:!0,group:\"inline\",parseDOM:[{style:\"font-size\",getAttrs:function(e){const t={};if(!e)return t;const n=function(e){const t=[8,9,10,11,12,14,18,24,30,36,48,60,72,90],n=lo(e);return t.includes(n)?n:t.reduce((e,t)=>Math.abs(t-n)<Math.abs(e-n)?t:e,Number.NEGATIVE_INFINITY)}(e);if(!n)return t;return{pt:n}}}],toDOM(e){const{pt:t}=e.attrs;return[\"span\",t?{style:`font-size: ${t}pt;`,class:\"czi-font-size-mark\"}:null,0]}};var wo=new class{constructor(){p()(this,\"_implementation\",null)}setImplementation(e){this._implementation=e}load(e){const t=this._implementation;t?t.load(e):console.warn(\"Method WebFontLoader.load does not have an implementation\")}};const Eo=[\"Aclonica\",\"Acme\",\"Alegreya\",\"Arial Black\",\"Georgia\",\"Tahoma\",\"Times New Roman\",\"Times\",\"Verdana\",\"Courier New\"];function So(e){Oo.add(e)}const Oo=new Set([]);var xo={attrs:{name:\"\"},inline:!0,group:\"inline\",parseDOM:[{style:\"font-family\",getAttrs:e=>({name:e?e.replace(/[\\\"\\']/g,\"\"):\"\"})}],toDOM(e){const{name:t}=e.attrs,n={};return t&&(Oo.has(t)||So(t),n.style=\"font-family: \"+t),[\"span\",n,0]}};var ko={attrs:{href:{default:null},rel:{default:\"noopener noreferrer nofollow\"},target:{default:\"blank\"},title:{default:null}},inclusive:!1,parseDOM:[{tag:\"a[href]\",getAttrs:e=>{const t=e.getAttribute(\"href\"),n=t&&0===t.indexOf(\"#\")?\"\":\"blank\";return{href:e.getAttribute(\"href\"),title:e.getAttribute(\"title\"),target:n}}}],toDOM:e=>[\"a\",e.attrs,0]};const Co=\"code\",Ao=\"em\",To=\"mark-font-size\",Po=\"mark-font-type\",Mo=\"link\",Ro=\"mark-no-break\",Do=\"strike\",Io=\"strong\",No=\"super\",jo=\"sub\",Lo=\"mark-text-color\",zo=\"mark-text-highlight\",Bo=\"mark-text-selection\",Uo=\"underline\",Ho=\"spacer\",Fo=\"custom-styles\",Vo=\"blockquote\",qo=\"bookmark\",Ko=\"bullet_list\",$o=\"code_block\",Go=\"doc\",Wo=\"hard_break\",Yo=\"heading\",Xo=\"horizontal_rule\",Jo=\"image\",Zo=\"link\",Qo=\"list_item\",ei=\"math\",ti=\"ordered_list\",ni=\"paragraph\",ri=\"table\",oi=\"table_cell\",ii=\"table_header\",si=\"table_row\",ai=\"text\",ci=\"underline\";function li(e,t,n){return t<e?e:t>n?n:t}const ui=/^\\d+(.\\d+)?$/;function di(e){if(!e)return\"\";let t=String(e);if(ui.test(t)){const e=parseFloat(t);t=String(Math.round(100*e))+\"%\"}return\"100%\"===t?\"125%\":\"115%\"===t?\"138%\":\"150%\"===t?\"165%\":\"200%\"===t?\"232%\":t}const pi=new Set([\"\",\"0%\",\"0pt\",\"0px\"]),fi=/(left|right|center|justify)/;function hi(e){const{lineHeight:t,textAlign:n,marginLeft:r,paddingTop:o,paddingBottom:i}=e.style;let s=e.getAttribute(\"align\")||n||\"\";s=fi.test(s)?s:null;let a=parseInt(e.getAttribute(\"data-indent\"),10);!a&&r&&(a=bi(r)),a=a||0;return{align:s,indent:a,lineSpacing:t?di(t):null,paddingTop:o,paddingBottom:i,id:e.getAttribute(\"id\")||\"\",objectId:e.getAttribute(\"objectId\")||null}}function mi(e){const{align:t,indent:n,lineSpacing:r,paddingTop:o,paddingBottom:i,id:s,objectId:a}=e.attrs,c={};let l=\"\";if(t&&\"left\"!==t&&(l+=`text-align: ${t};`),r){const e=di(r);l+=`line-height: ${e};--czi-content-line-height: `+e}return o&&!pi.has(o)&&(l+=`padding-top: ${o};`),i&&!pi.has(i)&&(l+=`padding-bottom: ${i};`),l&&(c.style=l),n&&(c[\"data-indent\"]=String(n)),s&&(c.id=s),c.objectId=a,[\"p\",c,0]}const gi=mi,yi=hi;function bi(e){const t=lo(e);return li(0,Math.floor(t/36),7)}var vi={attrs:{align:{default:null},color:{default:null},id:{default:null},indent:{default:null},lineSpacing:{default:null},paddingBottom:{default:null},paddingTop:{default:null},objectId:{default:null}},content:\"inline*\",group:\"block\",parseDOM:[{tag:\"p\",getAttrs:hi}],toDOM:mi};var _i={attrs:{size:{default:\"tab\"}},defining:!0,draggable:!1,excludes:\"_\",group:\"inline\",inclusive:!1,inline:!0,spanning:!1,parseDOM:[{tag:\"span[data-spacer-size]\",getAttrs:e=>({size:e.getAttribute(\"data-spacer-size\")||\"tab\"})}],toDOM(e){const{size:t}=e.attrs;return[\"span\",{\"data-spacer-size\":t},0]}};var wi={parseDOM:[{style:\"text-decoration\",getAttrs:e=>\"line-through\"===e&&null}],toDOM:()=>[\"span\",{style:\"text-decoration: line-through\"},0]};const Ei=[\"strong\",0],Si=/^(bold(er)?|[5-9]\\d{2,})$/;var Oi={parseDOM:[{tag:\"strong\"},{tag:\"b\",getAttrs:e=>\"normal\"!=e.style.fontWeight&&null},{style:\"font-weight\",getAttrs:e=>Si.test(e)&&null}],toDOM:()=>Ei},xi=n(20),ki=n.n(xi);const Ci=/^rgba/i,Ai={transparent:\"rgba(0,0,0,0)\",inherit:\"\"};function Ti(e){if(!e)return!0;const t=Pi(e);return!t||\"rgba(0,0,0,0)\"===t}function Pi(e){if(!e)return\"\";if(e in Ai)return Ai[e];if(e&&Ci.test(e)){const t=ki()(e);if(0===t.valpha)return Ai[e]=\"rgba(0,0,0,0)\",\"rgba(0,0,0,0)\";const n=t.toString();return Ai[e]=n.toString(),n}let t=\"\";try{t=ki()(e).hex().toLowerCase(),Ai[e]=t}catch(t){console.warn(\"unable to convert to hex\",e),Ai[e]=\"\"}return t}var Mi=Pi;var Ri={attrs:{color:\"\"},inline:!0,group:\"inline\",parseDOM:[{style:\"color\",getAttrs:e=>({color:Mi(e)})}],toDOM(e){const{color:t}=e.attrs;let n=\"\";return t&&(n+=`color: ${t};`),[\"span\",{style:n},0]}};var Di={attrs:{highlightColor:\"\"},inline:!0,group:\"inline\",parseDOM:[{tag:\"span[style*=background-color]\",getAttrs:e=>{const{backgroundColor:t}=e.style,n=Pi(t);return{highlightColor:Ti(n)?\"\":n}}}],toDOM(e){const{highlightColor:t}=e.attrs;let n=\"\";return t&&(n+=`background-color: ${t};`),[\"span\",{style:n},0]}};const Ii=[\"nobr\",0];var Ni={parseDOM:[{tag:\"nobr\"}],toDOM:()=>Ii};var ji={group:\"inline\"};var Li={attrs:{id:\"\"},inline:!0,group:\"inline\",parseDOM:[{tag:\"czi-text-selection\"}],toDOM:e=>[\"czi-text-selection\",{class:\"czi-text-selection\"},0]};var zi={parseDOM:[{tag:\"sup\"},{style:\"vertical-align\",getAttrs:e=>\"super\"===e&&null}],toDOM:()=>[\"sup\",0]};var Bi={parseDOM:[{tag:\"sub\"},{style:\"vertical-align\",getAttrs:e=>\"sub\"===e&&null}],toDOM:()=>[\"sub\",0]};var Ui={parseDOM:[{tag:\"u\"},{style:\"text-decoration-line\",getAttrs:e=>\"underline\"===e&&null},{style:\"text-decoration\",getAttrs:e=>\"underline\"===e&&null}],toDOM:()=>[\"u\",0]};var Hi={attrs:{stylename:{default:null},fontname:{default:null},fontsize:{default:null},color:{default:null},highlightColor:{default:null}},inline:!0,group:\"inline\",parseDOM:[{style:\"font-family\",getAttrs:e=>({fontname:e?e.replace(/[\\\"\\']/g,\"\"):\"\"})}],toDOM(e){const{fontname:t,fontsize:n,color:r,highlightColor:o}=e.attrs,i={};let s=\"\";return t&&(s+=`font-family: ${t};`),n&&(s+=`font-size: ${n}pt;`),o&&(s+=`background-color: ${o};`),r&&(s+=`color: ${r};`),i.style=s,[\"span\",i]}};const{MARK_CODE:Fi,MARK_EM:Vi,MARK_FONT_SIZE:qi,MARK_FONT_TYPE:Ki,MARK_LINK:$i,MARK_NO_BREAK:Gi,MARK_STRIKE:Wi,MARK_STRONG:Yi,MARK_SUPER:Xi,MARK_SUB:Ji,MARK_TEXT_COLOR:Zi,MARK_TEXT_HIGHLIGHT:Qi,MARK_TEXT_SELECTION:es,MARK_UNDERLINE:ts,MARK_SPACER:ns,MARK_CUSTOMSTYLES:rs}=r,is={[Go]:yo,[ni]:vi,[ai]:ji},ss={[$i]:ko,[Gi]:Ni,[Fi]:ao,[Vi]:vo,[qi]:_o,[Ki]:xo,[ns]:_i,[Wi]:wi,[Yi]:Oi,[Xi]:zi,[Ji]:Bi,[Zi]:Ri,[Qi]:Di,[es]:Li,[ts]:Ui,[rs]:Hi};var as=new Fe.Schema({nodes:is,marks:ss}).spec.marks;function cs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ls(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cs(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var us=ls(ls({},vi),{},{defining:!0,parseDOM:[{tag:\"blockquote\",getAttrs:function(e){return yi(e)}}],toDOM:function(e){const t=gi(e);return t[0]=\"blockquote\",t}});var ds={inline:!0,attrs:{id:{default:null},visible:{default:null}},group:\"inline\",draggable:!0,parseDOM:[{tag:\"a[data-bookmark-id]\",getAttrs:function(e){return{id:e.getAttribute(\"data-bookmark-id\"),visible:\"true\"===e.getAttribute(\"data-bookmark-visible\")}}}],toDOM(e){const{id:t,visible:n}=e.attrs;return[\"a\",t?{\"data-bookmark-id\":t,\"data-bookmark-visible\":n,id:t}:{}]}};const ps=/(left|right|center|justify)/;var fs={attrs:{align:{default:null}},content:\"paragraph\",parseDOM:[{tag:\"li\",getAttrs:function(e){const t={},{textAlign:n}=e.style;let r=e.getAttribute(\"data-align\")||n||\"\";return r=ps.test(r)?r:null,r&&(t.align=r),t}}],toDOM(e){const t={},{align:n}=e.attrs;return n&&(t[\"data-align\"]=n),[\"li\",t,0]}};const hs=[\"disc\",\"square\",\"circle\"];var ms={attrs:{id:{default:null},indent:{default:0},listStyleType:{default:null},objectId:{default:null}},group:\"block\",content:Qo+\"+\",parseDOM:[{tag:\"ul\",getAttrs(e){const t=e.getAttribute(\"data-list-style-type\")||null;return{indent:e.hasAttribute(\"data-indent\")?parseInt(e.getAttribute(\"data-indent\"),10):0,listStyleType:t,objectId:e.getAttribute(\"objectId\")||null}}}],toDOM(e){const{indent:t,listStyleType:n,objectId:r}=e.attrs,o={};o[\"data-indent\"]=t,n&&(o[\"data-list-style-type\"]=n);let i=n;return i&&\"disc\"!==i||(i=hs[t%hs.length]),o.type=i,o.objectId=r,[\"ul\",o,0]}};const gs=[\"br\"];var ys={inline:!0,group:\"inline\",selectable:!1,parseDOM:[{tag:\"br\"}],toDOM:()=>gs};const bs=window.lang?window.lang:\"en\";let vs={};function _s(e){return null!=bs&&bs in vs?e in vs[bs]?vs[bs][e]:e:vs.en[e]}function ws(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Es(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ws(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ws(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}vs.en={\"Insert Table...\":\"Insert Table...\",\"Fill Color...\":\"Fill Color...\",\"Border Color....\":\"Border Color....\",\"Insert Column Before\":\"Insert Column Before\",\"Insert Column After\":\"Insert Column After\",\"Delete Column\":\"Delete Column\",\"Insert Row Before\":\"Insert Row Before\",\"Insert Row After\":\"Insert Row After\",\"Delete Row\":\"Delete Row\",\"Merge Cells\":\"Merge Cells\",\"Split Row\":\"Split Cells\",\"Toggle Header Column\":\"Toggle Header Column\",\"Toggle Header Row\":\"Toggle Header Row\",\"Toggle Header Cells\":\"Toggle Header Cells\",\"Delete Table\":\"Delete Table\",\"[font_download] Font Type\":\"[font_download] Font Type\",\"[format_size] Text Size\":\"[format_size] Text Size\",\"[format_bold] Bold\":\"[format_bold] Bold\",\"[format_italic] Italic\":\"[format_italic] Italic\",\"[format_underline] Underline\":\"[format_underline] Underline\",\"[format_strikethrough] Strike through\":\"[format_strikethrough] Strike through\",\"[superscript] Superscript\":\"[superscript] Superscript\",\"[format_color_text] Text color\":\"[format_color_text] Text color\",\"[border_color] Highlight color\":\"[border_color] Highlight color\",\"[format_clear] Clear formats\":\"[format_clear] Clear formats\",\"[format_align_left] Left align\":\"[format_align_left] Left align\",\"[format_align_center] Center Align\":\"[format_align_center] Center Align\",\"[format_align_right] Right Align\":\"[format_align_right] Right Align\",\"[format_align_justify] Justify\":\"[format_align_justify] Justify\",\"[format_indent_increase] Indent more\":\"[format_indent_increase] Indent more\",\"[format_indent_decrease] Indent less\":\"[format_indent_decrease] Indent less\",\"[format_line_spacing] Line spacing\":\"[format_line_spacing] Line spacing\",\"[format_list_numbered] Ordered list\":\"[format_list_numbered] Ordered list\",\"[format_list_bulleted] Bulleted list\":\"[format_list_bulleted] Bulleted list\",\"[H1] Header 1\":\"[H1] Header 1\",\"[link] Apply link\":\"[link] Apply link\",\"[image] Insert image\":\"[image] Insert image\",\"Insert image by URL\":\"Insert image by URL\",\"Upload image from computer\":\"Upload image from computer\",\"[grid_on] Table...\":\"[grid_on] Table...\",\"[hr] Horizontal line\":\"[hr] Horizontal line\",\"[functions] Math\":\"[functions] Math\",\"[settings_overscan] Page layout\":\"[settings_overscan] Page layout\",\"[undo] Undo\":\"[undo] Undo\",\"[redo] Redo\":\"[redo] Redo\"},vs.zh={\"Insert Table...\":\"...\",\"Fill Color...\":\"...\",\"Border Color....\":\"....\",\"Insert Column Before\":\"\",\"Insert Column After\":\"\",\"Delete Column\":\"\",\"Insert Row Before\":\"\",\"Insert Row After\":\"\",\"Delete Row\":\"\",\"Merge Cells\":\"\",\"Split Row\":\"\",\"Toggle Header Column\":\"\",\"Toggle Header Row\":\"\",\"Toggle Header Cells\":\"\",\"Delete Table\":\"\",\"[font_download] Font Type\":\"[font_download] \",\"[format_size] Text Size\":\"[format_size] \",\"[format_bold] Bold\":\"[format_bold] \",\"[format_italic] Italic\":\"[format_italic] \",\"[format_underline] Underline\":\"[format_underline] \",\"[format_strikethrough] Strike through\":\"[format_strikethrough] \",\"[superscript] Superscript\":\"[superscript] \",\"[subscript] Subscript\":\"[subscript] \",\"[format_color_text] Text color\":\"[format_color_text] \",\"[border_color] Highlight color\":\"[border_color] \",\"[format_clear] Clear formats\":\"[format_clear] \",\"[format_align_left] Left align\":\"[format_align_left] \",\"[format_align_center] Center Align\":\"[format_align_center] \",\"[format_align_right] Right Align\":\"[format_align_right] \",\"[format_align_justify] Justify\":\"[format_align_justify] \",\"[format_indent_increase] Indent more\":\"[format_indent_increase] \",\"[format_indent_decrease] Indent less\":\"[format_indent_decrease] \",\"[format_line_spacing] Line spacing\":\"[format_line_spacing] \",\"[format_list_numbered] Ordered list\":\"[format_list_numbered] \",\"[format_list_bulleted] Bulleted list\":\"[format_list_bulleted] \",\"[H1] Header 1\":\"[H1]  1\",\"[link] Apply link\":\"[link] \",\"[image] Insert image\":\"[image] \",\"Insert image by URL\":\"\",\"Upload image from computer\":\"\",\"Insert Image\":\"\",\"Paste URL of Image...\":\"...\",Insert:\"\",\"Only select image that you have confirmed the license to use\":\"\",\"[grid_on] Table...\":\"[grid_on] ...\",\"[hr] Horizontal line\":\"[hr] \",\"[functions] Math\":\"[functions] \",\"[settings_overscan] Page layout\":\"[settings_overscan] \",\"[undo] Undo\":\"[undo] \",\"[redo] Redo\":\"[redo] \",\"[print] Print\":\"[print] \",Normal:\"\",\"Heading 1\":\" 1\",\"Heading 2\":\" 2\",\"Heading 3\":\" 3\",\"Heading 4\":\" 4\",Title:\"\",Subtitle:\"\",Quote:\"\",Single:\"\",Double:\"\",\"Page Layout\":\"\",\"US Letter - Portrait\":\"US Letter - \",\"US Letter - Landscape\":\"US Letter - \",\"A4 - Portrait\":\"A4 - \",\"A4 - Landscape\":\"A4 - \",Cancel:\"\",Apply:\"\",\"Add a Link\":\"\",\"Paste a URL\":\"\",Remove:\"\",Transparent:\"\",Default:\"\",\"Insert Math\":\"\",Update:\"\",Operators:\"\",Structure:\"\",Symbols:\"\",Trigonometry:\"\",Change:\"\",Inline:\"\",\"Float left\":\"\",\"Float right\":\"\",\"Break text\":\"\",Edit:\"\"};const Ss={H1:1,H2:2,H3:3,H4:4,H5:5,H6:6},Os=[{name:[_s(\"Normal\")],level:0},{name:[_s(\"Heading 1\")],level:1},{name:[_s(\"Heading 2\")],level:2},{name:[_s(\"Heading 3\")],level:3},{name:[_s(\"Heading 4\")],level:4},{name:[_s(\"Title\")],customstyles:[{stylename:[_s(\"Title\")],strong:!0,em:!0,color:\"Black\"}]},{name:[_s(\"Subtitle\")],customstyles:[{stylename:[_s(\"Subtitle\")],strong:!0,em:!0,color:\"Grey\"}]}];function xs(e){const t=yi(e),n=Ss[e.nodeName.toUpperCase()]||1;return t.level=n,t}var ks=Es(Es({},vi),{},{attrs:Es(Es({},vi.attrs),{},{level:{default:1}}),defining:!0,parseDOM:[{tag:\"h1\",getAttrs:xs},{tag:\"h2\",getAttrs:xs},{tag:\"h3\",getAttrs:xs},{tag:\"h4\",getAttrs:xs},{tag:\"h5\",getAttrs:xs},{tag:\"h6\",getAttrs:xs}],toDOM:function(e){const t=gi(e),n=e.attrs.level||1;return t[0]=\"h\"+n,t}});var Cs={attrs:{pageBreak:{default:null}},group:\"block\",parseDOM:[{tag:\"hr\",getAttrs:function(e){const t={};return(e.getAttribute(\"data-page-break\")||\"always\"===e.style.pageBreakBefore)&&(t.pageBreak=!0),t}}],toDOM(e){const t={};return e.attrs.pageBreak&&(t[\"data-page-break\"]=\"true\"),[\"hr\",t]}};const As=/rotate\\(([0-9\\.]+)rad\\)/i,Ts=new Set([\"0%\",\"0pt\",\"0px\"]);var Ps={inline:!0,attrs:{align:{default:null},alt:{default:\"\"},crop:{default:null},height:{default:null},rotate:{default:null},src:{default:null},title:{default:\"\"},width:{default:null},objectId:{default:null}},group:\"inline\",draggable:!0,parseDOM:[{tag:\"img[src]\",getAttrs:function(e){const{cssFloat:t,display:n,marginTop:r,marginLeft:o}=e.style;let{width:i,height:s}=e.style,a=e.getAttribute(\"data-align\")||e.getAttribute(\"align\");a?a=/(left|right|center)/.test(a)?a:null:\"left\"!==t||n?\"right\"!==t||n?t||\"block\"!==n||(a=\"block\"):a=\"right\":a=\"left\",i=i||e.getAttribute(\"width\"),s=s||e.getAttribute(\"height\");let c=null,l=null;const{parentElement:u}=e;if(u instanceof HTMLElement){const e=u.style;if(\"inline-block\"===e.display&&\"hidden\"===e.overflow&&e.width&&e.height&&o&&!Ts.has(o)&&r&&!Ts.has(r)&&(c={width:parseInt(e.width,10)||0,height:parseInt(e.height,10)||0,left:parseInt(o,10)||0,top:parseInt(r,10)||0}),e.transform){const t=e.transform.match(As);t&&t[1]&&(l=parseFloat(t[1])||null)}}return{align:a,alt:e.getAttribute(\"alt\")||null,crop:c,height:parseInt(s,10)||null,rotate:l,src:e.getAttribute(\"src\")||null,title:e.getAttribute(\"title\")||null,width:parseInt(i,10)||null,objectId:e.getAttribute(\"objectId\")||null}}}],toDOM:e=>[\"img\",e.attrs]};function Ms(e){let t=e.getAttribute(\"data-align\")||e.getAttribute(\"align\");return t&&(t=/(left|right|center)/.test(t)?t:null),{align:t,latex:e.getAttribute(\"data-latex\")||null}}var Rs={inline:!0,attrs:{align:{default:null},latex:{default:\"\"}},group:\"inline\",draggable:!0,parseDOM:[{tag:\"math[data-latex]\",getAttrs:Ms},{tag:\"span[data-latex]\",getAttrs:Ms}],toDOM(e){const{align:t,latex:n}=e.attrs,r={};return t&&(r.align=t),n&&(r[\"data-latex\"]=n),[\"span\",r]}};const Ds=[\"decimal\",\"lower-alpha\",\"lower-roman\"];var Is={attrs:{id:{default:null},counterReset:{default:null},indent:{default:0},following:{default:null},listStyleType:{default:null},name:{default:null},start:{default:1},objectId:{default:null}},group:\"block\",content:Qo+\"+\",parseDOM:[{tag:\"ol\",getAttrs(e){const t=e.getAttribute(\"data-list-style-type\"),n=e.getAttribute(\"data-counter-reset\")||void 0,r=e.hasAttribute(\"start\")?parseInt(e.getAttribute(\"start\"),10):1,o=e.hasAttribute(\"data-indent\")?parseInt(e.getAttribute(\"data-indent\"),10):0,i=e.getAttribute(\"name\")||void 0;return{counterReset:n,following:e.getAttribute(\"data-following\")||void 0,indent:o,listStyleType:t,name:i,start:r,objectId:e.getAttribute(\"objectId\")||null}}}],toDOM(e){const{start:t,indent:n,listStyleType:r,counterReset:o,following:i,name:s,objectId:a}=e.attrs,c={\"data-indent\":n};\"none\"===o&&(c[\"data-counter-reset\"]=o),i&&(c[\"data-following\"]=i),r&&(c[\"data-list-style-type\"]=r),1!==t&&(c.start=t),s&&(c.name=s),c.objectId=a;let l=r;l&&\"decimal\"!==l||(l=Ds[n%Ds.length]);const u=\"czi-counter-\"+n;return c.style=`--czi-counter-name: ${u};--czi-counter-reset: ${i?\"none\":t-1};--czi-list-style-type: `+l,c.type=l,[\"ol\",c,0]}},Ns=n(12);const js=new Set([\"0pt\",\"0px\"]),Ls=Object(Ns.tableNodes)({tableGroup:\"block\",cellContent:\"block+\",cellAttributes:{borderColor:{default:null,getFromDOM(e){const{borderColor:t,borderWidth:n}=e.style;return js.has(n)?\"transparent\":t&&Mi(t)||null},setDOMAttr(e,t){e&&(t.style=(t.style||\"\")+`;border-color: ${e};`)}},background:{default:null,getFromDOM:e=>e.style.backgroundColor||null,setDOMAttr(e,t){e&&(t.style=(t.style||\"\")+`;background-color: ${e};`)}}}}),zs=Object.assign({},Ls.table,{attrs:{marginLeft:{default:null},objectId:{default:null}},parseDOM:[{tag:\"table\",getAttrs(e){const{marginLeft:t}=e.style,n=e.getAttribute(\"objectId\")||null;return t&&/\\d+px/.test(t)?{marginLeft:parseFloat(t),objectId:n}:{objectId:n}}}],toDOM(e){const{marginLeft:t,objectId:n}=e.attrs,r={};return r.objectId=n,t&&(r.style=`margin-left: ${t}px`),[\"table\",r,0]}});Object.assign(Ls,{table:zs});var Bs=Ls;const{BLOCKQUOTE:Us,BOOKMARK:Hs,BULLET_LIST:Fs,DOC:Vs,HARD_BREAK:qs,HEADING:Ks,HORIZONTAL_RULE:$s,IMAGE:Gs,LIST_ITEM:Ws,MATH:Ys,ORDERED_LIST:Xs,PARAGRAPH:Js,TEXT:Zs}=o,Qs={[Vs]:yo,[Js]:vi,[Us]:us,[$s]:Cs,[Ks]:ks,[Zs]:ji,[Gs]:Ps,[Ys]:Rs,[qs]:ys,[Fs]:ms,[Xs]:Is,[Ws]:fs,[Hs]:ds};var ea=new Fe.Schema({nodes:Qs,marks:{}}).spec.nodes.append(Bs);var ta=new Fe.Schema({nodes:ea,marks:as});function na(e,t){return!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0)}function ra(e,t){for(;e;e=\"start\"==t?e.firstChild:e.lastChild)if(e.isTextblock)return!0;return!1}function oa(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function ia(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){var n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}function sa(e){for(var t=0;t<e.edgeCount;t++){var n=e.edge(t).type;if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function aa(e,t){var n=e.selection,r=n.$from,o=n.$to;if(e.selection instanceof We.NodeSelection&&e.selection.node.isBlock)return!(!r.parentOffset||!Object(oo.h)(e.doc,r.pos))&&(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(t){var i=o.parentOffset==o.parent.content.size,s=e.tr;e.selection instanceof We.TextSelection&&s.deleteSelection();var a=0==r.depth?null:sa(r.node(-1).contentMatchAt(r.indexAfter(-1))),c=i&&a?[{type:a}]:null,l=Object(oo.h)(s.doc,s.mapping.map(r.pos),1,c);c||l||!Object(oo.h)(s.doc,s.mapping.map(r.pos),1,a&&[{type:a}])||(c=[{type:a}],l=!0),l&&(s.split(s.mapping.map(r.pos),1,c),i||r.parentOffset||r.parent.type==a||!r.node(-1).canReplace(r.index(-1),r.indexAfter(-1),Fe.Fragment.from(a.create(),r.parent))||s.setNodeMarkup(s.mapping.map(r.before()),a)),t(s.scrollIntoView())}return!0}function ca(e,t,n){var r,o,i=t.nodeBefore,s=t.nodeAfter;if(i.type.spec.isolating||s.type.spec.isolating)return!1;if(function(e,t,n){var r=t.nodeBefore,o=t.nodeAfter,i=t.index();return!!(r&&o&&r.type.compatibleContent(o.type))&&(!r.content.size&&t.parent.canReplace(i-1,i)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!(!t.parent.canReplace(i,i+1)||!o.isTextblock&&!Object(oo.g)(e.doc,t.pos))&&(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),!0))}(e,t,n))return!0;if(t.parent.canReplace(t.index(),t.index()+1)&&(r=(o=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&o.matchType(r[0]||s.type).validEnd){if(n){for(var a=t.pos+s.nodeSize,c=Fe.Fragment.empty,l=r.length-1;l>=0;l--)c=Fe.Fragment.from(r[l].create(null,c));c=Fe.Fragment.from(i.copy(c));var u=e.tr.step(new oo.b(t.pos-1,a,t.pos,a,new Fe.Slice(c,1,0),r.length,!0)),d=a+2*r.length;Object(oo.g)(u.doc,d)&&u.join(d),n(u.scrollIntoView())}return!0}var p=We.Selection.findFrom(t,1),f=p&&p.$from.blockRange(p.$to),h=f&&Object(oo.l)(f);return null!=h&&h>=t.depth&&(n&&n(e.tr.lift(f,h).scrollIntoView()),!0)}function la(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return function(t,n,r){for(var o=0;o<e.length;o++)if(e[o](t,n,r))return!0;return!1}}var ua=la(na,(function(e,t,n){var r=e.selection.$cursor;if(!r||(n?!n.endOfTextblock(\"backward\",e):r.parentOffset>0))return!1;var o=oa(r);if(!o){var i=r.blockRange(),s=i&&Object(oo.l)(i);return null!=s&&(t&&t(e.tr.lift(i,s).scrollIntoView()),!0)}var a=o.nodeBefore;if(!a.type.spec.isolating&&ca(e,o,t))return!0;if(0==r.parent.content.size&&(ra(a,\"end\")||We.NodeSelection.isSelectable(a))){if(t){var c=e.tr.deleteRange(r.before(),r.after());c.setSelection(ra(a,\"end\")?We.Selection.findFrom(c.doc.resolve(c.mapping.map(o.pos,-1)),-1):We.NodeSelection.create(c.doc,o.pos-a.nodeSize)),t(c.scrollIntoView())}return!0}return!(!a.isAtom||o.depth!=r.depth-1)&&(t&&t(e.tr.delete(o.pos-a.nodeSize,o.pos).scrollIntoView()),!0)}),(function(e,t,n){var r=e.selection,o=r.$head,i=o;if(!r.empty)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock(\"backward\",e):o.parentOffset>0)return!1;i=oa(o)}var s=i&&i.nodeBefore;return!(!s||!We.NodeSelection.isSelectable(s))&&(t&&t(e.tr.setSelection(We.NodeSelection.create(e.doc,i.pos-s.nodeSize)).scrollIntoView()),!0)})),da=la(na,(function(e,t,n){var r=e.selection.$cursor;if(!r||(n?!n.endOfTextblock(\"forward\",e):r.parentOffset<r.parent.content.size))return!1;var o=ia(r);if(!o)return!1;var i=o.nodeAfter;if(ca(e,o,t))return!0;if(0==r.parent.content.size&&(ra(i,\"start\")||We.NodeSelection.isSelectable(i))){if(t){var s=e.tr.deleteRange(r.before(),r.after());s.setSelection(ra(i,\"start\")?We.Selection.findFrom(s.doc.resolve(s.mapping.map(o.pos)),1):We.NodeSelection.create(s.doc,s.mapping.map(o.pos))),t(s.scrollIntoView())}return!0}return!(!i.isAtom||o.depth!=r.depth-1)&&(t&&t(e.tr.delete(o.pos,o.pos+i.nodeSize).scrollIntoView()),!0)}),(function(e,t,n){var r=e.selection,o=r.$head,i=o;if(!r.empty)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock(\"forward\",e):o.parentOffset<o.parent.content.size)return!1;i=ia(o)}var s=i&&i.nodeAfter;return!(!s||!We.NodeSelection.isSelectable(s))&&(t&&t(e.tr.setSelection(We.NodeSelection.create(e.doc,i.pos)).scrollIntoView()),!0)})),pa={Enter:la((function(e,t){var n=e.selection,r=n.$head,o=n.$anchor;return!(!r.parent.type.spec.code||!r.sameParent(o))&&(t&&t(e.tr.insertText(\"\\n\").scrollIntoView()),!0)}),(function(e,t){var n=e.selection,r=n.$from,o=n.$to;if(r.parent.inlineContent||o.parent.inlineContent)return!1;var i=sa(r.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(t){var s=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,a=e.tr.insert(s,i.createAndFill());a.setSelection(We.TextSelection.create(a.doc,s+1)),t(a.scrollIntoView())}return!0}),(function(e,t){var n=e.selection.$cursor;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){var r=n.before();if(Object(oo.h)(e.doc,r))return t&&t(e.tr.split(r).scrollIntoView()),!0}var o=n.blockRange(),i=o&&Object(oo.l)(o);return null!=i&&(t&&t(e.tr.lift(o,i).scrollIntoView()),!0)}),aa),\"Mod-Enter\":function(e,t){var n=e.selection,r=n.$head,o=n.$anchor;if(!r.parent.type.spec.code||!r.sameParent(o))return!1;var i=r.node(-1),s=r.indexAfter(-1),a=sa(i.contentMatchAt(s));if(!i.canReplaceWith(s,s,a))return!1;if(t){var c=r.after(),l=e.tr.replaceWith(c,c,a.createAndFill());l.setSelection(We.Selection.near(l.doc.resolve(c),1)),t(l.scrollIntoView())}return!0},Backspace:ua,\"Mod-Backspace\":ua,Delete:da,\"Mod-Delete\":da,\"Mod-a\":function(e,t){return t&&t(e.tr.setSelection(new We.AllSelection(e.doc))),!0}},fa={\"Ctrl-h\":pa.Backspace,\"Alt-Backspace\":pa[\"Mod-Backspace\"],\"Ctrl-d\":pa.Delete,\"Ctrl-Alt-Backspace\":pa[\"Mod-Delete\"],\"Alt-Delete\":pa[\"Mod-Delete\"],\"Alt-d\":pa[\"Mod-Delete\"]};for(var ha in pa)fa[ha]=pa[ha];var ma=(\"undefined\"!=typeof navigator?/Mac/.test(navigator.platform):\"undefined\"!=typeof os&&\"darwin\"==os.platform())?fa:pa;var ga=function(e,t){var n=this;this.editorView=e,this.width=t.width||1,this.color=t.color||\"black\",this.class=t.class,this.cursorPos=null,this.element=null,this.timeout=null,this.handlers=[\"dragover\",\"dragend\",\"drop\",\"dragleave\"].map((function(t){var r=function(e){return n[t](e)};return e.dom.addEventListener(t,r),{name:t,handler:r}}))};ga.prototype.destroy=function(){var e=this;this.handlers.forEach((function(t){var n=t.name,r=t.handler;return e.editorView.dom.removeEventListener(n,r)}))},ga.prototype.update=function(e,t){null!=this.cursorPos&&t.doc!=e.state.doc&&this.updateOverlay()},ga.prototype.setCursor=function(e){e!=this.cursorPos&&(this.cursorPos=e,null==e?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())},ga.prototype.updateOverlay=function(){var e,t=this.editorView.state.doc.resolve(this.cursorPos);if(!t.parent.inlineContent){var n=t.nodeBefore,r=t.nodeAfter;if(n||r){var o=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0)).getBoundingClientRect(),i=n?o.bottom:o.top;n&&r&&(i=(i+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),e={left:o.left,right:o.right,top:i-this.width/2,bottom:i+this.width/2}}}if(!e){var s=this.editorView.coordsAtPos(this.cursorPos);e={left:s.left-this.width/2,right:s.left+this.width/2,top:s.top,bottom:s.bottom}}var a=this.editorView.dom.offsetParent;this.element||(this.element=a.appendChild(document.createElement(\"div\")),this.class&&(this.element.className=this.class),this.element.style.cssText=\"position: absolute; z-index: 50; pointer-events: none; background-color: \"+this.color);var c=!a||a==document.body&&\"static\"==getComputedStyle(a).position?{left:-pageXOffset,top:-pageYOffset}:a.getBoundingClientRect();this.element.style.left=e.left-c.left+\"px\",this.element.style.top=e.top-c.top+\"px\",this.element.style.width=e.right-e.left+\"px\",this.element.style.height=e.bottom-e.top+\"px\"},ga.prototype.scheduleRemoval=function(e){var t=this;clearTimeout(this.timeout),this.timeout=setTimeout((function(){return t.setCursor(null)}),e)},ga.prototype.dragover=function(e){if(this.editorView.editable){var t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY});if(t){var n=t.pos;this.editorView.dragging&&this.editorView.dragging.slice&&null==(n=Object(oo.i)(this.editorView.state.doc,n,this.editorView.dragging.slice))&&(n=t.pos),this.setCursor(n),this.scheduleRemoval(5e3)}}},ga.prototype.dragend=function(){this.scheduleRemoval(20)},ga.prototype.drop=function(){this.scheduleRemoval(20)},ga.prototype.dragleave=function(e){e.target!=this.editorView.dom&&this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)};var ya=n(25),ba=function(e){function t(t){e.call(this,t,t)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(n,r){var o=n.resolve(r.map(this.head));return t.valid(o)?new t(o):e.near(o)},t.prototype.content=function(){return Fe.Slice.empty},t.prototype.eq=function(e){return e instanceof t&&e.head==this.head},t.prototype.toJSON=function(){return{type:\"gapcursor\",pos:this.head}},t.fromJSON=function(e,n){if(\"number\"!=typeof n.pos)throw new RangeError(\"Invalid input for GapCursor.fromJSON\");return new t(e.resolve(n.pos))},t.prototype.getBookmark=function(){return new va(this.anchor)},t.valid=function(e){var t=e.parent;if(t.isTextblock||!function(e){for(var t=e.depth;t>=0;t--){var n=e.index(t);if(0!=n)for(var r=e.node(t).child(n-1);;r=r.lastChild){if(0==r.childCount&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}(e)||!function(e){for(var t=e.depth;t>=0;t--){var n=e.indexAfter(t),r=e.node(t);if(n!=r.childCount)for(var o=r.child(n);;o=o.firstChild){if(0==o.childCount&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}(e))return!1;var n=t.type.spec.allowGapCursor;if(null!=n)return n;var r=t.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock},t.findFrom=function(e,n,r){e:for(;;){if(!r&&t.valid(e))return e;for(var o=e.pos,i=null,s=e.depth;;s--){var a=e.node(s);if(n>0?e.indexAfter(s)<a.childCount:e.index(s)>0){i=a.child(n>0?e.indexAfter(s):e.index(s)-1);break}if(0==s)return null;o+=n;var c=e.doc.resolve(o);if(t.valid(c))return c}for(;;){var l=n>0?i.firstChild:i.lastChild;if(!l){if(i.isAtom&&!i.isText&&!We.NodeSelection.isSelectable(i)){e=e.doc.resolve(o+i.nodeSize*n),r=!1;continue e}break}i=l,o+=n;var u=e.doc.resolve(o);if(t.valid(u))return u}return null}},t}(We.Selection);ba.prototype.visible=!1,We.Selection.jsonID(\"gapcursor\",ba);var va=function(e){this.pos=e};va.prototype.map=function(e){return new va(e.map(this.pos))},va.prototype.resolve=function(e){var t=e.resolve(this.pos);return ba.valid(t)?new ba(t):We.Selection.near(t)};var _a=Object(ya.a)({ArrowLeft:wa(\"horiz\",-1),ArrowRight:wa(\"horiz\",1),ArrowUp:wa(\"vert\",-1),ArrowDown:wa(\"vert\",1)});function wa(e,t){var n=\"vert\"==e?t>0?\"down\":\"up\":t>0?\"right\":\"left\";return function(e,r,o){var i=e.selection,s=t>0?i.$to:i.$from,a=i.empty;if(i instanceof We.TextSelection){if(!o.endOfTextblock(n)||0==s.depth)return!1;a=!1,s=e.doc.resolve(t>0?s.after():s.before())}var c=ba.findFrom(s,t,a);return!!c&&(r&&r(e.tr.setSelection(new ba(c))),!0)}}function Ea(e,t,n){if(!e.editable)return!1;var r=e.state.doc.resolve(t);if(!ba.valid(r))return!1;var o=e.posAtCoords({left:n.clientX,top:n.clientY}).inside;return!(o>-1&&We.NodeSelection.isSelectable(e.state.doc.nodeAt(o)))&&(e.dispatch(e.state.tr.setSelection(new ba(r))),!0)}function Sa(e){if(!(e.selection instanceof ba))return null;var t=document.createElement(\"div\");return t.className=\"ProseMirror-gapcursor\",io.b.create(e.doc,[io.a.widget(e.selection.head,t,{key:\"gapcursor\"})])}var Oa=function(){};Oa.prototype.append=function(e){return e.length?(e=Oa.from(e),!this.length&&e||e.length<200&&this.leafAppend(e)||this.length<200&&e.leafPrepend(this)||this.appendInner(e)):this},Oa.prototype.prepend=function(e){return e.length?Oa.from(e).append(this):this},Oa.prototype.appendInner=function(e){return new ka(this,e)},Oa.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?Oa.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},Oa.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},Oa.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},Oa.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(t,n){return r.push(e(t,n))}),t,n),r},Oa.from=function(e){return e instanceof Oa?e:e&&e.length?new xa(e):Oa.empty};var xa=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,r){for(var o=t;o<n;o++)if(!1===e(this.values[o],r+o))return!1},t.prototype.forEachInvertedInner=function(e,t,n,r){for(var o=t-1;o>=n;o--)if(!1===e(this.values[o],r+o))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=200)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=200)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(Oa);Oa.empty=new xa([]);var ka=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,r){var o=this.left.length;return!(t<o&&!1===this.left.forEachInner(e,t,Math.min(n,o),r))&&(!(n>o&&!1===this.right.forEachInner(e,Math.max(t-o,0),Math.min(this.length,n)-o,r+o))&&void 0)},t.prototype.forEachInvertedInner=function(e,t,n,r){var o=this.left.length;return!(t>o&&!1===this.right.forEachInvertedInner(e,t-o,Math.max(n,o)-o,r+o))&&(!(n<o&&!1===this.left.forEachInvertedInner(e,Math.min(t,o),n,r))&&void 0)},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(Oa),Ca=Oa,Aa=function(e,t){this.items=e,this.eventCount=t};Aa.prototype.popEvent=function(e,t){var n=this;if(0==this.eventCount)return null;for(var r,o,i=this.items.length;;i--){if(this.items.get(i-1).selection){--i;break}}t&&(r=this.remapping(i,this.items.length),o=r.maps.length);var s,a,c=e.tr,l=[],u=[];return this.items.forEach((function(e,t){if(!e.step)return r||(r=n.remapping(i,t+1),o=r.maps.length),o--,void u.push(e);if(r){u.push(new Ta(e.map));var d,p=e.step.map(r.slice(o));p&&c.maybeStep(p).doc&&(d=c.mapping.maps[c.mapping.maps.length-1],l.push(new Ta(d,null,null,l.length+u.length))),o--,d&&r.appendMap(d,o)}else c.maybeStep(e.step);return e.selection?(s=r?e.selection.map(r.slice(o)):e.selection,a=new Aa(n.items.slice(0,i).append(u.reverse().concat(l)),n.eventCount-1),!1):void 0}),this.items.length,0),{remaining:a,transform:c,selection:s}},Aa.prototype.addTransform=function(e,t,n,r){for(var o=[],i=this.eventCount,s=this.items,a=!r&&s.length?s.get(s.length-1):null,c=0;c<e.steps.length;c++){var l,u=e.steps[c].invert(e.docs[c]),d=new Ta(e.mapping.maps[c],u,t);(l=a&&a.merge(d))&&(d=l,c?o.pop():s=s.slice(0,s.length-1)),o.push(d),t&&(i++,t=null),r||(a=d)}var p,f,h,m=i-n.depth;return m>Ma&&(f=m,(p=s).forEach((function(e,t){if(e.selection&&0==f--)return h=t,!1})),s=p.slice(h),i-=m),new Aa(s.append(o),i)},Aa.prototype.remapping=function(e,t){var n=new oo.a;return this.items.forEach((function(t,r){var o=null!=t.mirrorOffset&&r-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:null;n.appendMap(t.map,o)}),e,t),n},Aa.prototype.addMaps=function(e){return 0==this.eventCount?this:new Aa(this.items.append(e.map((function(e){return new Ta(e)}))),this.eventCount)},Aa.prototype.rebased=function(e,t){if(!this.eventCount)return this;var n=[],r=Math.max(0,this.items.length-t),o=e.mapping,i=e.steps.length,s=this.eventCount;this.items.forEach((function(e){e.selection&&s--}),r);var a=t;this.items.forEach((function(t){var r=o.getMirror(--a);if(null!=r){i=Math.min(i,r);var c=o.maps[r];if(t.step){var l=e.steps[r].invert(e.docs[r]),u=t.selection&&t.selection.map(o.slice(a+1,r));u&&s++,n.push(new Ta(c,l,u))}else n.push(new Ta(c))}}),r);for(var c=[],l=t;l<i;l++)c.push(new Ta(o.maps[l]));var u=this.items.slice(0,r).append(c).append(n),d=new Aa(u,s);return d.emptyItemCount()>500&&(d=d.compress(this.items.length-n.length)),d},Aa.prototype.emptyItemCount=function(){var e=0;return this.items.forEach((function(t){t.step||e++})),e},Aa.prototype.compress=function(e){void 0===e&&(e=this.items.length);var t=this.remapping(0,e),n=t.maps.length,r=[],o=0;return this.items.forEach((function(i,s){if(s>=e)r.push(i),i.selection&&o++;else if(i.step){var a=i.step.map(t.slice(n)),c=a&&a.getMap();if(n--,c&&t.appendMap(c,n),a){var l=i.selection&&i.selection.map(t.slice(n));l&&o++;var u,d=new Ta(c.invert(),a,l),p=r.length-1;(u=r.length&&r[p].merge(d))?r[p]=u:r.push(d)}}else i.map&&n--}),this.items.length,0),new Aa(Ca.from(r.reverse()),o)},Aa.empty=new Aa(Ca.empty,0);var Ta=function(e,t,n,r){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=r};Ta.prototype.merge=function(e){if(this.step&&e.step&&!e.selection){var t=e.step.merge(this.step);if(t)return new Ta(t.getMap().invert(),t,this.selection)}};var Pa=function(e,t,n,r){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=r},Ma=20;function Ra(e){var t=[];return e.forEach((function(e,n,r,o){return t.push(r,o)})),t}function Da(e,t){if(!e)return null;for(var n=[],r=0;r<e.length;r+=2){var o=t.map(e[r],1),i=t.map(e[r+1],-1);o<=i&&n.push(o,i)}return n}function Ia(e,t,n,r){var o=La(t),i=za.get(t).spec.config,s=(r?e.undone:e.done).popEvent(t,o);if(s){var a=s.selection.resolve(s.transform.doc),c=(r?e.done:e.undone).addTransform(s.transform,t.selection.getBookmark(),i,o),l=new Pa(r?c:s.remaining,r?s.remaining:c,null,0);n(s.transform.setSelection(a).setMeta(za,{redo:r,historyState:l}).scrollIntoView())}}var Na=!1,ja=null;function La(e){var t=e.plugins;if(ja!=t){Na=!1,ja=t;for(var n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){Na=!0;break}}return Na}var za=new We.PluginKey(\"history\"),Ba=new We.PluginKey(\"closeHistory\");function Ua(e){return e={depth:e&&e.depth||100,newGroupDelay:e&&e.newGroupDelay||500},new We.Plugin({key:za,state:{init:function(){return new Pa(Aa.empty,Aa.empty,null,0)},apply:function(t,n,r){return function(e,t,n,r){var o,i=n.getMeta(za);if(i)return i.historyState;n.getMeta(Ba)&&(e=new Pa(e.done,e.undone,null,0));var s=n.getMeta(\"appendedTransaction\");if(0==n.steps.length)return e;if(s&&s.getMeta(za))return s.getMeta(za).redo?new Pa(e.done.addTransform(n,null,r,La(t)),e.undone,Ra(n.mapping.maps[n.steps.length-1]),e.prevTime):new Pa(e.done,e.undone.addTransform(n,null,r,La(t)),null,e.prevTime);if(!1===n.getMeta(\"addToHistory\")||s&&!1===s.getMeta(\"addToHistory\"))return(o=n.getMeta(\"rebased\"))?new Pa(e.done.rebased(n,o),e.undone.rebased(n,o),Da(e.prevRanges,n.mapping),e.prevTime):new Pa(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),Da(e.prevRanges,n.mapping),e.prevTime);var a=0==e.prevTime||!s&&(e.prevTime<(n.time||0)-r.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;var n=!1;return e.mapping.maps[0].forEach((function(e,r){for(var o=0;o<t.length;o+=2)e<=t[o+1]&&r>=t[o]&&(n=!0)})),n}(n,e.prevRanges)),c=s?Da(e.prevRanges,n.mapping):Ra(n.mapping.maps[n.steps.length-1]);return new Pa(e.done.addTransform(n,a?t.selection.getBookmark():null,r,La(t)),Aa.empty,c,n.time)}(n,r,t,e)}},config:e})}function Ha(e){const{doc:t}=e,{nodeSize:n}=t;if(n<2){const e=t.textContent;return!e||\" \"===e}if(n<10){let e=!0;return t.nodesBetween(0,t.nodeSize-2,(n,r)=>{if(e){const r=n.type;if(r.isText){const n=t.textContent;e=!n||\" \"===n||\"\"===n}else r.isAtom&&(e=!1)}return e}),e}return!1}n(142);class Fa{constructor(e){p()(this,\"_el\",null),p()(this,\"_focused\",null),p()(this,\"_view\",null),p()(this,\"_visible\",null),p()(this,\"_checkFocus\",()=>{const e=this._el;if(!this._view||!e)return;const t=document,n=t.activeElement,r=this._getBodyElement();!n||!r||t.hasFocus&&!t.hasFocus()?this._onBlur():n===r||r.contains(n)||n===r.parentNode?this._onFocus():this._onBlur()});const t=document.createElement(\"div\");this._el=t,this._view=e,t.className=\"czi-editor-content-placeholder\",e.dom.parentNode.appendChild(t),document.addEventListener(\"focusin\",this._checkFocus,!0),document.addEventListener(\"focusout\",this._checkFocus,!1),this.update(e),this._checkFocus()}update(e){this._view=e;const t=this._el;if(!t||!e)return;if(this._focused||!Ha(e.state))return void this._hide();const n=t.parentNode,r=this._getBodyElement(),o=e.placeholder;if(!n||!r||!o)return;this._visible=!0,e.dom.classList.add(\"czi-has-placeholder\");const i=n.getBoundingClientRect(),s=r.getBoundingClientRect(),c=window.getComputedStyle(r),l=s.left-i.left,d=s.top-i.top;t.style.left=l+\"px\",t.style.top=d+\"px\",t.style.padding=c.padding,t.style.display=\"block\",t.style.width=r.offsetWidth+\"px\",u.a.render(a.createElement(\"div\",null,o),t)}destroy(){this._hide();const e=this._el;e&&(e.parentNode&&e.parentNode.removeChild(e),u.a.unmountComponentAtNode(e)),document.removeEventListener(\"focusin\",this._checkFocus,!0),document.removeEventListener(\"focusout\",this._checkFocus,!1),this._view=null,this._el=null,this._focused=!1,this._visible=!1}_onFocus(){!0!==this._focused&&(this._focused=!0,this._hide())}_onBlur(){const e=this._view;!1!==this._focused&&(this._focused=!1,e&&Ha(e.state)?this._show():this._hide())}_getBodyElement(){const e=this._view;return e&&e.docView&&e.docView.dom&&e.docView.dom.firstChild}_show(){if(!0!==this._visible){const e=this._el,t=this._view;this._visible=!0,e&&(e.style.display=\"block\"),t&&(this.update(t),t.dom.classList.add(\"czi-has-placeholder\"))}}_hide(){if(!1!==this._visible){const e=this._el,t=this._view;this._visible=!1,e&&(e.style.display=\"none\"),t&&t.dom.classList.remove(\"czi-has-placeholder\")}}}class Va extends We.Plugin{constructor(){super({key:new We.PluginKey(\"ContentPlaceholderPlugin\"),view:e=>new Fa(e)})}}var qa=Va;n(302);const Ka={name:\"CursorPlaceholderPlugin\"};let $a=null;const Ga={key:new We.PluginKey(\"CursorPlaceholderPlugin\"),state:{init:()=>io.b.empty,apply(e,t){t=t.map(e.mapping,e.doc);const n=e.getMeta(this);if(!n)return t;if(n.add){const r=document.createElement(\"czi-cursor-placeholder\");r.className=\"czi-cursor-placeholder\";const o=io.a.widget(n.add.pos,r,{id:Ka});t=t.add(e.doc,[o])}else if(n.remove){const e=t.find(null,null,Ya);t=t.remove(e)}return t}},props:{decorations:e=>$a?$a.getState(e):null}};class Wa extends We.Plugin{constructor(){if(super(Ga),$a)return $a;$a=this}}function Ya(e){return e.id===Ka}function Xa(e){if(!$a)return null;const t=$a.getState(e).find(null,null,Ya);return(t.length?t[0].from:null)||null}function Ja(e){const t=$a;let{tr:n}=e;if(!t||!n.selection)return n;return null===Xa(e)&&(n.selection.empty||(n=n.deleteSelection()),n=n.setMeta(t,{add:{pos:n.selection.from}})),n}function Za(e){const t=$a;let{tr:n}=e;if(!t)return n;return null!==Xa(e)&&(n=n.setMeta(t,{remove:{}})),n}var Qa=Wa;const ec={key:new We.PluginKey(\"EditorPageLayoutPlugin\"),props:{attributes:function(e){const{doc:t}=e,n={class:\"czi-prosemirror-editor\"},{width:r,padding:o,layout:i}=t.attrs;let s,a=\"\";if(r){const e=r/72,t=2.54*e;!s&&e>=10.9&&e<=11.1?s=fo:!s&&e>=8.4&&e<=8.6?s=ho:!s&&t>=29.5&&t<=30.1?s=mo:!s&&t>=20.5&&t<=21.5?s=go:a+=`width: ${r}pt;`,o&&(a+=`padding-left: ${o}pt;`,a+=`padding-right: ${o}pt;`),n.style=a}else s=i;s&&(n[\"data-layout\"]=s);return n}}};class tc extends We.Plugin{constructor(){super(ec)}}var nc=tc,rc=n(9),oc=n.n(rc),ic=\"undefined\"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||\"undefined\"!=typeof msCrypto&&\"function\"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),sc=new Uint8Array(16);function ac(){if(!ic)throw new Error(\"crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported\");return ic(sc)}for(var cc=[],lc=0;lc<256;++lc)cc.push((lc+256).toString(16).substr(1));var uc,dc,pc=function(e,t){var n=t||0;return(cc[e[n+0]]+cc[e[n+1]]+cc[e[n+2]]+cc[e[n+3]]+\"-\"+cc[e[n+4]]+cc[e[n+5]]+\"-\"+cc[e[n+6]]+cc[e[n+7]]+\"-\"+cc[e[n+8]]+cc[e[n+9]]+\"-\"+cc[e[n+10]]+cc[e[n+11]]+cc[e[n+12]]+cc[e[n+13]]+cc[e[n+14]]+cc[e[n+15]]).toLowerCase()},fc=0,hc=0;var mc=function(e,t,n){var r=t&&n||0,o=t||new Array(16),i=(e=e||{}).node||uc,s=void 0!==e.clockseq?e.clockseq:dc;if(null==i||null==s){var a=e.random||(e.rng||ac)();null==i&&(i=uc=[1|a[0],a[1],a[2],a[3],a[4],a[5]]),null==s&&(s=dc=16383&(a[6]<<8|a[7]))}var c=void 0!==e.msecs?e.msecs:Date.now(),l=void 0!==e.nsecs?e.nsecs:hc+1,u=c-fc+(l-hc)/1e4;if(u<0&&void 0===e.clockseq&&(s=s+1&16383),(u<0||c>fc)&&void 0===e.nsecs&&(l=0),l>=1e4)throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");fc=c,hc=l,dc=s;var d=(1e4*(268435455&(c+=122192928e5))+l)%4294967296;o[r++]=d>>>24&255,o[r++]=d>>>16&255,o[r++]=d>>>8&255,o[r++]=255&d;var p=c/4294967296*1e4&268435455;o[r++]=p>>>8&255,o[r++]=255&p,o[r++]=p>>>24&15|16,o[r++]=p>>>16&255,o[r++]=s>>>8|128,o[r++]=255&s;for(var f=0;f<6;++f)o[r+f]=i[f];return t||pc(o)};function gc(){return mc()}n(303);const yc=new Set([\"image/jpeg\",\"image/gif\",\"image/png\",\"image/jpg\"]),bc=new Array(4).join('<div class=\"czi-image-upload-placeholder-child\"></div>');function vc(e){return e instanceof Ec}function _c(e){return e&&yc.has(e.type)}function wc(e,t,n){const{runtime:r,state:o,readOnly:i,disabled:s}=e,{schema:a,plugins:c}=o;if(i||s||!r||!r.canUploadImage)return!1;const l=a.nodes[Jo];if(!l)return!1;const{uploadImage:u,canUploadImage:d}=r;if(!u||!d)return!1;const p=Array.from(t).filter(_c);if(!p.length)return!1;const f=c.find(vc);if(!f)return!1;const h={debugId:\"image_upload_\"+gc()},m=(g=()=>{const t=t=>{const n=function(e,t,n){const r=e.getState(t).find(null,null,e=>e.id===n);return r.length?r[0].from:null}(f,e.state,h);let r=e.state.tr;if(!n||e.readOnly||e.disabled)p.length=0;else{const e=l.create(t);r=r.replaceWith(n,n,e)}p.length?m():r=r.setMeta(f,{remove:{id:h}}),e.dispatch(r)},n=oc()(p.shift());u(n).then(t).catch(t.bind(null,{src:null}))},()=>{setTimeout(g,0)});var g;m();let{tr:y}=o,b=0;if(n){const t=e.posAtCoords({left:n.x,top:n.y});if(!t)return!1;b=t.pos,y=y.setSelection(We.TextSelection.create(y.doc,b,b))}else b=y.selection.to,y=y.setSelection(We.TextSelection.create(y.doc,b,b));const v={add:{id:h,pos:b}};return y=y.setMeta(f,v),e.dispatch(y),!0}class Ec extends We.Plugin{constructor(){super({key:new We.PluginKey(\"ImageUploadPlaceholderPlugin\"),state:{init:()=>io.b.empty,apply(e,t){t=t.map(e.mapping,e.doc);const n=e.getMeta(this);if(n&&n.add){const r=document.createElement(\"div\");r.title=\"Uploading...\",r.className=\"czi-image-upload-placeholder\",r.innerHTML=bc;const o=io.a.widget(n.add.pos,r,{id:n.add.id});t=t.add(e.doc,[o])}else if(n&&n.remove){const e=e=>e.id==n.remove.id;t=t.remove(t.find(null,null,e))}return t}},props:{decorations(e){return this.getState(e)}}})}}var Sc=Ec;n(304);const Oc={name:\"SelectionPlaceholderPlugin\"};let xc=null;const kc={key:new We.PluginKey(\"SelectionPlaceholderPlugin\"),state:{init:()=>io.b.empty,apply(e,t){t=t.map(e.mapping,e.doc);const n=e.getMeta(this);if(!n)return t;if(n.add){const r=io.a.inline(n.add.from,n.add.to,{class:\"czi-selection-placeholder\"},{id:Oc});t=t.add(e.doc,[r])}else if(n.remove){const e=t.find(null,null,Ac);t=t.remove(e)}return t}},props:{decorations:e=>xc?xc.getState(e):null}};class Cc extends We.Plugin{constructor(){if(super(kc),xc)return xc;xc=this}}function Ac(e){return e.id==Oc}function Tc(e){if(!xc)return null;if(!e.plugins.includes(xc))return console.warn(\"SelectionPlaceholderPlugin is not installed\"),null;const t=xc.getState(e).find(null,null,Ac);return(t.length?t[0]:null)||null}function Pc(e,t){t=t||e.tr;const n=xc;if(!n||!t.selection||t.selection.empty)return t;return null===Tc(e)&&(t=t.setMeta(n,{add:{from:t.selection.from,to:t.selection.to}})),t}function Mc(e,t){t=t||e.tr;const n=xc;if(!n)return t;return Tc(e)&&(t=t.setMeta(n,{remove:{}})),t}var Rc=Cc;function Dc(e,t,n,r){if(!e.selection||!e.doc||!n)return e;const{empty:o,$cursor:i,ranges:s}=e.selection;if(o&&!i||!function(e,t,n){for(let r=0;r<t.length;r++){const{$from:o,$to:i}=t[r];let s=0==o.depth&&e.type.allowsMarkType(n);if(e.nodesBetween(o.pos,i.pos,e=>!s&&(s=e.inlineContent&&e.type.allowsMarkType(n),!0)),s)return!0}return!1}(e.doc,s,n))return e;if(i)return e=e.removeStoredMark(n),r?e.addStoredMark(n.create(r)):e;let a=!1;for(let t=0;!a&&t<s.length;t++){const{$from:r,$to:o}=s[t];a=e.doc.rangeHasMark(r.pos,o.pos,n)}for(let t=0;t<s.length;t++){const{$from:o,$to:i}=s[t];a&&(e=e.removeMark(o.pos,i.pos,n)),r&&(e=e.addMark(o.pos,i.pos,n.create(r)))}return e}function Ic(e,t,n,r){let o=t;const i=e=>e.type===r;let s=null,a=null,c=null;for(;o<=n;){const t=e.nodeAt(o);if(!t||!t.marks)return null;const n=t.marks.find(i);if(!n)return null;if(s&&n!==s)return null;a=a||t,s=s||n,c=t,o++}let l=t,u=n,d=0;for(o=t-1;o>d;){const t=e.nodeAt(o),n=t&&t.marks.find(i);if(!n||n!==s)break;l=o,a=t,o--}for(o=n+1,d=e.nodeSize-2;o<d;){const t=e.nodeAt(o),n=t&&t.marks.find(i);if(!n||n!==s)break;u=o,c=t,o++}return{mark:s,from:{node:a,pos:l},to:{node:c,pos:u}}}function Nc(e){return null!=e&&\"object\"==typeof e&&1===e.nodeType}function jc(e,t){return(!t||\"hidden\"!==e)&&(\"visible\"!==e&&\"clip\"!==e)}function Lc(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return jc(n.overflowY,t)||jc(n.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function zc(e,t,n,r,o,i,s,a){return i<e&&s>t||i>e&&s<t?0:i<=e&&a<=n||s>=t&&a>=n?i-e-r:s>t&&a<n||i<e&&a>n?s-t+o:0}var Bc=function(e,t){var n=t.scrollMode,r=t.block,o=t.inline,i=t.boundary,s=t.skipOverflowHiddenElements,a=\"function\"==typeof i?i:function(e){return e!==i};if(!Nc(e))throw new TypeError(\"Invalid target\");for(var c=document.scrollingElement||document.documentElement,l=[],u=e;Nc(u)&&a(u);){if((u=u.parentNode)===c){l.push(u);break}u===document.body&&Lc(u)&&!Lc(document.documentElement)||Lc(u,s)&&l.push(u)}for(var d=window.visualViewport?visualViewport.width:innerWidth,p=window.visualViewport?visualViewport.height:innerHeight,f=window.scrollX||pageXOffset,h=window.scrollY||pageYOffset,m=e.getBoundingClientRect(),g=m.height,y=m.width,b=m.top,v=m.right,_=m.bottom,w=m.left,E=\"start\"===r||\"nearest\"===r?b:\"end\"===r?_:b+g/2,S=\"center\"===o?w+y/2:\"end\"===o?v:w,O=[],x=0;x<l.length;x++){var k=l[x],C=k.getBoundingClientRect(),A=C.height,T=C.width,P=C.top,M=C.right,R=C.bottom,D=C.left;if(\"if-needed\"===n&&b>=0&&w>=0&&_<=p&&v<=d&&b>=P&&_<=R&&w>=D&&v<=M)return O;var I=getComputedStyle(k),N=parseInt(I.borderLeftWidth,10),j=parseInt(I.borderTopWidth,10),L=parseInt(I.borderRightWidth,10),z=parseInt(I.borderBottomWidth,10),B=0,U=0,H=\"offsetWidth\"in k?k.offsetWidth-k.clientWidth-N-L:0,F=\"offsetHeight\"in k?k.offsetHeight-k.clientHeight-j-z:0;if(c===k)B=\"start\"===r?E:\"end\"===r?E-p:\"nearest\"===r?zc(h,h+p,p,j,z,h+E,h+E+g,g):E-p/2,U=\"start\"===o?S:\"center\"===o?S-d/2:\"end\"===o?S-d:zc(f,f+d,d,N,L,f+S,f+S+y,y),B=Math.max(0,B+h),U=Math.max(0,U+f);else{B=\"start\"===r?E-P-j:\"end\"===r?E-R+z+F:\"nearest\"===r?zc(P,R,A,j,z+F,E,E+g,g):E-(P+A/2)+F/2,U=\"start\"===o?S-D-N:\"center\"===o?S-(D+T/2)+H/2:\"end\"===o?S-M+L+H:zc(D,M,T,N,L+H,S,S+y,y);var V=k.scrollLeft,q=k.scrollTop;E+=q-(B=Math.max(0,Math.min(q+B,k.scrollHeight-A+F))),S+=V-(U=Math.max(0,Math.min(V+U,k.scrollWidth-T+H)))}O.push({el:k,top:B,left:U})}return O};function Uc(e){return e===Object(e)&&0!==Object.keys(e).length}var Hc,Fc=function(e,t){var n=!e.ownerDocument.documentElement.contains(e);if(Uc(t)&&\"function\"==typeof t.behavior)return t.behavior(n?[]:Bc(e,t));if(!n){var r=function(e){return!1===e?{block:\"end\",inline:\"nearest\"}:Uc(e)?e:{block:\"start\",inline:\"nearest\"}}(t);return function(e,t){void 0===t&&(t=\"auto\");var n=\"scrollBehavior\"in document.body.style;e.forEach((function(e){var r=e.el,o=e.top,i=e.left;r.scroll&&n?r.scroll({top:o,left:i,behavior:t}):(r.scrollTop=o,r.scrollLeft=i)}))}(Bc(e,r),r.behavior)}},Vc=function(){return Hc||(Hc=\"performance\"in window?performance.now.bind(performance):Date.now),Hc()};function qc(e,t,n,r,o,i){var s,a,c;void 0===r&&(r=600),void 0===o&&(o=function(e){return 1+--e*e*e*e*e}),s=e,a=e.scrollLeft,c=e.scrollTop,function e(t){var n=Vc(),r=Math.min((n-t.startTime)/t.duration,1),o=t.ease(r),i=t.startX+(t.x-t.startX)*o,s=t.startY+(t.y-t.startY)*o;t.method(i,s),i!==t.x||s!==t.y?requestAnimationFrame((function(){return e(t)})):t.cb()}({scrollable:s,method:function(t,n){e.scrollLeft=t,e.scrollTop=n},startTime:Vc(),startX:a,startY:c,x:t,y:n,duration:r,ease:o,cb:i})}var Kc=function(e,t){var n=t||{};return function(e){return e&&!e.behavior||\"smooth\"===e.behavior}(n)?Fc(e,{block:n.block,inline:n.inline,scrollMode:n.scrollMode,boundary:n.boundary,behavior:function(e){return Promise.all(e.reduce((function(e,t){var r=t.el,o=t.left,i=t.top,s=r.scrollLeft,a=r.scrollTop;return s===o&&a===i?e:[].concat(e,[new Promise((function(e){return qc(r,o,i,n.duration,n.ease,(function(){return e({el:r,left:[s,o],top:[a,i]})}))}))])}),[]))}}):Promise.resolve(Fc(e,t))};const $c=/^http(s?):*\\/\\//i;function Gc(e){return e?$c.test(e)?e:\"http://\"+e:\"http://\"}var Wc=n(19),Yc=n.n(Wc),Xc=n(46),Jc=n.n(Xc),Zc=(n(306),n(11)),Qc=n.n(Zc);function el(e){e.preventDefault()}Se.a.bool,Se.a.any,Se.a.string,Se.a.bool,Se.a.string,Se.a.func,Se.a.func,Se.a.object,Se.a.string,Se.a.any;class tl extends a.PureComponent{constructor(){super(...arguments),p()(this,\"props\",void 0),p()(this,\"_clicked\",!1),p()(this,\"_mul\",!1),p()(this,\"_pressedTarget\",null),p()(this,\"_unmounted\",!1),p()(this,\"state\",{pressed:!1}),p()(this,\"_onMouseEnter\",e=>{this._pressedTarget=null,e.preventDefault();const{onMouseEnter:t,value:n}=this.props;t&&t(n,e)}),p()(this,\"_onMouseLeave\",e=>{this._pressedTarget=null;const t=e;this._onMouseUpCapture(t)}),p()(this,\"_onMouseDown\",e=>{e.preventDefault(),this._pressedTarget=null,this._clicked=!1,3!==e.which&&2!=e.button&&(this.setState({pressed:!0}),this._pressedTarget=e.currentTarget,this._clicked=!1,this._mul||(document.addEventListener(\"mouseup\",this._onMouseUpCapture,!0),this._mul=!0))}),p()(this,\"_onMouseUp\",e=>{if(e.preventDefault(),this._clicked||\"keypress\"===e.type){const{onClick:t,value:n,disabled:r}=this.props;!r&&t&&t(n,e)}this._pressedTarget=null,this._clicked=!1}),p()(this,\"_onMouseUpCapture\",e=>{this._mul&&(this._mul=!1,document.removeEventListener(\"mouseup\",this._onMouseUpCapture,!0));const t=e.target;this._clicked=this._pressedTarget instanceof HTMLElement&&t instanceof HTMLElement&&(t===this._pressedTarget||t.contains(this._pressedTarget)||this._pressedTarget.contains(t)),this.setState({pressed:!1})})}render(){const{className:e,disabled:t,active:n,id:r,style:o,title:i,children:s}=this.props,{pressed:c}=this.state,l=Qc()(e,{active:n,disabled:t,pressed:c});return a.createElement(\"span\",{\"aria-disabled\":t,\"aria-pressed\":c,className:l,disabled:t,id:r,onKeyPress:t?el:this._onMouseUp,onMouseDown:t?el:this._onMouseDown,onMouseEnter:t?el:this._onMouseEnter,onMouseLeave:t?null:this._onMouseLeave,onMouseUp:t?el:this._onMouseUp,role:\"button\",style:o,tabIndex:t?null:0,title:i},s)}componentWillUnmount(){this._unmounted=!0,this._mul&&(this._mul=!1,document.removeEventListener(\"mouseup\",this._onMouseUpCapture,!0))}}var nl=tl;n(307),n(308),n(309),n(77),Se.a.number.isRequired,Se.a.number.isRequired,Se.a.number.isRequired,Se.a.number.isRequired;function rl(e){return 0===e.w||0===e.h}function ol(e,t,n){const r=n||0;return!(t.x-r>e.x+e.w+r||t.x+t.w+r<e.x-r||t.y-r>e.y+e.h+r||t.y+t.h+r<e.y-r)}function il(e,t,n){return{x:e-(n=n||0),y:t-n,w:2*n,h:2*n}}function sl(e){if(\"contents\"===document.defaultView.getComputedStyle(e).display&&1===e.children.length)return sl(e.children[0]);const t=e.getBoundingClientRect();return{x:t.left,y:t.top,w:t.width,h:t.height}}Se.a.func;function al(e,t){const n={x:0,y:0,w:0,h:0};if(e&&t){n.x=e.x,n.y=e.y+e.h;const r=window.innerWidth,o=window.innerHeight;n.x+t.w>r&&(n.x=e.x-t.w+e.w),n.y+t.h>o&&(n.y=Math.max(e.y-t.h,2))}return e&&!rl(e)||(n.x=-1e4),n}function cl(e,t){const n={x:0,y:0,w:0,h:0};return e&&t&&(n.x=Math.max(e.x-(t.w-e.w)/2,10),n.y=e.y+e.h),e&&!rl(e)||(n.x=-1e4),n}function ll(e,t){const n={x:0,y:0,w:0,h:0};if(e&&t){n.x=e.x+e.w+1,n.y=e.y;const r=window.innerWidth;n.x+t.w>r&&(n.x=Math.max(2,e.x-t.w))}return e&&!rl(e)||(n.x=-1e4),n}function ul(e,t){const n={x:0,y:0,w:0,h:0};return t&&(n.x=(window.innerWidth-t.w)/2,n.y=(window.innerHeight-t.h)/2),t&&!rl(t)||(n.x=-1e4),n}function dl(e,t){const n={x:0,y:0,w:0,h:0};return e&&t&&(n.x=e.x+e.w+1-t.w,n.y=e.y),e&&!rl(e)||(n.x=-1e4),n}function pl(e,t){const n={x:0,y:0,w:0,h:0};return e&&t&&(n.x=e.x+(e.w-t.w)/2,n.y=e.y),e&&!rl(e)||(n.x=-1e4),n}Se.a.bool.isRequired,Se.a.func.isRequired,Se.a.bool.isRequired,Se.a.func.isRequired;const fl={x:-1e4,y:-1e4,w:0,h:0};var hl=new class{constructor(){p()(this,\"_bridges\",new Map),p()(this,\"_positions\",new Map),p()(this,\"_mx\",0),p()(this,\"_my\",0),p()(this,\"_rafID\",0),p()(this,\"_onScroll\",e=>{this._rafID&&cancelAnimationFrame(this._rafID),this._rafID=requestAnimationFrame(this._syncPosition)}),p()(this,\"_onResize\",e=>{this._rafID&&cancelAnimationFrame(this._rafID),this._rafID=requestAnimationFrame(this._syncPosition)}),p()(this,\"_onMouseChange\",e=>{this._mx=Math.round(e.clientX),this._my=Math.round(e.clientY),this._rafID&&cancelAnimationFrame(this._rafID),this._rafID=requestAnimationFrame(this._syncPosition)}),p()(this,\"_onClick\",e=>{const t=Date.now();let n;for(const[e,r]of this._bridges)if(t-r>350){const t=e.getDetails();t.modal&&t.autoDismiss&&(n=t)}if(!n)return;const{body:r,close:o}=n,i=il(e.clientX,e.clientY,1),s=r?sl(r):null;s&&ol(i,s)||o()}),p()(this,\"_syncPosition\",()=>{this._rafID=0;const e=new Map;for(const[t,n]of this._bridges){const n=t.getDetails();e.set(t,n);const{anchor:r,body:o}=n;o instanceof HTMLElement&&(n.bodyRect=sl(o)),r instanceof HTMLElement&&(n.anchorRect=sl(r))}const t=il(this._mx,this._my,2),n=new Set;for(const[r,o]of e){const{anchor:e,bodyRect:i,anchorRect:s,position:a,body:c}=o;if(!i&&!s)continue;const{x:l,y:u}=a(s,i),d=`${l}-${u}`;if(c&&i&&this._positions.get(r)!==d){const e=s?li(0,s.x-l+s.w/2,i.w-s.w/2):0;this._positions.set(r,d);const t=c.style;t.position=\"absolute\",t.left=l+\"px\",t.top=u+\"px\",t.setProperty(\"--czi-pop-up-anchor-offset-left\",e+\"px\"),i.x=l,i.y=u}(ol(t,i||fl,0)||ol(t,s||fl,0))&&e&&n.add(e)}for(;;){const t=n.size;for(const[t,r]of e){const{anchor:e,body:t}=r;for(const r of n)e&&t&&!n.has(e)&&t.contains(r)&&n.add(e)}if(n.size===t)break}const r=Date.now();for(const[t,o]of this._bridges){const i=e.get(t);if(i){const{autoDismiss:e,anchor:t,close:s,modal:a}=i;e&&!a&&r-o>350&&!n.has(t)&&s()}}})}register(e){this._bridges.set(e,Date.now()),this._positions.set(e,null),1===this._bridges.size&&this._observe(),this._rafID=requestAnimationFrame(this._syncPosition)}unregister(e){this._bridges.delete(e),this._positions.delete(e),0===this._bridges.size&&this._unobserve(),this._rafID&&cancelAnimationFrame(this._rafID)}_observe(){document.addEventListener(\"mousemove\",this._onMouseChange,!1),document.addEventListener(\"mouseup\",this._onMouseChange,!1),document.addEventListener(\"click\",this._onClick,!1),window.addEventListener(\"scroll\",this._onScroll,!0),window.addEventListener(\"resize\",this._onResize,!0)}_unobserve(){document.removeEventListener(\"mousemove\",this._onMouseChange,!1),document.removeEventListener(\"mouseup\",this._onMouseChange,!1),document.removeEventListener(\"click\",this._onClick,!1),window.removeEventListener(\"scroll\",this._onScroll,!0),window.removeEventListener(\"resize\",this._onResize,!0),this._rafID&&cancelAnimationFrame(this._rafID)}};Se.a.object,Se.a.any,Se.a.bool,Se.a.bool,Se.a.func,Se.a.func,Se.a.func.isRequired,Se.a.func.isRequired,Se.a.shape({anchor:Se.a.any,autoDismiss:Se.a.bool,container:function(){return(\"function\"==typeof Element?Se.a.instanceOf(Element):Se.a.any).apply(this,arguments)},modal:Se.a.bool,onClose:Se.a.func,position:Se.a.func}).isRequired,Se.a.object.isRequired,Se.a.func.isRequired,Se.a.func.isRequired;class ml extends a.PureComponent{constructor(){super(...arguments),p()(this,\"props\",void 0),p()(this,\"_bridge\",null),p()(this,\"_id\",gc()),p()(this,\"_getDetails\",()=>{const{close:e,popUpParams:t}=this.props,{anchor:n,autoDismiss:r,position:o,modal:i}=t;return{anchor:n,autoDismiss:!1!==r,body:document.getElementById(this._id),close:e,modal:!0===i,position:o||(i?ul:al)}})}render(){const{View:e,viewProps:t,close:n}=this.props;return a.createElement(\"div\",{\"data-pop-up-id\":this._id,id:this._id},a.createElement(e,Yc()({},t||{},{close:n})))}componentDidMount(){this._bridge={getDetails:this._getDetails},hl.register(this._bridge)}componentWillUnmount(){this._bridge&&hl.unregister(this._bridge)}}var gl=ml;Se.a.func.isRequired,Se.a.func.isRequired;let yl=0,bl=0;const vl=\"pop-up-modal-mask-\"+gc();function _l(){const e=document.getElementById(vl);e&&e.parentElement&&e.parentElement.removeChild(e)}function wl(e,t,n){const r=n&&n.container||document.body||document.documentElement;let o=document.getElementById(e);if(!o&&t&&(o=document.createElement(\"div\")),!o)return null;n&&n.modal&&o.setAttribute(\"data-pop-up-modal\",\"y\"),o.className=\"czi-pop-up-element czi-vars\",o.id=e;const i=o.style,s=n&&n.modal?1:0;return n&&n.container||(i.zIndex=9999+3*bl+s),o.setAttribute(\"role\",\"dialog\"),o.setAttribute(\"aria-modal\",\"true\"),r&&!o.parentElement&&r.appendChild(o),o}function El(e,t,n,r,o){const i=wl(e,!0,o);if(i){const e=a.createElement(gl,{View:n,close:t,popUpParams:o,viewProps:r});u.a.render(e,i)}yl>0?function(){const e=document.body||document.documentElement;let t=document.getElementById(vl);t||(t=document.createElement(\"div\"),t.id=vl,t.className=\"czi-pop-up-modal-mask\",t.setAttribute(\"data-mask-type\",\"czi-pop-up-modal-mask\"),t.setAttribute(\"role\",\"dialog\"),t.setAttribute(\"aria-modal\",\"true\")),e&&!t.parentElement&&e.appendChild(t);const n=t.style,r=Array.from(document.querySelectorAll(\".czi-pop-up-element[data-pop-up-modal]\")).reduce((e,t)=>Math.max(e,Number(t.style.zIndex)),0);n.zIndex=r-1}():_l()}function Sl(e,t,n){const r=gc();let o=null,i=t;t=t||{};const s=(n=n||{}).modal||!n.anchor;n.modal=s,bl++,s&&yl++;const a=e=>{if(!o)return;s&&yl--,bl--,o=null,function(e){const t=wl(e,!1);t&&(u.a.unmountComponentAtNode(t),t.parentElement&&t.parentElement.removeChild(t)),0===yl&&_l()}(r);const t=n&&n.onClose;t&&t(e)},c=El.bind(null,r,a,e),l={};return o={close:a,update:e=>{i=e,c(i||l,n||l)}},c(i||l,n||l),o}class Ol extends a.PureComponent{render(){const{tooltip:e}=this.props;return a.createElement(\"div\",{className:\"czi-tooltip-view czi-animation-fade-in\"},e)}}class xl extends a.PureComponent{constructor(){super(...arguments),p()(this,\"_id\",gc()),p()(this,\"_popUp\",null),p()(this,\"props\",void 0),p()(this,\"_onMouseEnter\",()=>{if(!this._popUp){const{tooltip:e}=this.props;this._popUp=Sl(Ol,{tooltip:e},{anchor:document.getElementById(this._id),onClose:this._onClose,position:cl})}}),p()(this,\"_onMouseLeave\",()=>{this._popUp&&this._popUp.close(),this._popUp=null}),p()(this,\"_onClose\",()=>{this._popUp=null})}componentWillUnmount(){this._popUp&&this._popUp.close()}render(){const{tooltip:e,children:t}=this.props;return a.createElement(\"span\",{\"aria-label\":e,className:\"czi-tooltip-surface\",\"data-tooltip\":e,id:this._id,onMouseDown:e&&this._onMouseLeave,onMouseEnter:e&&this._onMouseEnter,onMouseLeave:e&&this._onMouseLeave,role:\"tooltip\"},t)}}var kl=xl;class Cl extends a.PureComponent{constructor(){super(...arguments),p()(this,\"props\",void 0)}render(){const e=this.props,{icon:t,label:n,className:r,title:o}=e,i=Jc()(e,[\"icon\",\"label\",\"className\",\"title\"]),s=Qc()(r,\"czi-custom-button\",{\"use-icon\":!!t});return a.createElement(kl,{tooltip:o},a.createElement(nl,Yc()({},i,{className:s}),t,n))}}var Al=Cl;n(310);class Tl extends a.PureComponent{constructor(){super(...arguments),p()(this,\"props\",void 0),p()(this,\"_unmounted\",!1),p()(this,\"state\",{hidden:!1}),p()(this,\"_openLink\",e=>{if(function(e){return!!e&&0===e.indexOf(\"#\")&&e.length>=2}(e)){const t=e.substr(1),n=document.getElementById(t);if(n){const{onCancel:e,editorView:t}=this.props;e(t),(async()=>{await Kc(n,{scrollMode:\"if-needed\",behavior:\"smooth\"})})()}}else e&&window.open(Gc(e))})}render(){const{href:e,editorView:t,onEdit:n,onRemove:r}=this.props;return a.createElement(\"div\",{className:\"czi-link-tooltip\"},a.createElement(\"div\",{className:\"czi-link-tooltip-body\"},a.createElement(\"div\",{className:\"czi-link-tooltip-row\"},a.createElement(Al,{className:\"czi-link-tooltip-href\",label:e,onClick:this._openLink,target:\"new\",title:e,value:e}),a.createElement(Al,{label:_s(\"Change\"),onClick:n,value:t}),a.createElement(Al,{label:_s(\"Remove\"),onClick:r,value:t}))))}}var Pl=Tl;n(31),n(143);const Ml=/\\s/;class Rl extends a.PureComponent{constructor(){super(...arguments),p()(this,\"state\",{url:this.props.href}),p()(this,\"_onKeyDown\",e=>{13===e.keyCode&&(e.preventDefault(),this._apply())}),p()(this,\"_onURLChange\",e=>{const t=e.target.value;this.setState({url:t})}),p()(this,\"_cancel\",()=>{this.props.close()}),p()(this,\"_apply\",()=>{const{url:e}=this.state;e&&!Ml.test(e)&&this.props.close(Gc(e))})}render(){const{href:e}=this.props,{url:t}=this.state,n=!!t&&Ml.test(t);let r=_s(\"Apply\"),o=!!n;return e?(r=_s(t?\"Apply\":\"Remove\"),o=n):o=n||!t,a.createElement(\"div\",{className:\"czi-image-url-editor\"},a.createElement(\"form\",{className:\"czi-form\",onSubmit:el},a.createElement(\"fieldset\",null,a.createElement(\"legend\",null,_s(\"Add a Link\")),a.createElement(\"input\",{autoFocus:!0,onChange:this._onURLChange,onKeyDown:this._onKeyDown,placeholder:_s(\"Paste a URL\"),spellCheck:!1,type:\"text\",value:t||\"\"})),a.createElement(\"div\",{className:\"czi-form-buttons\"},a.createElement(Al,{label:_s(\"Cancel\"),onClick:this._cancel}),a.createElement(Al,{active:!0,disabled:o,label:r,onClick:this._apply}))))}}p()(Rl,\"propsTypes\",{href:Se.a.string,close:function(e,t){var n=e[t];if(!n.prototype||\"function\"!=typeof n.prototype.constructor&&1!==n.prototype.constructor.length)return new Error(t+\"must be a function with 1 arg of type string\")}});var Dl=Rl;const Il={key:new We.PluginKey(\"LinkTooltipPlugin\"),view:e=>new jl(e)};class Nl extends We.Plugin{constructor(){super(Il)}}class jl{constructor(e){p()(this,\"_anchorEl\",null),p()(this,\"_popup\",null),p()(this,\"_editor\",null),p()(this,\"_onCancel\",e=>{this.destroy(),e.focus()}),p()(this,\"_onClose\",()=>{this._anchorEl=null,this._editor=null,this._popup=null}),p()(this,\"_onEdit\",e=>{if(this._editor)return;const{state:t}=e,{schema:n,doc:r,selection:o}=t,{from:i,to:s}=o,a=Ic(r,i,s,n.marks[Mo]);if(!a)return;let{tr:c}=t;const l=We.TextSelection.create(c.doc,a.from.pos,a.to.pos+1);c=c.setSelection(l),c=Pc(t,c),e.dispatch(c);const u=a?a.mark.attrs.href:null;this._editor=Sl(Dl,{href:u},{onClose:t=>{this._editor=null,this._onEditEnd(e,o,t)}})}),p()(this,\"_onRemove\",e=>{this._onEditEnd(e,e.state.selection,null)}),p()(this,\"_onEditEnd\",(e,t,n)=>{const{state:r,dispatch:o}=e;let i=Mc(r);if(void 0!==n){const{schema:e}=r,o=e.marks[Mo];if(o){const e=Ic(i.doc,t.from,t.to,o);if(e){const r=We.TextSelection.create(i.doc,e.from.pos,e.to.pos+1);i=i.setSelection(r);i=Dc(i,0,o,n?{href:n}:null);const s=We.TextSelection.create(i.doc,t.from,t.to);i=i.setSelection(s)}}}o(i),e.focus()}),this.update(e,null)}update(e,t){if(e.readOnly)return void this.destroy();const{state:n}=e,{doc:r,selection:o,schema:i}=n,s=i.marks[Mo];if(!s)return;const{from:a,to:c}=o,l=Ic(r,a,c,s);if(!l)return void this.destroy();const u=e.domAtPos(a);if(!u)return void this.destroy();const d=function(e,t){for(;e&&e.nodeName;){if(t(e))return e;e=e.parentElement}return null}(u.node,e=>\"A\"===e.nodeName);if(!d)return void this.destroy();const p=this._popup,f={editorState:n,editorView:e,href:l.mark.attrs.href,onCancel:this._onCancel,onEdit:this._onEdit,onRemove:this._onRemove};p&&d===this._anchorEl?p.update(f):(p&&p.close(),this._anchorEl=d,this._popup=Sl(Pl,f,{anchor:d,autoDismiss:!1,onClose:this._onClose,position:pl}))}destroy(){this._popup&&this._popup.close(),this._editor&&this._editor.close()}}var Ll=Nl,zl=n(10);function Bl(e){const{doc:t,selection:n,schema:r}=e,o=r.nodes[oi],i=r.nodes[ii];if(!o&&!i)return null;let s=n;if(s instanceof We.TextSelection){const{from:e,to:r}=n;if(e!==r)return null;const a=o&&Object(zl.findParentNodeOfType)(o)(n)||i&&Object(zl.findParentNodeOfType)(i)(n);if(!a)return null;s=Ns.CellSelection.create(t,a.pos)}return s instanceof Ns.CellSelection?function(e){const{$anchorCell:t}=e,n=t.start(-1),r=t.node(-1),o=Ns.TableMap.get(r);let i,s=null,a=null;return e.forEachCell((e,t)=>{const r=o.findCell(t-n);(!i||r.top>=i.top&&r.left>i.left)&&(i=r,s=t,a=e)}),null===s?null:{node:a,pos:s}}(s):null}n(311),n(312);class Ul extends a.Component{render(){const{children:e}=this.props;return a.createElement(\"div\",{className:\"czi-custom-menu czi-custom-scrollbar\"},e)}}var Hl=Ul;n(313);class Fl extends a.PureComponent{render(){return a.createElement(\"div\",{className:\"czi-custom-menu-item-separator\"})}}class Vl extends a.PureComponent{constructor(){super(...arguments),p()(this,\"props\",void 0)}render(){return a.createElement(Al,Yc()({},this.props,{className:\"czi-custom-menu-item\"}))}}p()(Vl,\"Separator\",Fl);var ql=Vl;Se.a.func,Se.a.func;function Kl(e,t){const n=e[t];return\"tr\"===t&&n instanceof oo.f?n.setMeta(\"dryrun\",!0):n}function $l(e,t,n){return e[t]=n,!0}class Gl{constructor(){p()(this,\"shouldRespondToUIEvent\",e=>e.type===Gl.EventType.CLICK),p()(this,\"renderLabel\",e=>null),p()(this,\"isActive\",e=>!1),p()(this,\"isEnabled\",(e,t)=>this.dryRun(e,t)),p()(this,\"dryRun\",(e,t)=>{const{Proxy:n}=window,r=n?new n(e,{get:Kl,set:$l}):e;return this.execute(r,null,t)}),p()(this,\"execute\",(e,t,n,r)=>(this.waitForUserInput(e,t,n,r).then(r=>{this.executeWithUserInput(e,t,n,r)}).catch(e=>{console.error(e)}),!1)),p()(this,\"waitForUserInput\",(e,t,n,r)=>Promise.resolve(void 0)),p()(this,\"executeWithUserInput\",(e,t,n,r)=>!1)}cancel(){}}p()(Gl,\"EventType\",{CLICK:\"mouseup\",MOUSEENTER:\"mouseenter\"});var Wl=Gl;class Yl extends a.PureComponent{constructor(){super(...arguments),p()(this,\"_activeCommand\",null),p()(this,\"props\",void 0),p()(this,\"_onUIEnter\",(e,t)=>{e.shouldRespondToUIEvent(t)&&(this._activeCommand&&this._activeCommand.cancel(),this._activeCommand=e,this._execute(e,t))}),p()(this,\"_execute\",(e,t)=>{const{dispatch:n,editorState:r,editorView:o,onCommand:i}=this.props;e.execute(r,n,o,t)&&i&&i()})}render(){const{commandGroups:e,editorState:t,editorView:n}=this.props,r=[],o=e.length-1;return e.forEach((e,i)=>{Object.keys(e).forEach(o=>{const i=e[o];let s=!0;try{s=!n||!i.isEnabled(t,n)}catch(e){s=!1}r.push(a.createElement(ql,{active:i.isActive(t),disabled:s,key:o,label:i.renderLabel(t)||o,onClick:this._onUIEnter,onMouseEnter:this._onUIEnter,value:i}))}),i!==o&&r.push(a.createElement(ql.Separator,{key:String(i)+\"-hr\"}))}),a.createElement(Hl,null,r)}}var Xl=Yl;n(314);function Jl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jl(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class Ql extends a.PureComponent{constructor(){super(...arguments),p()(this,\"props\",void 0),p()(this,\"_menu\",null),p()(this,\"_id\",gc()),p()(this,\"state\",{expanded:!1}),p()(this,\"_onClick\",()=>{const e=!this.state.expanded;this.setState({expanded:e}),e?this._showMenu():this._hideMenu()}),p()(this,\"_hideMenu\",()=>{const e=this._menu;this._menu=null,e&&e.close()}),p()(this,\"_showMenu\",()=>{const e=this._menu,t=Zl(Zl({},this.props),{},{onCommand:this._onCommand});e?e.update(t):this._menu=Sl(Xl,t,{anchor:document.getElementById(this._id),onClose:this._onClose})}),p()(this,\"_onCommand\",()=>{this.setState({expanded:!1}),this._hideMenu()}),p()(this,\"_onClose\",()=>{this._menu&&(this.setState({expanded:!1}),this._menu=null)})}render(){const{className:e,label:t,commandGroups:n,editorState:r,editorView:o,icon:i,disabled:s,title:c}=this.props,l=!s&&n.some((e,t)=>Object.keys(e).some(t=>{const n=e[t];let i=!0;try{i=!o||!n.isEnabled(r,o)}catch(e){i=!1}return!i})),{expanded:u}=this.state,d=Qc()(e,{\"czi-custom-menu-button\":!0,expanded:u});return a.createElement(Al,{className:d,disabled:!l,icon:i,id:this._id,label:t,onClick:this._onClick,title:c})}componentWillUnmount(){this._hideMenu()}}var eu=Ql;function tu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tu(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class ru extends oo.d{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"SetDocAttr\";super(),p()(this,\"key\",void 0),p()(this,\"stepType\",void 0),p()(this,\"value\",void 0),this.stepType=n,this.key=e,this.value=t}apply(e){this.prevValue=e.attrs[this.key];const t=nu(nu({},e.attrs),{},{[this.key]:this.value}),n=e.type.create(t,e.content,e.marks);return oo.e.ok(n)}invert(){return new ru(this.key,this.prevValue,\"revertSetDocAttr\")}map(e){var t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted?null:new ru(this.key,this.value,\"SetDocAttr\")}merge(e){if(e instanceof ru&&e.mark&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new ru(this.key,this.value,\"SetDocAttr\")}toJSON(){return{stepType:this.stepType,key:this.key,value:this.value}}static fromJSON(e,t){return new ru(t.key,t.value,t.stepType)}}oo.d.jsonID(\"SetDocAttr\",ru);var ou=ru;n(315);class iu extends a.PureComponent{constructor(){super(...arguments),p()(this,\"props\",void 0),p()(this,\"_name\",gc())}render(){const e=this.props,{title:t,className:n,checked:r,label:o,inline:i,name:s,onSelect:c,disabled:l}=e,u=Jc()(e,[\"title\",\"className\",\"checked\",\"label\",\"inline\",\"name\",\"onSelect\",\"disabled\"]),d=Qc()(n,\"czi-custom-radio-button\",{checked:r,inline:i});return a.createElement(nl,Yc()({},u,{className:d,disabled:l,onClick:c,title:t||o}),a.createElement(\"input\",{checked:r,className:\"czi-custom-radio-button-input\",disabled:l,name:s||this._name,onChange:el,tabIndex:l?null:0,type:\"radio\"}),a.createElement(\"span\",{className:\"czi-custom-radio-button-icon\"}),a.createElement(\"span\",{className:\"czi-custom-radio-button-label\"},o))}}var su=iu;n(316),Se.a.string,Se.a.number;class au extends a.PureComponent{constructor(e,t){super(e,t),p()(this,\"_unmounted\",!1),p()(this,\"state\",void 0),p()(this,\"_onSelect\",e=>{this.setState({selectedValue:e})}),p()(this,\"_cancel\",()=>{this.props.close()}),p()(this,\"_apply\",()=>{const{selectedValue:e}=this.state;\"string\"==typeof e?this.props.close({width:null,layout:e}):this.props.close({width:e,layout:null})});const{width:n,layout:r}=this.props.initialValue||{};this.state={width:n,layout:r,selectedValue:n||r||go}}render(){const{width:e,selectedValue:t}=this.state,n=e?a.createElement(su,{checked:t===e,key:\"c\",label:`Custom width: ${e}pt`,onSelect:this._onSelect,value:e}):null;return a.createElement(\"div\",{className:\"czi-body-layout-editor\"},a.createElement(\"form\",{className:\"czi-form\",onSubmit:el},a.createElement(\"fieldset\",null,a.createElement(\"legend\",null,_s(\"Page Layout\")),a.createElement(su,{checked:t===go,label:_s(\"A4 - Portrait\"),onSelect:this._onSelect,value:go}),a.createElement(su,{checked:t===mo,label:_s(\"A4 - Landscape\"),onSelect:this._onSelect,value:mo}),a.createElement(su,{checked:t===ho,label:_s(\"US Letter - Portrait\"),onSelect:this._onSelect,value:ho}),a.createElement(su,{checked:t===fo,label:_s(\"US Letter - Landscape\"),onSelect:this._onSelect,value:fo}),a.createElement(su,{checked:t===uo,label:\"4:3 Desktop Screen\",onSelect:this._onSelect,value:uo}),a.createElement(su,{checked:t===po,label:\"16:9 Desktop Screen\",onSelect:this._onSelect,value:po}),n),a.createElement(\"hr\",null),a.createElement(\"div\",{className:\"czi-form-buttons\"},a.createElement(Al,{label:_s(\"Cancel\"),onClick:this._cancel}),a.createElement(Al,{active:!0,label:_s(\"Apply\"),onClick:this._apply}))))}}p()(au,\"propsTypes\",{close:function(e,t){var n=e[t];if(!n.prototype||\"function\"!=typeof n.prototype.constructor&&1!==n.prototype.constructor.length)return new Error(t+\"must be a function with 1 arg of type DocLayoutEditorValue\")}});var cu=au;var lu=class extends Wl{constructor(){super(...arguments),p()(this,\"_popUp\",null),p()(this,\"isEnabled\",e=>!0),p()(this,\"isActive\",e=>!!this._popUp),p()(this,\"waitForUserInput\",(e,t,n,r)=>{if(this._popUp)return Promise.resolve(void 0);const{doc:o}=e;return new Promise(e=>{const t={initialValue:o.attrs};this._popUp=Sl(cu,t,{modal:!0,onClose:t=>{this._popUp&&(this._popUp=null,e(t))}})})}),p()(this,\"executeWithUserInput\",(e,t,n,r)=>{if(t){const{selection:o,schema:i}=e;let{tr:s}=e;if(s=s.setSelection(o),r){const{width:e,layout:t}=r;s=function(e,t,n,r){const{doc:o}=e;return o?e=(e=e.step(new ou(\"width\",n||null))).step(new ou(\"layout\",r||null)):e}(s,0,e,t)}t(s),n&&n.focus()}return!1})}};var uu=function(){};function du(e,t){return e>t?1:e<t?-1:0}function pu(e,t){if(e.nodeSize<2||t<2)return!1;const n=e.nodeAt(t-1);return n&&n.type.name===Qo}function fu(e){return e.type.name===ti}function hu(e){return e instanceof Fe.Node&&(function(e){return e.type.name===Ko}(e)||fu(e))}function mu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mu(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yu(e,t,n){const{selection:r,doc:o}=e;if(!r||!o)return e;const{from:i,to:s}=r,{nodes:a}=t,c=a[Vo],l=a[Qo],u=a[Yo],d=a[ni],p=[];n=n||null;const f=new Set([c,u,l,d]);return o.nodesBetween(i,s,(e,t,r)=>{const o=e.type;return(e.attrs.align||null)!==n&&f.has(o)&&p.push({node:e,pos:t,nodeType:o}),!0}),p.length?(p.forEach(t=>{const{node:r,pos:o,nodeType:i}=t;let{attrs:s}=r;s=gu(gu({},s),{},n?{align:n}:{align:null}),e=e.setNodeMarkup(o,i,s,r.marks)}),e):e}var bu=class extends Wl{constructor(e){super(),p()(this,\"_alignment\",void 0),p()(this,\"isActive\",e=>{const{selection:t,doc:n}=e,{from:r,to:o}=t;let i=!0,s=!1;return n.nodesBetween(r,o,(e,t)=>(i&&e.attrs.align===this._alignment&&(i=!1,s=!0),i)),s}),p()(this,\"isEnabled\",e=>{const{selection:t}=e;return t instanceof We.TextSelection||t instanceof We.AllSelection}),p()(this,\"execute\",(e,t,n)=>{const{schema:r,selection:o}=e,i=yu(e.tr.setSelection(o),r,this._alignment);return!!i.docChanged&&(t&&t(i),!0)}),this._alignment=e}};const{MARK_EM:vu,MARK_FONT_SIZE:_u,MARK_FONT_TYPE:wu,MARK_STRIKE:Eu,MARK_STRONG:Su,MARK_TEXT_COLOR:Ou,MARK_TEXT_HIGHLIGHT:xu,MARK_UNDERLINE:ku,MARK_CUSTOMSTYLES:Cu}=r,Au=[vu,_u,wu,Eu,Su,Ou,xu,ku,Cu];function Tu(e,t){const{doc:n,selection:r}=e;if(!r||!n)return e;const{from:o,to:i,empty:s}=r;if(s)return e;const a=new Set(Au.map(e=>t.marks[e]).filter(Boolean));if(!a.size)return e;const c=[];return n.nodesBetween(o,i,(e,t)=>!e.marks||!e.marks.length||(e.marks.some(n=>{a.has(n.type)&&c.push({node:e,pos:t,mark:n})}),!0)),c.length?(c.forEach(t=>{const{node:n,mark:r,pos:o}=t;e=e.removeMark(o,o+n.nodeSize,r.type)}),e=yu(e,t,null)):e}function Pu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pu(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ru(e){if(e.getMeta(\"dryrun\"))return e;let t;for(;;){const n=Nu(e.doc,t);if(!n){e=Du(e);break}{const{deleteFrom:r,deleteTo:o,insertAt:i,content:s}=n;e=(e=e.delete(r,o)).insert(i,s),t=n}}return e}function Du(e){const t=e.doc.nodeSize-2;if(1>=t)return e;const n=new Set;let r=null;return e.doc.nodesBetween(1,t,(t,o,i)=>{let s=!0;if(hu(t)){s=!1;const a=t.attrs.indent||0,c=t.attrs.start||1,{name:l,following:u}=t.attrs;if(l&&n.add(l),r){if(1===c&&fu(t)){let n;r.some((e,r)=>e.node.type!==t.type&&e.indent===a||e.indent<a?(n=!1,!0):e.indent===a&&(n=!0,!0)),void 0!==n&&(e=Iu(e,o,n))}}else if(r=[],fu(t)){const t=n.has(u);e=Iu(e,o,t)}r.unshift({parentNode:i,indent:a,node:t})}else r=null;return s}),e}function Iu(e,t,n){const r=e.doc.nodeAt(t),o=n?\"none\":null;if(o!==(r.attrs.counterReset||null)){const n=Mu(Mu({},r.attrs),{},{counterReset:o});e=e.setNodeMarkup(t,r.type,n,r.marks)}return e}function Nu(e,t){const n=t?Math.max(1,t.firstListNodePos):1,r=e.nodeSize-2;if(r<=n)return null;let o=null,i=null,s=0;return e.nodesBetween(n,r,(e,t)=>!i&&(hu(e)?(s=0===s?t:s,i=function(e,t,n,r){if(!n||(o=e,i=n,o.type!==i.type||o.attrs.indent!==i.attrs.indent||!hu(o)||!hu(i)))return null;var o,i;return{deleteFrom:t,deleteTo:t+e.nodeSize,insertAt:t-1,content:e.content,firstListNodePos:r}}(e,t,o,s),o=e,!1):(o=e,!0))),i&&(i.firstListNodePos=s),i}const ju=`[PLACEHOLDER_TEXT_${gc()}]`;function Lu(e,t,n){if(e.getMeta(\"dryrun\"))return n({tr:e,schema:t});const{selection:r,doc:o}=e,i=t.marks[Bo];if(!i||!r||!o)return e;if(!(r instanceof We.TextSelection))return e;const{from:s,to:a}=r;let c,l=0,u=0;if(s===a){if(0===s)return e;const n=e.doc.nodeAt(s),r=e.doc.nodeAt(s-1),o=e.doc.nodeAt(s+1);if(n||!r||r.type.name!==ni||r.firstChild)if(!n&&r&&r.type.name===ai)l=-1;else if(r&&n&&n.type===r.type)l=-1;else if(o&&n&&n.type===o.type)u=1;else if(o)u=1;else{if(!r)return e;l=-1}else c=t.text(ju),e=e.insert(s,Fe.Fragment.from(c)),u=1;e=e.setSelection(We.TextSelection.create(e.doc,s+l,a+u))}const d={},p=e=>e.attrs.id===d;e=n({tr:e=Dc(e,0,i,{id:d}),schema:t});const f=(()=>{let t=0,n=0;return e.doc.descendants((e,r)=>(e.marks&&e.marks.find(p)&&(t=0===t?r:t,n=r+e.nodeSize),!0)),{from:t,to:n}})(),h={from:Math.max(0,f.from-l),to:Math.max(0,f.to-u)};return h.to=Math.max(0,h.from,h.to),e=e.removeMark(f.from,f.to,i),c&&e.doc.descendants((t,n)=>t.type.name!==ai||t.text!==ju||(e=e.delete(n,n+ju.length),c=null,!1)),e=e.setSelection(We.TextSelection.create(e.doc,h.from,h.to))}function zu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zu(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Uu(e,t,n,r){return Lu(e,t,e=>Ru(function(e,t,n){const{schema:r}=e;let{tr:o}=e;if(!o.doc||!o.selection)return o;const{nodes:i}=r,s=i[ni];if(!i[Qo]||!s)return o;if(!hu(o.doc.nodeAt(t)))return o;const a=o.selection,{from:c,to:l}=a,u=[];if(o.doc.nodesBetween(c,l,(e,t)=>{hu(e)&&u.push(t)}),c===l&&c<1)return o;return u.sort(du).reverse().forEach(e=>{o=function(e,t,n,r,o,i){const s=[],a=[],c=[],l=n[ni],u=n[Qo],d=e.doc.nodeAt(t);if(e.doc.nodesBetween(t,t+d.nodeSize,(e,t,n,r)=>{if(e.type!==l)return!0;const u={node:e,pos:t,parentNode:n,index:r};return t+e.nodeSize<=o?s.push(u):t>i?c.push(u):a.push(u),!1}),!a.length)return e;e=e.delete(t,t+d.nodeSize);const p=d.type,f={indent:d.attrs.indent,start:1};if(c.length){const n=c.map(e=>u.create({},Fe.Fragment.from(e.node))),r=Fe.Fragment.from(p.create(f,Fe.Fragment.from(n)));e=e.insert(t,r)}if(a.length){const n=a.map(e=>r?r(e.node):e.node),o=Fe.Fragment.from(n);e=e.insert(t,o)}if(s.length){const n=s.map(e=>u.create({},Fe.Fragment.from(e.node))),r=Fe.Fragment.from(p.create(f,Fe.Fragment.from(n)));e=e.insert(t,r)}return e}(o,e,i,n,c,l)}),o}(e,n,r)))}function Hu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Lu(e,t,e=>Ru(Fu(e,n,r)))}function Fu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const{schema:r}=e;let{tr:o}=e;const{doc:i,selection:s}=o;let{from:a,to:c}=s;if(!o||!s)return o;n&&(a=n.from,c=n.to);const l=r.nodes[ni],u=r.nodes[Yo];let d=null,p=[];return i.nodesBetween(a,c,(e,n)=>{const r=e.type,i=r.name;if(hu(e)){if(e.type!==t){const r=Bu(Bu({},e.attrs),{},{listNodeType:null});o=o.setNodeMarkup(n,t,r,e.marks)}return d&&p.push(d),d=null,!1}return/table/.test(i)?(d&&p.push(d),d=null,!0):(r===u||r===l?(d=d||[],d.push({node:e,pos:n})):(d&&d.length&&p.push(d),d=null),!0)}),d&&d.length&&p.push(d),p=p.filter(e=>e.length>0),p.length?(p=p.sort((e,t)=>oc()(e[0]).pos>=oc()(t[0]).pos?1:-1),p.reverse(),p.forEach(e=>{o=Vu(o,r,t,e)}),o):o}function Vu(e,t,n,r){const o=e,i=t.nodes[ni],s=t.nodes[Qo];if(!i||!s)return e;const a=[];r.forEach(t=>{const{node:n,pos:r}=t,o=Bu(Bu({},n.attrs),{},{id:{}});e=e.setNodeMarkup(r,i,o,n.marks),a.push(e.doc.nodeAt(r))});const c=a[0],l=a[a.length-1];if(!c||!l)return o;const u=c.attrs.id,d=l.attrs.id;if(!u||!d)return o;let p=null,f=null;if(e.doc.descendants((e,t)=>{const n=e.attrs.id;return n===u&&(p=t),n===d&&(f=t+e.nodeSize),null===p||null===f}),null===p||null===f)return o;const h=[];r.forEach(e=>{const{node:t}=e,n=i.create(t.attrs,t.content,t.marks),r=s.create(t.attrs,Fe.Fragment.from(n));h.push(r)});const m={indent:0,start:1},g=e.doc.resolve(p),y=e.doc.resolve(f),b=g.nodeBefore&&g.nodeBefore.type===n&&0===g.nodeBefore.attrs.indent,v=y.nodeAfter&&y.nodeAfter.type===n&&0===y.nodeAfter.attrs.indent;if(b)e=(e=e.delete(p,f)).insert(p-1,Fe.Fragment.from(h)),v&&(e=e.delete(f+1,f+3));else if(v)e=(e=e.delete(p,f)).insert(p+1,Fe.Fragment.from(h));else{const t=n.create(m,Fe.Fragment.from(h));e=(e=e.delete(p,f)).insert(p,Fe.Fragment.from(t))}return e}function qu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ku(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qu(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $u(e,t,n){const{nodes:r}=t,{selection:o,doc:i}=e,s=r[Vo],a=r[Yo],c=r[Qo],l=r[ni];if(!(o&&i&&a&&l&&c&&s))return e;const{from:u,to:d}=e.selection;let p=null;const f=[];return i.nodesBetween(u,d,(e,t,r)=>{const o=e.type,i=r.type;return null===p&&(p=o===a&&e.attrs.level===n),i!==c&&f.push(t),!hu(e)}),f.sort(du).reverse().forEach(r=>{e=function(e,t,n,r){const{nodes:o}=t,i=o[Yo],s=o[ni],a=o[Vo];if(n>=e.doc.content.size)return e;const c=e.doc.nodeAt(n);if(!(c&&i&&s&&a))return e;const l=c.type;if(pu(e.doc,n))return e;hu(c)?i&&null!==r&&(e=Uu(e,t,n,e=>{const{content:t,marks:n,attrs:o}=e,s=Ku(Ku({},o),{},{level:r});return i.create(s,t,n)})):l===i?e=null===r?e.setNodeMarkup(n,s,c.attrs,c.marks):e.setNodeMarkup(n,i,Ku(Ku({},c.attrs),{},{level:r}),c.marks):(r&&l===s||l===a)&&(e=(e=Tu(e,t)).setNodeMarkup(n,i,Ku(Ku({},c.attrs),{},{level:r}),c.marks));return e}(e,t,r,p?null:n)}),e}var Gu=class extends Wl{constructor(e){super(),p()(this,\"_level\",void 0),p()(this,\"isActive\",e=>{const t=this._findHeading(e);return!!(t&&t.node&&t.node.attrs&&t.node.attrs.level===this._level)}),p()(this,\"execute\",(e,t,n)=>{const{schema:r,selection:o}=e,i=$u(e.tr.setSelection(o),r,this._level);return!!i.docChanged&&(t&&t(i),!0)}),this._level=e}_findHeading(e){const t=e.schema.nodes[Yo];return(t?Object(zl.findParentNodeOfType)(t):uu)(e.selection)}};var Wu=class extends Wl{constructor(){super(...arguments),p()(this,\"execute\",(e,t,n)=>function(e,t){var n=za.getState(e);return!(!n||0==n.undone.eventCount)&&(t&&Ia(n,e,t,!0),!0)}(e,t))}};var Yu=class extends Wl{constructor(){super(...arguments),p()(this,\"execute\",(e,t,n)=>function(e,t){var n=za.getState(e);return!(!n||0==n.done.eventCount)&&(t&&Ia(n,e,t,!1),!0)}(e,t))}};var Xu=class extends Wl{constructor(){super(...arguments),p()(this,\"execute\",(e,t,n)=>{const{selection:r,schema:o}=e,i=function(e,t){const{selection:n}=e;if(!n)return e;const{from:r,to:o}=n;if(r!==o)return e;const i=t.nodes[Xo];if(!i)return e;const s=i.create({},null,null),a=Fe.Fragment.from(s);return e=e.insert(r,a)}(e.tr.setSelection(r),o);return!!i.docChanged&&(t&&t(i),!0)})}};var Ju=class extends Wl{constructor(){super(...arguments),p()(this,\"_popUp\",null),p()(this,\"isEnabled\",(e,t)=>this.__isEnabled(e,t)),p()(this,\"waitForUserInput\",(e,t,n,r)=>this._popUp?Promise.resolve(void 0):(t&&t(Ja(e)),new Promise(e=>{const t={runtime:n?n.runtime:null};this._popUp=Sl(this.getEditor(),t,{modal:!0,onClose:t=>{this._popUp&&(this._popUp=null,e(t))}})}))),p()(this,\"executeWithUserInput\",(e,t,n,r)=>{if(t){const{selection:o,schema:i}=e;let{tr:s}=e;if(s=n?Za(n.state):s,s=s.setSelection(o),r){const{src:e}=r;s=function(e,t,n){const{selection:r}=e;if(!r)return e;const{from:o,to:i}=r;if(o!==i)return e;const s=t.nodes[Jo];if(!s)return e;const a={src:n||\"\",alt:\"\",title:\"\"},c=s.create(a,null,null),l=Fe.Fragment.from(c);return e=e.insert(o,l)}(s,i,e)}t(s),n&&n.focus()}return!1}),p()(this,\"__isEnabled\",(e,t)=>{const n=e,{selection:r}=n;return r instanceof We.TextSelection&&r.from===r.to})}getEditor(){throw new Error(\"Not implemented\")}},Zu=n(36),Qu=n.n(Zu);function ed(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}Se.a.bool.isRequired,Se.a.number.isRequired,Se.a.number.isRequired,Se.a.number.isRequired,Se.a.string.isRequired,Se.a.number.isRequired;const td={},nd=[];function rd(e){return new Promise((t,n)=>{const r={src:e,resolve:t,reject:n};nd.push(r),od()})}function od(){const e=nd.shift();e&&function(e,t,n){const r={complete:!1,height:0,naturalHeight:0,naturalWidth:0,src:e||\"\",width:0};if(window.navigator.hasOwnProperty(\"onLine\")&&!window.navigator.onLine)return void t(r);const o=e||\"\";if(!o)return void t(r);if(td[o]){const e=Object.assign({},td[o]);return void t(e)}const i=Qu.a.parse(o),{protocol:s}=i;if(!/(http:|https:|data:)/.test(s||window.location.protocol))return void t(r);let a;const c=()=>{a&&(r.width=a.width,r.height=a.height,r.naturalWidth=a.width,r.naturalHeight=a.height,r.complete=!0),t(r),u(),td[o]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ed(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ed(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r)},l=()=>{t(r),u()},u=()=>{if(a){if(a instanceof HTMLElement){const e=a.parentNode;e&&e.removeChild(a)}a.onload=null,a.onerror=null,a=null}od()},{body:d}=document;d?(a=document.createElement(\"img\"),a.style.cssText=\"position:fixed;left:-10000000000px;width:auto;height:auto;\",a.onload=c,a.onerror=l,a.src=o,d.appendChild(a)):(a=new Image,a.onload=c,a.onerror=l,a.src=o)}(e.src,e.resolve,e.reject)}function id(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?id(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):id(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class ad extends a.PureComponent{constructor(){super(...arguments),p()(this,\"_img\",null),p()(this,\"_unmounted\",!1),p()(this,\"state\",sd(sd({},this.props.initialValue||{}),{},{validValue:null})),p()(this,\"_onSrcChange\",e=>{const t=e.target.value;this.setState({src:t,validValue:null},this._didSrcChange)}),p()(this,\"_didSrcChange\",()=>{rd(this.state.src).then(e=>{if(this.state.src===e.src&&!this._unmounted){const t=e.complete?e:null;this.setState({validValue:t})}})}),p()(this,\"_cancel\",()=>{this.props.close()}),p()(this,\"_insert\",()=>{const{validValue:e}=this.state;this.props.close(e)})}componentWillUnmount(){this._unmounted=!0}render(){const{src:e,validValue:t}=this.state,n=t?a.createElement(\"div\",{className:\"czi-image-url-editor-input-preview\",style:{backgroundImage:\"url(\"+String(t.src)}}):null;return a.createElement(\"div\",{className:\"czi-image-url-editor\"},a.createElement(\"form\",{className:\"czi-form\",onSubmit:el},a.createElement(\"fieldset\",null,a.createElement(\"legend\",null,_s(\"Insert Image\")),a.createElement(\"div\",{className:\"czi-image-url-editor-src-input-row\"},a.createElement(\"input\",{autoFocus:!0,className:\"czi-image-url-editor-src-input\",onChange:this._onSrcChange,placeholder:_s(\"Type Something...\"),type:\"text\",value:e||\"\"}),n),a.createElement(\"em\",null,_s(\"Only select image that you have confirmed the license to use\"))),a.createElement(\"div\",{className:\"czi-form-buttons\"},a.createElement(Al,{label:_s(\"Cancel\"),onClick:this._cancel}),a.createElement(Al,{active:!!t,disabled:!t,label:_s(\"Insert\"),onClick:this._insert}))))}}p()(ad,\"propsTypes\",{initialValue:Se.a.object,close:function(e,t){var n=e[t];if(!n.prototype||\"function\"!=typeof n.prototype.constructor&&1!==n.prototype.constructor.length)return new Error(t+\"must be a function with 1 arg of type ImageLike\")}});var cd=ad;var ld=class extends Ju{getEditor(){return cd}};n(317);class ud extends a.PureComponent{render(){return a.createElement(\"div\",{className:\"czi-loading-indicator\"},a.createElement(\"div\",{className:\"frag czi-loading-indicator-frag-1\"}),a.createElement(\"div\",{className:\"frag czi-loading-indicator-frag-2\"}),a.createElement(\"div\",{className:\"frag czi-loading-indicator-frag-3\"}),a.createElement(\"div\",{className:\"frag czi-loading-indicator-frag-4\"}))}}var dd=ud;n(318);class pd extends a.PureComponent{constructor(){super(...arguments),p()(this,\"_img\",null),p()(this,\"_unmounted\",!1),p()(this,\"props\",void 0),p()(this,\"state\",{error:null,id:gc(),pending:!1}),p()(this,\"_onSelectFile\",e=>{const t=e.target.files&&e.target.files[0];t&&\"object\"==typeof t&&this._upload(t)}),p()(this,\"_onSuccess\",e=>{this._unmounted||this.props.close(e)}),p()(this,\"_onError\",e=>{this._unmounted||this.setState({error:e,id:gc(),pending:!1})}),p()(this,\"_upload\",async e=>{try{const t=this.props.runtime||{},{canUploadImage:n,uploadImage:r}=t;if(!n||!r||!n())throw new Error(\"feature is not available\");this.setState({pending:!0,error:null});const o=await r(e);this._onSuccess(o)}catch(e){this._onError(e)}}),p()(this,\"_cancel\",()=>{this.props.close()})}componentWillUnmount(){this._unmounted=!0}render(){const{id:e,error:t,pending:n}=this.state,r=Qc()(\"czi-image-upload-editor\",{pending:n,error:t});let o=\"Choose an image file...\";return n?o=a.createElement(dd,null):t&&(o=\"Something went wrong, please try again\"),a.createElement(\"div\",{className:r},a.createElement(\"form\",{className:\"czi-form\",onSubmit:el},a.createElement(\"fieldset\",null,a.createElement(\"legend\",null,\"Upload Image\"),a.createElement(\"div\",{className:\"czi-image-upload-editor-body\"},a.createElement(\"div\",{className:\"czi-image-upload-editor-label\"},o),a.createElement(\"input\",{accept:\"image/png,image/gif,image/jpeg,image/jpg\",className:\"czi-image-upload-editor-input\",disabled:n,id:e,key:e,onChange:this._onSelectFile,type:\"file\"}))),a.createElement(\"div\",{className:\"czi-form-buttons\"},a.createElement(Al,{label:\"Cancel\",onClick:this._cancel}))))}}var fd=pd;var hd=class extends Ju{constructor(){super(...arguments),p()(this,\"isEnabled\",(e,t)=>{if(!t)return!1;const{runtime:n}=t;if(!n)return!1;const{canUploadImage:r,uploadImage:o}=n;return!(!r||!o)&&(!!r()&&this.__isEnabled(e,t))})}getEditor(){return fd}};function md(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?md(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):md(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yd(e,t,n){const{doc:r,selection:o}=e;if(!r||!o)return e;if(!(o instanceof We.TextSelection||o instanceof We.AllSelection))return e;const{nodes:i}=t,{from:s,to:a}=o,c=[],l=i[Vo],u=i[Yo],d=i[ni];return r.nodesBetween(s,a,(r,o)=>{const i=r.type;return i===d||i===u||i===l?(e=bd(e,t,o,n),!1):!hu(r)||(c.push(o),!1)}),c.length?e=Lu(e,t,e=>{const{schema:t}=e;let r=e.tr;return c.sort(du).reverse().forEach(e=>{r=function(e,t,n,r){const o=t.nodes[Qo];if(!o)return e;const{doc:i,selection:s}=e;if(!i)return e;const a=i.nodeAt(n);if(!a)return e;const c=li(0,a.attrs.indent+r,7);if(c===a.attrs.indent)return e;const{from:l,to:u}=s;if(l<=n&&u>=n)return bd(e,t,n,r);const d=a.type,p=[],f=[],h=[];if(i.nodesBetween(n,n+a.nodeSize,(e,t)=>{if(e.type===d)return!0;if(e.type===o){const n=o.create(e.attrs,e.content,e.marks);return t+e.nodeSize<=l?p.push(n):t>u?h.push(n):f.push(n),!1}return!0}),e=e.delete(n,n+a.nodeSize),h.length){const t=d.create(a.attrs,Fe.Fragment.from(h));e=e.insert(n,Fe.Fragment.from(t))}if(f.length){const t=gd(gd({},a.attrs),{},{indent:c}),r=d.create(t,Fe.Fragment.from(f));e=e.insert(n,Fe.Fragment.from(r))}if(p.length){const t=d.create(a.attrs,Fe.Fragment.from(p));e=e.insert(n,Fe.Fragment.from(t))}return e}(r,t,e,n)}),r=Ru(r),r}):e}function bd(e,t,n,r){if(!e.doc)return e;const o=e.doc.nodeAt(n);if(!o)return e;const i=li(0,(o.attrs.indent||0)+r,7);if(i===o.attrs.indent)return e;const s=gd(gd({},o.attrs),{},{indent:i});return e.setNodeMarkup(n,o.type,s,o.marks)}var vd=class extends Wl{constructor(e){super(),p()(this,\"_delta\",void 0),p()(this,\"isActive\",e=>!1),p()(this,\"execute\",(e,t,n)=>{const{selection:r,schema:o}=e;let{tr:i}=e;return i=i.setSelection(r),i=yd(i,o,this._delta),!!i.docChanged&&(t&&t(i),!0)}),this._delta=e}};var _d=class extends Wl{constructor(){super(...arguments),p()(this,\"_popUp\",null),p()(this,\"isEnabled\",e=>{if(!(e.selection instanceof We.TextSelection))return!1;if(!e.schema.marks[Mo])return!1;const{from:t,to:n}=e.selection;return t<n}),p()(this,\"waitForUserInput\",(e,t,n,r)=>{if(this._popUp)return Promise.resolve(void 0);t&&t(Pc(e));const{doc:o,schema:i,selection:s}=e,a=i.marks[Mo];if(!a)return Promise.resolve(void 0);const{from:c,to:l}=s,u=Ic(o,c,l,a),d=u?u.mark.attrs.href:null;return new Promise(e=>{this._popUp=Sl(Dl,{href:d},{modal:!0,onClose:t=>{this._popUp&&(this._popUp=null,e(t))}})})}),p()(this,\"executeWithUserInput\",(e,t,n,r)=>{if(t){const{selection:o,schema:i}=e;let{tr:s}=e;if(s=n?Mc(n.state):s,s=s.setSelection(o),void 0!==r){const t=i.marks[Mo],n=r?{href:r}:null;s=Dc(s.setSelection(e.selection),0,t,n)}t(s)}return n&&n.focus(),!0})}};var wd=class extends Wl{constructor(){super(...arguments),p()(this,\"execute\",(e,t,n)=>{const{schema:r,selection:o}=e,i=function(e,t){const{selection:n}=e;if(!n)return e;const{from:r,empty:o}=n;if(!o)return e;const i=t.nodes[Wo];if(!i)return e;const s=t.nodes[Qo];return Object(zl.findParentNodeOfType)(s)(n)?e=(e=e.insert(r,Fe.Fragment.from(i.create()))).setSelection(We.TextSelection.create(e.doc,r+1,r+1)):e}(e.tr.setSelection(o),r);return!!i.docChanged&&(t&&t(i),!0)})}};function Ed(e,t){return t<0||t>e.content.size?null:e.nodeAt(t)}var Sd=class extends Wl{constructor(e){super(),p()(this,\"_direction\",\"\"),p()(this,\"isActive\",e=>!1),p()(this,\"execute\",(e,t,n)=>{const{selection:r,schema:o}=e;let{tr:i}=e;const s=this._direction;return\"down\"===s?i=function(e,t){const{selection:n}=e;if(!n)return e;const r=t.nodes[Qo];if(!r)return e;const{from:o,empty:i}=n;if(!i)return e;const s=Object(zl.findParentNodeOfType)(r)(n);if(!s)return e;const{pos:a,node:c}=s;if(o!==a+c.content.size)return e;const l=e.doc.resolve(a).parent.type,u=Object(zl.findParentNodeOfType)(l)(n);if(!u)return e;const d=a+c.nodeSize;let p,f=Ed(e.doc,d),h=d;if(u.start+u.node.content.size===d&&(f=Ed(e.doc,d+1),h+=1),!f)return e;switch(f.type){case r:const e=oc()(f.firstChild);p=Fe.Fragment.from(e.content);break;case t.nodes[Yo]:case t.nodes[ni]:p=Fe.Fragment.from(f.content)}if(!p)return e;const m=t.text(\" \");return e=(e=(e=(e=e.delete(h,h+f.nodeSize)).insert(d-2,p)).insert(d-2,Fe.Fragment.from(m))).setSelection(We.TextSelection.create(e.doc,d-2,d-2))}(i.setSelection(r),o):\"up\"===s&&(i=function(e,t){const{selection:n}=e;if(!n)return e;const r=t.nodes[Qo];if(!r)return e;const{from:o,empty:i}=n;if(!i)return e;const s=Object(zl.findParentNodeOfType)(r)(n);if(!s)return e;const{pos:a,node:c}=s;if(o!==a+2)return e;const l=e.doc.resolve(a).nodeBefore;if(!l||l.type!==r)return e;if(1!==c.childCount)return e;const u=c.firstChild,d=t.text(\" \");return e=(e=(e=(e=e.delete(a-2,a+c.nodeSize)).insert(a-2,Fe.Fragment.from(d))).insert(a-1,Fe.Fragment.from(u.content))).setSelection(We.TextSelection.create(e.doc,a-1,a-1))}(i.setSelection(r),o)),!!i.docChanged&&(t&&t(i),!0)}),this._direction=e}};function Od(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Od(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Od(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kd(e,t){const n=t.nodes[Qo];if(!n)return e;const{selection:r}=e;if(!r)return e;const{$from:o,$to:i,node:s}=r;if(s&&s.isBlock||o.depth<2||!o.sameParent(i))return e;const a=o.node(-1);if(a.type!==n)return e;if(0==o.parent.content.size)return function(e,t){const n=t.nodes[Qo],r=t.nodes[ti],o=t.nodes[Ko],i=t.nodes[ni];if(!n||!i)return e;const s=Object(zl.findParentNodeOfType)(n)(e.selection);if(!s||\"\"!==s.node.textContent)return e;const a=r&&Object(zl.findParentNodeOfType)(r)(e.selection)||o&&Object(zl.findParentNodeOfType)(o)(e.selection);if(!a)return e;const c=e.doc.resolve(s.pos),l=c.index(c.depth),u=a.node;if(u.childCount<3||l<1||l>=u.childCount-1)return e;let{name:d}=u.attrs;d||(d=gc(),e=e.setNodeMarkup(a.pos,u.type,xd(xd({},u.attrs),{},{name:d}),u.marks));const p=s.pos+s.node.nodeSize,f=a.pos+a.node.nodeSize-1,h=e.doc.slice(p,f,!1),m=s.pos,g=a.pos+a.node.nodeSize;e=e.delete(m,g);const y=a.node,b=xd({},y.attrs);r===y.type&&(b.counterReset=\"none\",b.following=d);const v=m+1,_=y.type.create(b,h.content);e=e.insert(v,_);const w=i.create({},Fe.Fragment.empty);return e=(e=e.insert(v,w)).setSelection(We.TextSelection.create(e.doc,v))}(e,t);const c=i.pos==o.end()?a.contentMatchAt(o.indexAfter(-1)).defaultType:null;e=e.delete(o.pos,i.pos);const l=c&&[null,{type:c}];return Object(oo.h)(e.doc,o.pos,2,l)?e.split(o.pos,2,l):e}var Cd=class extends Wl{constructor(e){super(),p()(this,\"execute\",(e,t,n)=>{const{selection:r,schema:o}=e,i=kd(e.tr.setSelection(r),o);return!!i.docChanged&&(t&&t(i),!0)})}};var Ad=class extends Wl{constructor(e){super(),p()(this,\"_ordered\",void 0),p()(this,\"isActive\",e=>this._ordered?!!this._findList(e,ti):!!this._findList(e,Ko)),p()(this,\"execute\",(e,t,n)=>{const{selection:r,schema:o}=e,i=o.nodes[this._ordered?ti:Ko];let{tr:s}=e;return s=s.setSelection(r),i?(s=function(e,t,n){const{selection:r,doc:o}=e;if(!r||!o)return e;let{from:i,to:s}=r,a=null;0===i&&(i=1,a=We.TextSelection.create(o,i,s),e=e.setSelection(a));const c=We.TextSelection.create(o,i,i),l=t.nodes[ni],u=t.nodes[Yo],d=Object(zl.findParentNodeOfType)(n)(c),p=Object(zl.findParentNodeOfType)(l)(c),f=Object(zl.findParentNodeOfType)(u)(c);return d?e=Uu(e,t,d.pos):(l&&p||u&&f)&&(e=Hu(e,t,n,a)),e}(s,o,i),!!s.docChanged&&(t&&t(s),!0)):s}),this._ordered=e}_findList(e,t){const{nodes:n}=e.schema,r=n[t];return(r?Object(zl.findParentNodeOfType)(r):uu)(e.selection)}};var Td=class extends Wl{constructor(e){super(),p()(this,\"_markName\",void 0),p()(this,\"isActive\",e=>{const{schema:t,doc:n,selection:r}=e,{from:o,to:i}=r,s=t.marks[this._markName];return!!(s&&o<i)&&!!Ic(n,o,i-1,s)}),p()(this,\"execute\",(e,t,n)=>{const{schema:r,selection:o,tr:i}=e,s=r.marks[this._markName];if(!s)return!1;if(o.empty&&!(o instanceof We.TextSelection))return!1;const{from:a,to:c}=o;if(i&&c===a+1){const e=i.doc.nodeAt(a);if(e.isAtom&&!e.isText&&e.isLeaf)return!1}return function(e,t){return function(n,r){var o=n.selection,i=o.empty,s=o.$cursor,a=o.ranges;if(i&&!s||!function(e,t,n){for(var r=function(r){var o=t[r],i=o.$from,s=o.$to,a=0==i.depth&&e.type.allowsMarkType(n);if(e.nodesBetween(i.pos,s.pos,(function(e){if(a)return!1;a=e.inlineContent&&e.type.allowsMarkType(n)})),a)return{v:!0}},o=0;o<t.length;o++){var i=r(o);if(i)return i.v}return!1}(n.doc,a,e))return!1;if(r)if(s)e.isInSet(n.storedMarks||s.marks())?r(n.tr.removeStoredMark(e)):r(n.tr.addStoredMark(e.create(t)));else{for(var c=!1,l=n.tr,u=0;!c&&u<a.length;u++){var d=a[u],p=d.$from,f=d.$to;c=n.doc.rangeHasMark(p.pos,f.pos,e)}for(var h=0;h<a.length;h++){var m=a[h],g=m.$from,y=m.$to;c?l.removeMark(g.pos,y.pos,e):l.addMark(g.pos,y.pos,e.create(t))}r(l.scrollIntoView())}return!0}}(s)(e,t,n)}),this._markName=e}};var Pd=class extends Wl{constructor(){super(...arguments),p()(this,\"isActive\",e=>!1),p()(this,\"isEnabled\",e=>{const{selection:t}=e;return!t.empty&&(t instanceof We.TextSelection||t instanceof We.AllSelection)}),p()(this,\"execute\",(e,t,n)=>{let r=Tu(e.tr.setSelection(e.selection),e.schema);return r=function(e,t){const{doc:n,selection:r}=e;if(!r||!n)return e;const{from:o,to:i,empty:s}=r;if(s)return e;const{nodes:a}=t,c=a[Yo],l=a[ni],u=[];return n.nodesBetween(o,i,(e,t)=>(c===e.type&&u.push({node:e,pos:t}),!0)),u.length?(u.forEach(t=>{const{node:n,pos:r}=t;e=e.setNodeMarkup(r,l,n.attrs,n.marks)}),e):e}(r,e.schema),!(!t||!r.docChanged)&&(t(r),!0)})}};n(319),Se.a.string.isRequired,Se.a.string.isRequired,Se.a.string.isRequired,Se.a.string.isRequired,Se.a.string.isRequired,Se.a.string.isRequired,Se.a.oneOf([\"cmd\",\"write\"]).isRequired,Se.a.string.isRequired;const Md={title:[_s(\"Operators\")],symbols:[{label:\"+\",latex:\"+\",description:\"Addition\",cmd:\"cmd\"},{label:\"-\",latex:\"-\",description:\"Subtraction\",cmd:\"cmd\"},{label:\"\\\\times\",latex:\"\\\\times\",description:\"Multiplication\",cmd:\"cmd\"},{label:\"\\\\cdot\",latex:\"\\\\cdot\",description:\"Dot for Multiplication\",cmd:\"write\"},{label:\"\",latex:\"\\\\divide\",description:\"Division\",cmd:\"cmd\"},{label:\"=\",latex:\"=\",description:\"Equal\",cmd:\"cmd\"},{label:\"\\\\approx\",latex:\"\\\\approx\",description:\"Approximation\",cmd:\"cmd\"},{label:\"\\\\sim\",latex:\"\\\\sim\",description:\"Similarity\",cmd:\"write\"},{label:\"\\\\simeq\",latex:\"\\\\simeq\",description:\"Approximately Equal\",cmd:\"write\"},{label:\"\\\\cong\",latex:\"\\\\cong\",description:\"Congruent To\",cmd:\"write\"},{label:\"\\\\neq\",latex:\"\\\\neq\",description:\"Not Equal\",cmd:\"write\"},{label:\"\\\\pm\",latex:\"\\\\pm\",description:\"Plus-Minus\",cmd:\"cmd\"},{label:\"<\",latex:\"<\",description:\"Less Than\",cmd:\"cmd\"},{label:\">\",latex:\">\",description:\"Greater Than\",cmd:\"cmd\"},{label:\"\\\\le\",latex:\"le\",description:\"Less Than or Equal To\",cmd:\"cmd\"},{label:\"\\\\ge\",latex:\"\\\\ge\",description:\"Greater Than or Equal To\",cmd:\"cmd\"},{label:\"\\\\cup\",latex:\"\\\\cup\",description:\"Union\",cmd:\"write\"},{label:\"\\\\cap\",latex:\"\\\\cap\",description:\"Intersection\",cmd:\"write\"},{label:\"\\\\sub\",latex:\"\\\\sub\",description:\"Subset\",cmd:\"write\"},{label:\"\\\\sube\",latex:\"\\\\sube\",description:\"Subset or Equal\",cmd:\"write\"},{label:\"\\\\supset\",latex:\"\\\\supset\",description:\"Superset\",cmd:\"write\"},{label:\"\\\\supe\",latex:\"\\\\supe\",description:\"Superset or Equal\",cmd:\"write\"},{label:\"\\\\vert\",latex:\"\\\\vert\",description:\"Vertical Line\",cmd:\"write\"},{label:\"\\\\otimes\",latex:\"\\\\otimes\",description:\"Tensor Product\",cmd:\"write\"}]},Rd={title:[_s(\"Structure\")],symbols:[{label:\"\\\\sum\",latex:\"\\\\sum\",description:\"Summation\",cmd:\"cmd\"},{label:\"\\\\frac {x}{y}\",latex:\"\\\\frac\",description:\"Fraction\",cmd:\"cmd\"},{label:\"(x)\",latex:\"(\",description:\"Parentheses\",cmd:\"cmd\"},{label:\"[x]\",latex:\"[\",description:\"Brackets\",cmd:\"cmd\"},{label:\"x^{2}\",latex:\"^{2}\",description:\"Square\",cmd:\"write\"},{label:\"x_{2}\",latex:\"_{2}\",description:\"Subscript\",cmd:\"write\"},{label:\"|x|\",latex:\"|\",description:\"Absolute Value\",cmd:\"cmd\"},{label:\"\\\\int_{x}^{y}\",latex:\"\\\\int_{x}^{y}\",description:\"Integral\",cmd:\"write\"},{label:\"\\\\overline\",latex:\"\\\\overline\",description:\"Overline\",cmd:\"cmd\"},{label:\"\\\\underline\",latex:\"\\\\underline\",description:\"Underline\",cmd:\"cmd\"},{label:\"x^{y}\",latex:\"^\",description:\"Power\",cmd:\"cmd\"},{label:\"\\\\int\",latex:\"\\\\int\",description:\"Integral\",cmd:\"cmd\"},{label:\"\\\\sqrt x\",latex:\"\\\\sqrt\",description:\"Square Root\",cmd:\"cmd\"},{label:\"\\\\sqrt[x]{y}\",latex:\"\\\\sqrt[x]{y}\",description:\"Square Root Alt\",cmd:\"write\"},{label:\"\\\\log\",latex:\"\\\\log\",description:\"Log\",cmd:\"cmd\"}]},Dd={title:[_s(\"Symbols\")],symbols:[{label:\"\",latex:\"\",description:\"Script Small E\",cmd:\"write\"},{label:\"\\\\angle\",latex:\"\\\\angle\",description:\"Angle\",cmd:\"write\"},{label:\"\\\\pi\",latex:\"\\\\pi\",description:\"Pi\",cmd:\"write\"},{label:\"i\",latex:\"i\",description:\"Imaginary Number\",cmd:\"write\"},{label:\"\\\\deg\",latex:\"\\\\deg\",description:\"Degrees\",cmd:\"write\"},{label:\"\\\\theta\",latex:\"\\\\theta\",description:\"Theta\",cmd:\"write\"},{label:\"\\\\phi\",latex:\"\\\\phi\",description:\"Phi\",cmd:\"write\"},{label:\"\\\\bigtriangleup\",latex:\"\\\\bigtriangleup\",description:\"Triangle\",cmd:\"write\"},{label:\"\\\\infty\",latex:\"\\\\infty\",description:\"Infinity\",cmd:\"write\"},{label:\"$\",latex:\"$\",description:\"Dollar\",cmd:\"write\"},{label:\"\",latex:\"\",description:\"Cent\",cmd:\"write\"},{label:\"\\\\vdash\",latex:\"\\\\vdash\",description:\"Vertical and Dash Line\",cmd:\"write\"},{label:\"\\\\perp\",latex:\"\\\\perp\",description:\"Perpendicular Lines\",cmd:\"write\"},{label:\"\\\\Longleftarrow\",latex:\"\\\\Longleftarrow\",description:\"Long Left Arrow\",cmd:\"write\"},{label:\"\\\\Longrightarrow\",latex:\"\\\\Longrightarrow\",description:\"Long Right Arrow\",cmd:\"write\"},{label:\"\\\\Longleftrightarrow\",latex:\"\\\\Longleftrightarrow\",description:\"Long Left Right Arrow\",cmd:\"write\"}]},Id={title:[_s(\"Trigonometry\")],symbols:[{label:\"\\\\sin\",latex:\"\\\\sin\",description:\"Sin\",cmd:\"write\"},{label:\"\\\\cos\",latex:\"\\\\cos\",description:\"Cos\",cmd:\"write\"},{label:\"\\\\tan\",latex:\"\\\\tan\",description:\"Tan\",cmd:\"write\"},{label:\"\\\\arcsin\",latex:\"\\\\arcsin\",description:\"Arc Sin\",cmd:\"write\"},{label:\"\\\\arccos\",latex:\"\\\\arccos\",description:\"Arc Cos\",cmd:\"write\"},{label:\"\\\\arctan\",latex:\"\\\\arctan\",description:\"Arc Tan\",cmd:\"write\"}]},Nd={};function jd(e){const t=document;return Nd.hasOwnProperty(e)?Promise.resolve(Nd[e]):t.fonts&&t.fonts.check&&t.fonts.ready&&t.fonts.status&&t.fonts.values?new Promise(n=>{const r=()=>{if(\"loaded\"!==t.fonts.status)return void setTimeout(r,350);const o=!!Array.from(t.fonts.values()).find(t=>t.family===e);Nd[e]=o,n(o)};t.fonts.ready.then(r)}):(console.log(\"FontFaceSet is not supported\"),Promise.resolve(!1))}var Ld=n(151),zd=n.n(Ld);n(320);const Bd=document.createElement(\"div\"),Ud={};function Hd(e){if(Ud.hasOwnProperty(e))return Ud[e];const t=e||\"\";if(Bd.innerHTML=\"\",!t)return t;try{zd.a.render(e,Bd)}catch(n){console.warn(n.message,e),Bd.innerHTML=\"\",Bd.appendChild(document.createTextNode(t))}const n=Bd.innerHTML;return Bd.innerHTML=\"\",Ud[e]=n,n}!async function(){await jd(\"KaTeX_Main\")||console.info(\"Add CSS from \",\"//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.1/katex.min.css\")}();n(381);class Fd extends a.PureComponent{constructor(){super(...arguments),p()(this,\"props\",void 0),p()(this,\"_renderButton\",e=>{const{label:t,latex:n,description:r}=e,o=Hd(t),i=a.createElement(\"span\",{dangerouslySetInnerHTML:{__html:o}});return a.createElement(Al,{className:\"czi-mathquill-editor-symbols-panel-button\",icon:i,key:t+n,onClick:this.props.onSelect,title:r,value:e})})}render(){const{title:e,symbols:t}=this.props.symbols,n=t.map(this._renderButton);return a.createElement(\"div\",{className:\"czi-mathquill-editor-symbols-panel\"},a.createElement(\"div\",{className:\"czi-mathquill-editor-symbols-panel-title\"},e),a.createElement(\"div\",{className:\"czi-mathquill-editor-symbols-panel-body\"},n))}}var Vd=Fd;n(382),n(144);const qd=n(388).default.getInterface(2);!async function(){await jd(\"Symbola\")||console.info(\"Add CSS from \",\"//cdnjs.cloudflare.com/ajax/libs/mathquill/0.10.1/mathquill.css\")}();class Kd extends a.Component{shouldComponentUpdate(){return!1}render(){return a.createElement(\"div\",{className:\"czi-mathquill-editor-element\",dangerouslySetInnerHTML:{__html:this.props.value}})}}class $d extends a.PureComponent{constructor(){super(...arguments),p()(this,\"props\",void 0),p()(this,\"_element\",null),p()(this,\"_ignoreEditEvents\",4),p()(this,\"_mathField\",null),p()(this,\"_latex\",\"\"),p()(this,\"_renderPanel\",(e,t)=>a.createElement(Vd,{key:\"s\"+t,onSelect:this._onSymbolSelect,symbols:e})),p()(this,\"_onSymbolSelect\",e=>{const{latex:t,cmd:n}=e,r=this._mathField;r&&n&&t&&(\"write\"===n?r.write(t):\"cmd\"===n&&r.cmd(t),r.focus())}),p()(this,\"_onEdit\",e=>{if(this._ignoreEditEvents>0)return void(this._ignoreEditEvents-=1);const{onChange:t}=this.props,n=e.latex();this._latex=n,t&&t(n)}),p()(this,\"_onElementRef\",e=>{this._element=e?u.a.findDOMNode(e):null})}render(){const{value:e}=this.props,t=[Md,Rd,Dd,Id].map(this._renderPanel),n=!e,r=Qc()(\"czi-mathquill-editor\",{empty:n});return a.createElement(\"div\",{className:r},a.createElement(\"div\",{className:\"czi-mathquill-editor-main\"},a.createElement(Kd,{ref:this._onElementRef})),a.createElement(\"div\",{className:\"czi-mathquill-editor-side\"},t))}componentDidUpdate(){const e=this._mathField;this._latex!==this.props.value&&e&&e.latex(this.props.value||\" \")}componentDidMount(){const e={autoCommands:\"pi theta sqrt sum\",autoOperatorNames:\"sin cos\",restrictMismatchedBrackets:!0,handlers:{edit:this._onEdit}},t=qd.MathField(this._element,e);this._mathField=t;const n=(this.props.value||\"\").replace(/\\\\displaystyle/g,\"\");t.latex(n||\" \"),t.focus(),n&&!t.latex()&&console.error(\"unable to process latex\",n)}}var Gd=$d;class Wd extends a.PureComponent{constructor(){super(...arguments),p()(this,\"state\",{initialValue:this.props.initialValue,value:this.props.initialValue||\"\"}),p()(this,\"_id\",gc()),p()(this,\"_unmounted\",!1),p()(this,\"_onChange\",e=>{this.setState({value:e})}),p()(this,\"_cancel\",()=>{this.props.close()}),p()(this,\"_insert\",()=>{this.props.close(this.state.value)})}render(){const{initialValue:e,value:t}=this.state;return a.createElement(\"div\",{className:\"czi-math-editor\"},a.createElement(\"form\",{className:\"czi-form\",onSubmit:el},a.createElement(\"fieldset\",null,a.createElement(\"legend\",null,_s(\"Insert Math\")),a.createElement(Gd,{onChange:this._onChange,value:t})),a.createElement(\"div\",{className:\"czi-form-buttons\"},a.createElement(Al,{label:_s(\"Cancel\"),onClick:this._cancel}),a.createElement(Al,{active:!0,disabled:!this.state.value,label:_s(e?\"Update\":\"Insert\"),onClick:this._insert}))))}}p()(Wd,\"propsTypes\",{initialValue:Se.a.string,close:function(e,t){var n=e[t];if(!n.prototype||\"function\"!=typeof n.prototype.constructor&&1!==n.prototype.constructor.length)return new Error(t+\"must be a function with 1 arg of type string\")}});var Yd=Wd;var Xd=class extends Wl{constructor(){super(...arguments),p()(this,\"_popUp\",null),p()(this,\"isEnabled\",(e,t)=>{const n=e,{selection:r}=n;return r instanceof We.TextSelection&&r.from===r.to}),p()(this,\"waitForUserInput\",(e,t,n,r)=>this._popUp?Promise.resolve(void 0):(t&&t(Ja(e)),new Promise(e=>{const t={runtime:n?n.runtime:null,initialValue:null};this._popUp=Sl(Yd,t,{modal:!0,onClose:t=>{this._popUp&&(this._popUp=null,e(t))}})}))),p()(this,\"executeWithUserInput\",(e,t,n,r)=>{if(t){const{selection:o,schema:i}=e;let{tr:s}=e;s=n?Za(n.state):s,s=s.setSelection(o),r&&(s=function(e,t,n){const{selection:r}=e;if(!r)return e;const{from:o,to:i}=r;if(o!==i)return e;const s=t.nodes[ei];if(!s)return e;const a={latex:n},c=s.create(a,null,null),l=Fe.Fragment.from(c);return e=e.insert(o,l)}(s,i,r)),t(s),n&&n.focus()}return!1})}};var Jd=class extends Wl{constructor(){super(...arguments),p()(this,\"isActive\",e=>!1),p()(this,\"isEnabled\",e=>!!window.print),p()(this,\"execute\",(e,t,n)=>!(!t||!window.print)&&(window.print(),!0))}};n(389);function Zd(e,t,n){const r=[],o=360/e,i=li(0,t,100),s=li(0,n,100);let a=0;for(;a<360;){const e=`hsl(${a},${i}%,${s}%)`,t=ki()(e);r.unshift(t),a+=o}return r}class Qd extends a.PureComponent{constructor(){super(...arguments),p()(this,\"props\",void 0),p()(this,\"_renderColor\",(e,t)=>{const n=this.props.hex,r=e.hex().toLowerCase(),o={backgroundColor:r},i=n&&n.toLowerCase()===r;return a.createElement(Al,{active:i,className:\"czi-color-editor-cell\",key:`${r}-${t}`,label:\"\",onClick:this._onSelectColor,style:o,value:r})}),p()(this,\"_onSelectColor\",e=>{this.props.close(e)})}render(){const e=this._renderColor,t=this.props.hex;return a.createElement(\"div\",{className:\"czi-color-editor\"},a.createElement(\"div\",{className:\"czi-color-editor-section\"},a.createElement(Al,{active:!t,className:\"czi-color-editor-color-transparent\",label:_s(\"Transparent\"),onClick:this._onSelectColor,value:\"rgba(0,0,0,0)\"})),a.createElement(\"div\",{className:\"czi-color-editor-section\"},function(e){let t=255;const n=t/e,r=[];for(;t>0;){const e=ki()({r:t,g:t,b:t});t-=n,t=Math.floor(t),r.unshift(e)}return r}(10).map(e)),a.createElement(\"div\",{className:\"czi-color-editor-section\"},Zd(10,90,50).map(e)),a.createElement(\"div\",{className:\"czi-color-editor-section\"},Zd(30,70,70).map(e)),a.createElement(\"div\",{className:\"czi-color-editor-section\"},Zd(30,90,30).map(e)))}}var ep=Qd;const tp=Object(Ns.setCellAttr)(\"background\",\"#000000\");var np=class extends Wl{constructor(){super(...arguments),p()(this,\"_popUp\",null),p()(this,\"shouldRespondToUIEvent\",e=>e.type===Wl.EventType.MOUSEENTER),p()(this,\"isEnabled\",e=>tp(e.tr)),p()(this,\"waitForUserInput\",(e,t,n,r)=>{if(this._popUp)return Promise.resolve(void 0);if(!(oc()(r).currentTarget instanceof HTMLElement))return Promise.resolve(void 0);const o=r?r.currentTarget:null;return new Promise(e=>{this._popUp=Sl(ep,null,{anchor:o,position:ll,onClose:t=>{this._popUp&&(this._popUp=null,e(t))}})})}),p()(this,\"executeWithUserInput\",(e,t,n,r)=>{if(t&&void 0!==r){return Object(Ns.setCellAttr)(\"background\",r)(e,t,n),!0}return!1})}cancel(){this._popUp&&this._popUp.close(void 0)}};const rp=Object(Ns.setCellAttr)(\"borderColor\",\"#000000\");var op=class extends Wl{constructor(){super(...arguments),p()(this,\"_popUp\",null),p()(this,\"shouldRespondToUIEvent\",e=>e.type===Wl.EventType.MOUSEENTER),p()(this,\"isEnabled\",e=>rp(e.tr)),p()(this,\"waitForUserInput\",(e,t,n,r)=>{if(this._popUp)return Promise.resolve(void 0);if(!(oc()(r).currentTarget instanceof HTMLElement))return Promise.resolve(void 0);const o=r?r.currentTarget:null;return new Promise(e=>{this._popUp=Sl(ep,null,{anchor:o,position:ll,onClose:t=>{this._popUp&&(this._popUp=null,e(t))}})})}),p()(this,\"executeWithUserInput\",(e,t,n,r)=>{if(t&&void 0!==r){return Object(Ns.setCellAttr)(\"borderColor\",r)(e,t,n),!0}return!1})}cancel(){this._popUp&&this._popUp.close(void 0)}};Se.a.number.isRequired,Se.a.number.isRequired,Se.a.number.isRequired,Se.a.number.isRequired;n(390),Se.a.number.isRequired,Se.a.number.isRequired;class ip extends a.PureComponent{render(){const{x:e,y:t,selected:n}=this.props,r={left:e+\"px\",top:t+\"px\",width:\"16px\",height:\"16px\"},o=Qc()(\"czi-table-grid-size-editor-cell\",{selected:n});return a.createElement(\"div\",{className:o,style:r})}}class sp extends a.PureComponent{constructor(){super(...arguments),p()(this,\"_ex\",0),p()(this,\"_ey\",0),p()(this,\"_mx\",0),p()(this,\"_my\",0),p()(this,\"_rafID\",0),p()(this,\"_ref\",null),p()(this,\"_entered\",!1),p()(this,\"props\",void 0),p()(this,\"state\",{rows:1,cols:1}),p()(this,\"_onRef\",e=>{this._ref=e}),p()(this,\"_onMouseEnter\",e=>{const t=e.currentTarget;if(t instanceof HTMLElement){const n=sl(t),r=Math.round(e.clientX),o=Math.round(e.clientY);this._ex=n.x,this._ey=n.y,this._mx=r,this._my=o,this._entered||(this._entered=!0,document.addEventListener(\"mousemove\",this._onMouseMove,!0))}}),p()(this,\"_onMouseMove\",e=>{const t=this._ref&&u.a.findDOMNode(this._ref),n=t?function(e){const t=e.getBoundingClientRect();return{x:t.left,y:t.top,w:t.width,h:t.height}}(t):null,r=il(e.screenX,e.screenY,10);n&&r&&ol(n,r,50)&&(e.preventDefault(),e.stopImmediatePropagation());const o=Math.round(e.clientX),i=Math.round(e.clientY);o===this._mx&&i===this._my||(this._mx=o,this._my=i,this._rafID&&cancelAnimationFrame(this._rafID),this._rafID=requestAnimationFrame(this._updateGridSize))}),p()(this,\"_updateGridSize\",()=>{this._rafID=0;const e=this._mx,t=this._my,n=e-this._ex,r=t-this._ey,o=li(1,Math.ceil(r/21),7),i=li(1,Math.ceil(n/21),7),{rows:s,cols:a}=this.state;s===o&&a===i||this.setState({rows:o,cols:i})}),p()(this,\"_onMouseDown\",e=>{e.preventDefault(),this.props.close(this.state)})}componentWillUnmount(){this._entered&&document.removeEventListener(\"mousemove\",this._onMouseMove,!0),this._rafID&&cancelAnimationFrame(this._rafID)}render(){const{rows:e,cols:t}=this.state;let n=Math.max(5,e),r=Math.max(5,t);n===e&&(n=Math.min(7,n+1)),r===t&&(r=Math.min(7,r+1));const o=[];let i=0,s=0,c=0,l=0;for(;i<n;){s+=5;let n=0,u=0;for(;n<r;){u+=5;const r=i<e&&n<t;o.push(a.createElement(ip,{key:`${String(i)}-${String(n)}`,selected:r,x:u,y:s})),u+=16,c=u+5,n++}s+=16,l=s+5,i++}const u={width:c+\"px\",height:l+\"px\"};return a.createElement(\"div\",{className:\"czi-table-grid-size-editor\",ref:this._onRef},a.createElement(\"div\",{className:\"czi-table-grid-size-editor-body\",onMouseDown:this._onMouseDown,onMouseEnter:this._onMouseEnter,style:u},o),a.createElement(\"div\",{className:\"czi-table-grid-size-editor-footer\"},e,\" X \",t))}}var ap=sp;var cp=class extends Wl{constructor(){super(...arguments),p()(this,\"_popUp\",null),p()(this,\"shouldRespondToUIEvent\",e=>e.type===Wl.EventType.MOUSEENTER),p()(this,\"isEnabled\",e=>{const t=e;let n=!1;const{selection:r}=t;if(r instanceof We.TextSelection){if(n=r.from===r.to,n){let e=r.$head;for(let t=e.depth;t>0;t--)if(\"row\"==e.node(t).type.spec.tableRole)return!1}return n}return n}),p()(this,\"waitForUserInput\",(e,t,n,r)=>{if(this._popUp)return Promise.resolve(void 0);if(!(oc()(r).currentTarget instanceof HTMLElement))return Promise.resolve(void 0);const o=r?r.currentTarget:null;return new Promise(e=>{this._popUp=Sl(ap,null,{anchor:o,position:ll,onClose:t=>{this._popUp&&(this._popUp=null,e(t))}})})}),p()(this,\"executeWithUserInput\",(e,t,n,r)=>{if(t){const{selection:n,schema:o}=e;let{tr:i}=e;if(r){const{rows:e,cols:t}=r;i=i.setSelection(n),i=function(e,t,n,r){if(!e.selection||!e.doc)return e;const{from:o,to:i}=e.selection;if(o!==i)return e;const{nodes:s}=t,a=s[oi],c=s[ni],l=s[si],u=s[ri];if(!(a&&c&&l&&u))return e;const d=[];for(let e=0;e<n;e++){const e=[];for(let t=0;t<r;t++){const t=a.create(void 0,Fe.Fragment.fromArray([c.create()]));e.push(t)}const t=l.create({},Fe.Fragment.from(e));d.push(t)}const p=u.create({},Fe.Fragment.from(d));e=e.insert(o,Fe.Fragment.from(p));const f=We.TextSelection.create(e.doc,o+5,o+5);return e=e.setSelection(f)}(i,o,e,t)}t(i)}return!1})}};function lp(e){if(!e)return!1;if(e.type.name!==ni)return!1;const{firstChild:t,lastChild:n}=e;return!t||t===n&&(t.type.name===ai&&\" \"===t.text)}var up=class extends Wl{constructor(){super(...arguments),p()(this,\"execute\",(e,t,n)=>{const{tr:r,schema:o,selection:i}=e;let s=r;i instanceof Ns.CellSelection&&(Object(Ns.mergeCells)(e,e=>{s=e},n),s=function(e,t){const n=t.nodes[ni],r=t.nodes[oi];if(!n||!r)return e;const{doc:o,selection:i}=e;if(!i instanceof Ns.CellSelection)return e;const{from:s,to:a}=i,c=[];return o.nodesBetween(s,a,(t,o,i)=>{if(t.type===n&&i.type===r){if(lp(t)){lp(e.doc.resolve(o).nodeBefore)&&c.push(o)}return!1}return!0}),c.reverse().forEach(t=>{const n=e.doc.nodeAt(t);e=e.delete(t,t+n.nodeSize)}),e}(s,o));const a=s.docChanged||s!==r;return a&&t&&t(s),a})}};const dp=new Set([To,Lo]);function pp(e,t){const{selection:n,schema:r,tr:o}=e;if(!r.marks[t])return!1;const i=r.nodes[ei];if(i&&dp.has(t)&&function(e,t){return e instanceof We.NodeSelection&&e.node.type===t}(n,i))return!0;if(!(n instanceof We.TextSelection||n instanceof We.AllSelection))return!1;const{from:s,to:a}=e.selection;if(a===s+1){const e=o.doc.nodeAt(s);if(e.isAtom&&!e.isText&&e.isLeaf)return!1}return!0}var fp=class extends Wl{constructor(){super(...arguments),p()(this,\"_popUp\",null),p()(this,\"isEnabled\",e=>pp(e,Lo)),p()(this,\"waitForUserInput\",(e,t,n,r)=>{if(this._popUp)return Promise.resolve(void 0);if(!(oc()(r).currentTarget instanceof HTMLElement))return Promise.resolve(void 0);const{doc:o,selection:i,schema:s}=e,a=s.marks[Lo],c=r?r.currentTarget:null,{from:l,to:u}=i,d=Ic(o,l,u,a),p=d?d.mark.attrs.color:null;return new Promise(e=>{this._popUp=Sl(ep,{hex:p},{anchor:c,onClose:t=>{this._popUp&&(this._popUp=null,e(t))}})})}),p()(this,\"executeWithUserInput\",(e,t,n,r)=>{if(t&&void 0!==r){const{schema:n}=e;let{tr:o}=e;const i=n.marks[Lo],s=r?{color:r}:null;if(o=Dc(e.tr.setSelection(e.selection),0,i,s),o.docChanged||o.storedMarksSet)return t&&t(o),!0}return!1})}};var hp=class extends Wl{constructor(){super(...arguments),p()(this,\"_popUp\",null),p()(this,\"isEnabled\",e=>pp(e,zo)),p()(this,\"waitForUserInput\",(e,t,n,r)=>{if(this._popUp)return Promise.resolve(void 0);if(!(oc()(r).currentTarget instanceof HTMLElement))return Promise.resolve(void 0);const{doc:o,selection:i,schema:s}=e,a=s.marks[zo],{from:c,to:l}=i,u=Ic(o,c,l,a),d=u?u.mark.attrs.highlightColor:null,p=r?r.currentTarget:null;return new Promise(e=>{this._popUp=Sl(ep,{hex:d},{anchor:p,onClose:t=>{this._popUp&&(this._popUp=null,e(t))}})})}),p()(this,\"executeWithUserInput\",(e,t,n,r)=>{if(t&&void 0!==r){const{schema:n}=e;let{tr:o}=e;const i=n.marks[zo],s=r?{highlightColor:r}:null;if(o=Dc(o.setSelection(e.selection),0,i,s),o.docChanged||o.storedMarksSet)return t&&t(o),!0}return!1})}};var mp=class extends Wl{constructor(){super(...arguments),p()(this,\"execute\",(e,t,n,r)=>{const{schema:o,tr:i}=e,s=function(e,t){const{selection:n}=e;if(!(n.empty&&n instanceof We.TextSelection))return e;const r=t.marks[Ho];if(!r)return e;const o=t.nodes[ni],i=t.nodes[Yo],s=t.nodes[Qo],a=s&&Object(zl.findParentNodeOfType)(s)(n)||o&&Object(zl.findParentNodeOfType)(o)(n)||i&&Object(zl.findParentNodeOfType)(i)(n);if(!a)return e;const{from:c,to:l}=n;if(a.node.type===s&&a.pos===c-2)return e;const u=t.text(\"\"),d={size:\"tab\"};return e=(e=Dc(e=(e=e.insert(l,Fe.Fragment.from(u))).setSelection(We.TextSelection.create(e.doc,l,l+1)),0,r,d)).setSelection(We.TextSelection.create(e.doc,l+1,l+1))}(i,o);return!!s.docChanged&&(t&&t(s),!0)})}};function gp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gp(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class bp extends Wl{constructor(e){super(),p()(this,\"_lineSpacing\",void 0),p()(this,\"isActive\",e=>{const{selection:t,doc:n,schema:r}=e,{from:o,to:i}=t,s=r.nodes[ni],a=r.nodes[Yo];let c=!0,l=!1;return n.nodesBetween(o,i,(e,t)=>{const n=e.type;return!c||n!==s&&n!==a||e.attrs.lineSpacing!==this._lineSpacing||(c=!1,l=!0),c}),l}),p()(this,\"isEnabled\",e=>this.isActive(e)||this.execute(e)),p()(this,\"execute\",(e,t,n)=>{const{schema:r,selection:o}=e,i=function(e,t,n){const{selection:r,doc:o}=e;if(!r||!o)return e;if(!(r instanceof We.TextSelection||r instanceof We.AllSelection))return e;const{from:i,to:s}=r,a=t.nodes[ni],c=t.nodes[Yo],l=t.nodes[Qo],u=t.nodes[Vo];if(!(a||c||l||u))return e;const d=[],p=n||null;return o.nodesBetween(i,s,(e,t,n)=>{const r=e.type;if(r===a||r===c||r===l||r===u){return(e.attrs.lineSpacing||null)!==p&&d.push({node:e,pos:t,nodeType:r}),r===l}return!0}),d.length?(d.forEach(t=>{const{node:n,pos:r,nodeType:o}=t;let{attrs:i}=n;i=yp(yp({},i),{},p?{lineSpacing:p}:{lineSpacing:null}),e=e.setNodeMarkup(r,o,i,n.marks)}),e):e}(e.tr.setSelection(o),r,this._lineSpacing);return!!i.docChanged&&(t&&t(i),!0)}),this._lineSpacing=e}}p()(bp,\"createGroup\",(function(){return[{[_s(\"Single\")]:new bp(\"125%\"),1.15:new bp(\"138%\"),1.5:new bp(\"165%\"),[_s(\"Double\")]:new bp(\"232%\")}]}));var vp=bp;function _p(e){return new class extends Wl{constructor(){super(...arguments),p()(this,\"isEnabled\",e=>this.execute(e)),p()(this,\"execute\",(t,n,r)=>{const o=t.tr;let i=o;return e(t,e=>{i=e,n&&n(i)},r),i.docChanged||o!==i})}}}const{addColumnAfter:wp,addColumnBefore:Ep,addRowAfter:Sp,addRowBefore:Op,deleteColumn:xp,deleteRow:kp,deleteTable:Cp,goToNextCell:Ap,splitCell:Tp,toggleHeaderCell:Pp,toggleHeaderColumn:Mp,toggleHeaderRow:Rp}=Ns,{MARK_STRONG:Dp,MARK_EM:Ip,MARK_STRIKE:Np,MARK_SUPER:jp,MARK_SUB:Lp,MARK_UNDERLINE:zp}=r;document.execCommand(\"enableObjectResizing\",!1,\"false\"),document.execCommand(\"enableInlineTableEditing\",!1,\"false\");const Bp=new Pd,Up=new lu,Hp=new Td(Ip),Fp=new Gu(1),Vp=new Gu(2),qp=new Gu(3),Kp=new Gu(4),$p=new Gu(5),Gp=new Gu(6),Wp=new Wu,Yp=new Yu,Xp=new Xu,Jp=new ld,Zp=new hd,Qp=new vd(-1),ef=new vd(1),tf=new _d,nf=new wd,rf=new Sd(\"down\"),of=new Sd(\"up\"),sf=new Cd,af=new Xd,cf=new Ad(!0),lf=new Jd,uf=new Td(Np),df=new Td(Dp),pf=new Td(jp),ff=new Td(Lp),hf=_p(wp),mf=_p(Ep),gf=_p(Sp),yf=_p(Op),bf=new np,vf=new op,_f=_p(xp),wf=_p(kp),Ef=_p(Cp),Sf=new cp,Of=new up,xf=_p(Ap(1)),kf=_p(Ap(-1)),Cf=_p(Tp),Af=_p(Pp),Tf=_p(Mp),Pf=_p(Rp),Mf=new bu(\"center\"),Rf=new bu(\"justify\"),Df=new bu(\"left\"),If=new bu(\"right\"),Nf=new fp,jf=new hp,Lf=new mp,zf=vp.createGroup(),Bf=new Ad(!1),Uf=new Td(zp);var Hf=class extends Wl{constructor(e){super(),p()(this,\"_popUp\",null),p()(this,\"_pt\",0),p()(this,\"isEnabled\",e=>pp(e,To)),p()(this,\"execute\",(e,t,n)=>{const{schema:r,selection:o}=e,i=function(e,t,n){const r=t.marks[To];return r?e=Dc(e,0,r,n?{pt:n}:null):e}(e.tr.setSelection(o),r,this._pt);return!(!i.docChanged&&!i.storedMarksSet)&&(t&&t(i),!0)}),this._pt=e}};function Ff(e,t,n,r){let o=t;if(e.nodeSize<=2)return null;const i=e=>e.type===r;for(t=Math.max(2,t),n=Math.min(n,e.nodeSize-2);o<=n;){const t=e.nodeAt(o);if(!t||!t.marks){o++;continue}const n=t.marks.find(i);if(n)return n;o++}return null}const Vf={1:20,2:18,3:16,4:14,5:11,6:11};const qf=[8,9,10,11,12,14,18,24,30,36,48,60,72,90].reduce((e,t)=>(e[` ${t} `]=new Hf(t),e),{}),Kf=[{[_s(\"Default\")]:new Hf(0)},qf];class $f extends a.PureComponent{constructor(){super(...arguments),p()(this,\"props\",void 0)}render(){const{dispatch:e,editorState:t,editorView:n}=this.props,r=function(e){const{schema:t,doc:n,selection:r,tr:o}=e,i=t.marks[To],s=t.nodes[Yo],a=String(11);if(!i)return a;const{from:c,to:l,empty:u}=r;if(u){const t=(o.storedMarks||e.storedMarks||r.$cursor&&r.$cursor.marks&&r.$cursor.marks()||[]).find(e=>e.type===i);return t?String(t.attrs.pt||a):a}const d=i?Ff(n,c,l,i):null;if(d)return String(d.attrs.pt);if(!s)return a;const p=Object(zl.findParentNodeOfType)(s)(e.selection);if(!p)return a;const f=String(p.node.attrs.level);return Vf[f]||a}(t),o=String(r).length<=2?\"width-30\":\"width-60\";return a.createElement(eu,{className:o,disabled:!(!n||!n.disabled),commandGroups:Kf,dispatch:e,editorState:t,editorView:n,label:r})}}var Gf=$f;var Wf=class extends Wl{constructor(e){super(),p()(this,\"_label\",null),p()(this,\"_name\",\"\"),p()(this,\"_popUp\",null),p()(this,\"renderLabel\",e=>this._label),p()(this,\"isEnabled\",e=>{const{schema:t,selection:n,tr:r}=e;if(!(n instanceof We.TextSelection||n instanceof We.AllSelection))return!1;if(!t.marks[Po])return!1;const{from:o,to:i}=n;if(i===o+1){const e=r.doc.nodeAt(o);if(e.isAtom&&!e.isText&&e.isLeaf)return!1}return!0}),p()(this,\"execute\",(e,t,n)=>{const{schema:r,selection:o}=e,i=function(e,t,n){const r=t.marks[Po];if(!r)return e;const{selection:o}=e;return o instanceof We.TextSelection||o instanceof We.AllSelection?e=Dc(e,0,r,n?{name:n}:null):e}(e.tr.setSelection(o),r,this._name);return!(!i.docChanged&&!i.storedMarksSet)&&(t&&t(i),!0)}),this._name=e,this._label=e?a.createElement(\"span\",{style:{fontFamily:e}},e):null}};const Yf={Arial:new Wf(\"\")};Eo.forEach(e=>{Yf[e]=new Wf(e)});const Xf=[Yf];class Jf extends a.PureComponent{constructor(){super(...arguments),p()(this,\"props\",void 0)}render(){const{dispatch:e,editorState:t,editorView:n}=this.props,r=function(e){const{schema:t,doc:n,selection:r,tr:o}=e,i=t.marks[Po];if(!i)return\"Arial\";const{from:s,to:a,empty:c}=r;if(c){const t=(o.storedMarks||e.storedMarks||r.$cursor&&r.$cursor.marks&&r.$cursor.marks()||[]).find(e=>e.type===i);return t&&t.attrs.name||\"Arial\"}const l=i?Ff(n,s,a,i):null,u=l&&l.attrs.name;return u||\"Arial\"}(t);return a.createElement(eu,{className:\"width-100\",disabled:!(!n||!n.disabled),commandGroups:Xf,dispatch:e,editorState:t,editorView:n,label:r})}}var Zf=Jf;function Qf(e,t,n,r,o){var i=n.selection,s=i.empty,a=i.$cursor,c=i.ranges;if(s&&!a||!function(e,t,n){for(var r=function(r){var o=t[r],i=o.$from,s=o.$to,a=0==i.depth&&e.type.allowsMarkType(n);if(e.nodesBetween(i.pos,s.pos,(function(e){if(a)return!1;a=e.inlineContent&&e.type.allowsMarkType(n)})),a)return{v:!0}},o=0;o<t.length;o++){var i=r(o);if(i)return i.v}return!1}(n.doc,c,e))return!1;if(o){if(!a){for(var l=0;l<c.length;l++){var u=c[l],d=u.$from,p=u.$to;r.addMark(d.pos,p.pos,e.create(t))}return r}e.isInSet(n.storedMarks||a.marks())?o(r.removeStoredMark(e)):o(r.addStoredMark(e.create(t)))}return!0}var eh=class extends Wl{constructor(e,t){super(),p()(this,\"_customStyleName\",void 0),p()(this,\"_customStyle\",[]),p()(this,\"getTheInlineStyles\",e=>{var t={},n=[];return(n=Object.assign(n,this._customStyle)).forEach(n=>{t=Object.assign(t,n),Object.entries(n).forEach(n=>{let[r,o]=n;e&&\"boolean\"==typeof o?delete t[r]:e||\"boolean\"==typeof o||delete t[r]})}),t}),p()(this,\"isEmpty\",e=>{for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}),p()(this,\"isEnabled\",e=>!0),p()(this,\"execute\",(e,t,n)=>{var{schema:r,selection:o,tr:i}=e;if(this._customStyle){var s=this.getTheInlineStyles(!0);this.isEmpty(s)||(i=function(e,t,n){const r=t.marks[Fo];if(!r)return e;const{selection:o}=e;return o instanceof We.TextSelection||o instanceof We.AllSelection?e=Dc(e,0,r,n):e}(i.setSelection(o),r,s));var a=this.getTheInlineStyles(!1);for(let n in a){i=Qf(r.marks[n],void 0,e,i,t)}}return!(!i.docChanged&&!i.storedMarksSet)&&(t&&t(i),!0)}),this._customStyle=e,this._customStyleName=t}_findHeading(e){const t=e.schema.nodes[Yo];return(t?Object(zl.findParentNodeOfType)(t):uu)(e.selection)}};const th=[_s(\"Normal\")];const nh=[_s(\"Normal\")];const rh={[th]:new Gu(0)};Os.forEach(e=>{e.level||0===e.level?rh[e.name]=new Gu(e.level):rh[e.name]=new eh(e.customstyles,e.name)});const oh=[rh];class ih extends a.PureComponent{constructor(){super(...arguments),p()(this,\"props\",void 0)}findHeadingName(e){for(var t=0;t<Os.length;t++)if(Os[t].level==e)return Os[t].name}render(){const{dispatch:e,editorState:t,editorView:n}=this.props;var r;const o=function(e){const{schema:t,doc:n,selection:r,tr:o}=e,i=t.nodes[Yo];if(!i)return th;const s=(i?Object(zl.findParentNodeOfType)(i):null)(e.selection);return s&&void 0!==s?s.node.attrs.level:0}(t);return r=0<o?this.findHeadingName(o):function(e){const{schema:t,doc:n,selection:r,tr:o}=e,i=t.marks[Fo];if(!i)return FONT_TYPE_NAME_DEFAULT;const{from:s,to:a,empty:c}=r;if(c){const t=(o.storedMarks||e.storedMarks||r.$cursor&&r.$cursor.marks&&r.$cursor.marks()||[]).find(e=>e.type===i);return t&&t.attrs.stylename||nh}const l=i?Ff(n,s,a,i):null,u=l&&l.attrs.stylename;return u||nh}(t),a.createElement(eu,{className:\"width-100\",disabled:!(!n||!n.disabled),commandGroups:oh,dispatch:e,editorState:t,editorView:n,label:r})}}var sh=ih;n(391),n(392);const ah=/[a-z_]+/,ch={};!async function(){await jd(\"Material Icons\")||console.info(\"Add CSS from \",\"//fonts.googleapis.com/icon?family=Material+Icons\")}();class lh extends a.PureComponent{render(){return a.createElement(\"span\",{className:\"superscript-wrap\"},a.createElement(\"span\",{className:\"superscript-base\"},\"x\"),a.createElement(\"span\",{className:\"superscript-top\"},\"y\"))}}class uh extends a.PureComponent{render(){return a.createElement(\"span\",{className:\"subscript-wrap\"},a.createElement(\"span\",{className:\"subscript-base\"},\"x\"),a.createElement(\"span\",{className:\"subscript-bottom\"},\"y\"))}}class dh extends a.PureComponent{constructor(){super(...arguments),p()(this,\"props\",void 0)}static get(e,t){const n=`${e||\"\"}-${t||\"\"}`,r=ch[n]||a.createElement(dh,{title:t,type:e});return ch[n]=r,r}render(){const{type:e,title:t}=this.props;let n=\"\",r=\"\";return\"superscript\"==e?(n=Qc()(\"czi-icon\",{[e]:!0}),r=a.createElement(lh,null)):\"subscript\"==e?(n=Qc()(\"czi-icon\",{[e]:!0}),r=a.createElement(uh,null)):e&&ah.test(e)?(n=Qc()(\"czi-icon\",{[e]:!0}),r=e):(n=Qc()(\"czi-icon-unknown\"),r=t||e),a.createElement(\"span\",{className:n},r)}}var ph=dh;const fh=/\\[([A-Za-z_\\d]+)\\](.*)/;function hh(e){const t=e.match(fh);if(t){const[e,n,r]=t;return{icon:n?ph.get(n):null,title:r||null}}return{icon:null,title:e||null}}const{CLEAR_FORMAT:mh,DOC_LAYOUT:gh,EM:yh,H1:bh,H2:vh,H3:_h,H4:wh,H5:Eh,H6:Sh,HISTORY_REDO:Oh,HISTORY_UNDO:xh,HR:kh,IMAGE_FROM_URL:Ch,IMAGE_UPLOAD:Ah,INDENT_LESS:Th,INDENT_MORE:Ph,LINK_SET_URL:Mh,MATH_EDIT:Rh,OL:Dh,PRINT:Ih,STRIKE:Nh,STRONG:jh,SUPER:Lh,SUB:zh,TABLE_ADD_COLUMN_AFTER:Bh,TABLE_ADD_COLUMN_BEFORE:Uh,TABLE_ADD_ROW_AFTER:Hh,TABLE_ADD_ROW_BEFORE:Fh,TABLE_BORDER_COLOR:Vh,TABLE_BACKGROUND_COLOR:qh,TABLE_DELETE_COLUMN:Kh,TABLE_DELETE_ROW:$h,TABLE_DELETE_TABLE:Gh,TABLE_INSERT_TABLE:Wh,TABLE_MERGE_CELLS:Yh,TABLE_SPLIT_ROW:Xh,TABLE_TOGGLE_HEADER_CELL:Jh,TABLE_TOGGLE_HEADER_COLUMN:Zh,TABLE_TOGGLE_HEADER_ROW:Qh,TEXT_ALIGN_CENTER:em,TEXT_ALIGN_JUSTIFY:tm,TEXT_ALIGN_LEFT:nm,TEXT_ALIGN_RIGHT:rm,TEXT_COLOR:om,TEXT_HIGHLIGHT:im,TEXT_LINE_SPACINGS:sm,UL:am,UNDERLINE:cm}=i,lm=[{[_s(\"Insert Table...\")]:Wh},{[_s(\"Fill Color...\")]:qh,[_s(\"Border Color....\")]:Vh},{[_s(\"Insert Column Before\")]:Uh,[_s(\"Insert Column After\")]:Bh,[_s(\"Delete Column\")]:Kh},{[_s(\"Insert Row Before\")]:Fh,[_s(\"Insert Row After\")]:Hh,[_s(\"Delete Row\")]:$h},{[_s(\"Merge Cells\")]:Yh,[_s(\"Split Row\")]:Xh},{[_s(\"Toggle Header Column\")]:Zh,[_s(\"Toggle Header Row\")]:Qh,[_s(\"Toggle Header Cells\")]:Jh},{[_s(\"Delete Table\")]:Gh}],um=[{[_s(\"[print] Print\")]:Ih,[_s(\"[settings_overscan] Page layout\")]:gh},{[_s(\"[undo] Undo\")]:xh,[_s(\"[redo] Redo\")]:Oh},{[_s(\"[H1] Header 1\")]:sh},{[_s(\"[font_download] Font Type\")]:Zf},{[_s(\"[format_size] Text Size\")]:Gf},{[_s(\"[format_bold] Bold\")]:jh,[_s(\"[format_italic] Italic\")]:yh,[_s(\"[format_underline] Underline\")]:cm,[_s(\"[format_strikethrough] Strike through\")]:Nh,[_s(\"[superscript] Superscript\")]:Lh,[_s(\"[subscript] Subscript\")]:zh,[_s(\"[format_color_text] Text color\")]:om,[_s(\"[border_color] Highlight color\")]:im,[_s(\"[format_clear] Clear formats\")]:mh},{[_s(\"[format_align_left] Left align\")]:nm,[_s(\"[format_align_center] Center Align\")]:em,[_s(\"[format_align_right] Right Align\")]:rm,[_s(\"[format_align_justify] Justify\")]:tm},{[_s(\"[format_indent_increase] Indent more\")]:Ph,[_s(\"[format_indent_decrease] Indent less\")]:Th,[_s(\"[format_line_spacing] Line spacing\")]:sm},{[_s(\"[format_list_numbered] Ordered list\")]:Dh,[_s(\"[format_list_bulleted] Bulleted list\")]:am},{[_s(\"[link] Apply link\")]:Mh,[_s(\"[image] Insert image\")]:[{[_s(\"Insert image by URL\")]:Ch}],[_s(\"[grid_on] Table...\")]:lm,[_s(\"[hr] Horizontal line\")]:kh,[_s(\"[functions] Math\")]:Rh}];n(394);class dm extends a.PureComponent{constructor(){super(...arguments),p()(this,\"_menu\",null),p()(this,\"props\",void 0)}render(){const{editorState:e,editorView:t}=this.props;return a.createElement(eu,{className:\"czi-table-cell-menu\",commandGroups:lm,dispatch:t.dispatch,editorState:e,editorView:t,icon:ph.get(\"edit\"),title:\"Edit\"})}}var pm=dm;function fm(e){const{x:t,y:n,w:r,h:o}=sl(e),i=r&&o?e.ownerDocument.elementFromPoint(t+1,n+1):null;return!!i&&(i===e||!!e.contains(i))}class hm{constructor(e){p()(this,\"_cellElement\",void 0),p()(this,\"_popUp\",null),p()(this,\"_scrollHandle\",null),p()(this,\"destroy\",()=>{this._popUp&&this._popUp.close(),this._popUp=null}),p()(this,\"_onOpen\",()=>{const e=this._cellElement;e&&(this._scrollHandle=function(e,t){const n=e.ownerDocument.defaultView,r=[];let o=0,i=()=>{o&&cancelAnimationFrame(o),o=requestAnimationFrame(t)},s=e;for(;s;){const e=n.getComputedStyle(s).overflow;(i&&\"auto\"===e||\"scroll\"===e)&&(s.addEventListener(\"scroll\",i,!1),r.push(s)),s=s.parentElement}return{dispose(){for(;i&&r.length;)s=r.pop(),s&&s.removeEventListener(\"scroll\",i,!1);i=null,o&&window.cancelAnimationFrame(o),o=0}}}(e,this._onScroll))}),p()(this,\"_onClose\",()=>{this._popUp=null,this._scrollHandle&&this._scrollHandle.dispose(),this._scrollHandle=null}),p()(this,\"_onScroll\",()=>{const e=this._popUp,t=this._cellElement;e&&t&&(fm(t)||e.close())}),this.update(e,null)}update(e,t){const{state:n,readOnly:r}=e,o=Bl(n);if(!o||r)return void this.destroy();const i=e.domAtPos(o.pos+1);if(!i)return void this.destroy();let s=i.node;const a=this._popUp,c={editorState:n,editorView:e};s&&!fm(s)&&(s=null),s?a&&s===this._cellElement?a.update(c):(a&&a.close(),this._cellElement=s,e.disabled||(this._popUp=Sl(pm,c,{anchor:s,autoDismiss:!1,onClose:this._onClose,position:dl}),this._onOpen())):(a&&a.close(),this._cellElement=null)}}const mm={key:new We.PluginKey(\"TableCellMenuPlugin\"),view:e=>new hm(e)};class gm extends We.Plugin{constructor(){super(mm)}}var ym=gm;class bm extends Ns.TableView{constructor(e,t,n){super(e,t,n),this._updateMargin(e)}update(e){const t=super.update(e);return t&&this._updateMargin(e),t}_updateMargin(e){const t=e.attrs&&e.attrs.marginLeft||0;this.table.style.marginLeft=t?t+\"px\":\"\"}}function vm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vm(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const wm=new We.PluginKey(\"tableColumnResizing\");let Em=null,Sm=!0;class Om{constructor(e,t,n){p()(this,\"cellPos\",void 0),p()(this,\"forMarginLeft\",void 0),p()(this,\"draggingInfo\",void 0),this.cellPos=e,this.draggingInfo=n,this.forMarginLeft=t}apply(e){let t=this;const n=e.getMeta(wm);if(n&&\"number\"==typeof n.setCellPos)return new Om(n.setCellPos,n.setForMarginLeft,null);if(n&&void 0!==n.setDraggingInfo)return new Om(t.cellPos,t.forMarginLeft,n.setDraggingInfo);if(t.cellPos&&t.cellPos>-1&&e.docChanged){let n=e.mapping.map(t.cellPos,-1);Object(Ns.pointsAtCell)(e.doc.resolve(n))||(n=null),t=new Om(n,!!n&&t.forMarginLeft,t.draggingInfo)}return t}}function xm(e,t){const n=wm.getState(e.state);if(n.draggingInfo)return;const r=function(e){for(;e&&\"TD\"!==e.nodeName&&\"TH\"!==e.nodeName;)e=e.classList.contains(\"ProseMirror\")?null:e.parentElement;return e}(t.target);let o=!1,i=-1;if(r instanceof HTMLTableCellElement){const{left:n,right:s}=r.getBoundingClientRect();t.clientX-n<=5?0===r.cellIndex?(o=!0,i=Pm(e,t,\"right\")):i=Pm(e,t,\"left\"):s-t.clientX<=5&&(i=Pm(e,t,\"right\"))}if(i!==n.cellPos||o!==n.forMarginLeft){if(-1!==i){if(!e.state.doc.resolve(i))return}Mm(e,i,o)}}function km(e){const t=wm.getState(e.state),{cellPos:n,draggingInfo:r}=t;n>-1&&!r&&Mm(e,-1,!1)}function Cm(e,t){Em&&Em(t);const n=wm.getState(e.state);if(-1===n.cellPos||n.draggingInfo)return!1;let r=!1,o=null;const i=t=>{window.removeEventListener(\"mouseup\",i,!0),window.removeEventListener(\"mousemove\",s,!0),r&&function(e,t){const n=wm.getState(e.state),{cellPos:r,draggingInfo:o}=n;if(!o)return;const{columnElements:i,tableElement:s}=o,a=i.map(e=>parseFloat(e.style.width)),c=e.state.doc.resolve(r),l=c.start(-1),u=c.node(-1),d=Ns.TableMap.get(u);let p=e.state.tr;for(let e=0;e<d.height;e++)for(let t=0;t<a.length;t++){const n=e*d.width+t;if(e&&d.map[n]==d.map[n-d.width])continue;const r=d.map[n],{attrs:o}=u.nodeAt(r),i=o.colspan||1,s=a.slice(t,t+i);i>1&&(t+=i-1),o.colwidth&&Im(o.colwidth,s)||(p=p.setNodeMarkup(l+r,null,Object(Ns.setAttr)(o,\"colwidth\",s)))}const f=parseFloat(s.style.marginLeft)||null;if(u.attrs.marginLeft!==f){const t=u.type,n=_m(_m({},u.attrs),{},{marginLeft:f}),r=Object(zl.findParentNodeOfTypeClosestToPos)(c,e.state.schema.nodes[t.name]),o=oc()(r&&r.pos);p=p.setNodeMarkup(o,t,n)}p.docChanged&&e.dispatch(p);e.dispatch(e.state.tr.setMeta(wm,{setDraggingInfo:null}))}(e),Em=null},s=t=>{t.which?(r||(!function(e,t){const n=wm.getState(e.state);if(-1===n.cellPos||n.draggingInfo)return;e.dispatch(e.state.tr.setMeta(wm,{setDraggingInfo:Tm(e,t,n)}))}(e,t),r=!0),o=o||Dm(Am),o(e,t)):i(t)};return Em=i,window.addEventListener(\"mouseup\",i,!0),window.addEventListener(\"mousemove\",s,!0),t.preventDefault(),!0}function Am(e,t){const n=wm.getState(e.state),{draggingInfo:r,forMarginLeft:o}=n;if(!r)return;const{startX:i,columnWidths:s,taregtColumnIndex:a,columnElements:c,tableElement:l,tableMarginLeft:u,tableMarginRight:d}=r;let p=0,f=u;const h=t.clientX-i,m=s.length-1,g=s.map((e,t)=>{let n;return o?0===t?(n=Math.min(Math.max(30,e-h),e+u),f=Math.max(0,u+e-n)):n=e:n=t===a&&t===m?Math.min(e+d,Math.max(30,e+h)):t===a?Math.min(Math.max(30,e+h),e+(s[t+1]||0)-30):t===a+1?Math.min(Math.max(30,e-h),e+(s[t-1]||0)-30):e,p+=n,n}),y=l.style;y.marginLeft=f+\"px\",y.width=Math.round(p-f)+\"px\",y.minWidth=\"\",c.forEach((e,t)=>{e.style.width=Math.round(g[t])+\"px\"})}function Tm(e,t,n){const{cellPos:r,forMarginLeft:o}=n,i=e.domAtPos(r).node.closest(\"table\"),s=i.closest(\".tableWrapper\"),a=i.querySelector(\"colgroup\"),c=a?Array.from(a.querySelectorAll(\"col\")):[],l=s.getBoundingClientRect(),u=i.getBoundingClientRect(),d=l.width/c.length,p=t.clientX,f=p-u.left;let h=0,m=-1;const g=i.style.marginLeft,y=g&&/\\d+px/.test(g)?parseFloat(g):0,b=l.right-u.right,v=Array.from(c).map((e,t)=>{const n=e.style.width;let r=Math.max(30,n&&parseFloat(n)||d);if(h+r>l.width){r-=Math.abs(l.width-(h+r))}return f>=h+r-10&&f<=h+r+10&&-1===m&&(m=t),h+=r,r});return o&&(m=0),m<0?null:{columnElements:c,taregtColumnIndex:m,columnWidths:v,startX:p,tableElement:i,tableMarginLeft:y,tableMarginRight:b,tableWidth:h,tableWrapperWidth:l.width}}function Pm(e,t,n){const{pos:r}=e.posAtCoords({left:t.clientX,top:t.clientY}),o=Object(Ns.cellAround)(e.state.doc.resolve(r));if(!o)return-1;if(\"right\"==n)return o.pos;const i=Ns.TableMap.get(o.node(-1)),s=o.start(-1),a=i.map.indexOf(o.pos-s);return a%i.width==0?-1:s+i.map[a-1]}function Mm(e,t,n){e.dispatch(e.state.tr.setMeta(wm,{setCellPos:t,setForMarginLeft:n}))}function Rm(e,t){return Sm=t.editable,new bm(e,30,t)}function Dm(e){let t=null,n=0,r=0,o=null;const i=()=>{if(o&&t){let i;i={target:t,clientX:n,clientY:r},e(o,i)}};return function(e,s){t=s.target,n=s.clientX,r=s.clientY,o=e,requestAnimationFrame(i)}}function Im(e,t){return e.length===t.length&&!e.some((e,n)=>t[n]!==e)}class Nm extends We.Plugin{constructor(){super({key:wm,state:{init(e,t){return this.spec.props.nodeViews[Object(Ns.tableNodeTypes)(t.schema).table.name]=Rm,new Om(-1,null)},apply:(e,t)=>t.apply(e)},props:{attributes:e=>wm.getState(e).cellPos>-1?{class:\"resize-cursor\"}:null,handleDOMEvents:{mousemove:Dm(xm),mouseleave:km,mousedown:Cm},decorations(e){const t=wm.getState(e);return t.cellPos>-1&&Sm?function(e,t){if(!t.cellPos)return io.b.create(e.doc,[]);const n=[],r=e.doc.resolve(t.cellPos),o=r.node(-1),i=Ns.TableMap.get(o),s=r.start(-1),a=i.colCount(r.pos-s)+r.nodeAfter.attrs.colspan;for(let e=0;e<i.height;e++){const r=a+e*i.width-1;if(!(a!==i.width&&i.map[r]===i.map[r+1]||0!==e&&i.map[r-1]===i.map[r-1-i.width])){const e=i.map[r],a=s+e+o.nodeAt(e).nodeSize-1,c=document.createElement(\"div\");let l=\"column-resize-handle\";t.forMarginLeft&&(l+=\" for-margin-left\"),c.className=l,n.push(io.a.widget(a,c))}}return io.b.create(e.doc,n)}(e,t):void 0},nodeViews:{}}})}}var jm=[new ym,new Nm,Object(Ns.tableEditing)()],Lm=function(e,t){var n;this.match=e,this.handler=\"string\"==typeof t?(n=t,function(e,t,r,o){var i=n;if(t[1]){var s=t[0].lastIndexOf(t[1]);i+=t[0].slice(s+t[1].length);var a=(r+=s)-o;a>0&&(i=t[0].slice(s-a,s)+i,r=o)}return e.tr.insertText(i,r,o)}):t};function zm(e,t,n,r,o,i){if(e.composing)return!1;var s=e.state,a=s.doc.resolve(t);if(a.parent.type.spec.code)return!1;for(var c=a.parent.textBetween(Math.max(0,a.parentOffset-500),a.parentOffset,null,\"\")+r,l=0;l<o.length;l++){var u=o[l].match.exec(c),d=u&&o[l].handler(s,u,t-(u[0].length-r.length),n);if(d)return e.dispatch(d.setMeta(i,{transform:d,from:t,to:n,text:r})),!0}return!1}var Bm=new Lm(/--$/,\"\"),Um=new Lm(/\\.\\.\\.$/,\"\"),Hm=[new Lm(/(?:^|[\\s\\{\\[\\(\\<'\"\\u2018\\u201C])(\")$/,\"\"),new Lm(/\"$/,\"\"),new Lm(/(?:^|[\\s\\{\\[\\(\\<'\"\\u2018\\u201C])(')$/,\"\"),new Lm(/'$/,\"\")];function Fm(e,t,n,r){return new Lm(e,(function(e,o,i,s){var a=n instanceof Function?n(o):n,c=e.tr.delete(i,s),l=c.doc.resolve(i).blockRange(),u=l&&Object(oo.j)(l,t,a);if(!u)return null;c.wrap(l,u);var d=c.doc.resolve(i-1).nodeBefore;return d&&d.type==t&&Object(oo.g)(c.doc,i-1)&&(!r||r(o,d))&&c.join(i-1),c}))}function Vm(e,t,n){return new Lm(e,(function(e,r,o,i){var s=e.doc.resolve(o),a=n instanceof Function?n(r):n;return s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t)?e.tr.delete(o,i).setBlockType(o,o,t,a):null}))}function qm(e,t){const{nodes:n}=t,{selection:r,doc:o}=e,i=n[Yo],s=n[Vo],a=n[ni],c=n[Qo];if(!(r&&o&&i&&a&&c&&i))return e;const{from:l,to:u}=e.selection;let d=null;const p=[];return o.nodesBetween(l,u,(e,t,n)=>{const r=e.type,o=n.type;return null===d&&(d=r===s),o!==c&&p.push(t),!hu(e)}),p.sort(du).reverse().forEach(n=>{e=function(e,t,n){const{nodes:r}=t,o=r[Yo],i=r[ni],s=r[Vo];if(n>=e.doc.content.size)return e;const a=e.doc.nodeAt(n);if(!a||!o||!i)return e;const c=a.type;if(pu(e.doc,n))return e;hu(a)?s&&(e=Uu(e,t,n,e=>{const{content:t,marks:n,attrs:r}=e;return s.create(r,t,n)})):c===s?e=e.setNodeMarkup(n,i,a.attrs,a.marks):c!==i&&c!==o||(e=e.setNodeMarkup(n,s,a.attrs,a.marks));return e}(e,t,n)}),e}const Km=/^\\s*>\\s$/;function $m(e,t,n,r){const{schema:o}=e;let{tr:i}=e;return o.nodes[Vo]?(i=qm(i,o),i.docChanged&&(i=i.delete(n,r)),i):i}function Gm(e){const t=Hm.concat(Um,Bm);let n;return(n=e.nodes.blockquote)&&t.push(new Lm(Km,$m)),(n=e.nodes.ordered_list)&&t.push(Fm(/^(\\d+)\\.\\s$/,n,e=>({order:+e[1]}),(e,t)=>t.childCount+t.attrs.order==+e[1])),(n=e.nodes.bullet_list)&&t.push(function(e){return Fm(/^\\s*([-+*])\\s$/,e)}(n)),(n=e.nodes.code_block)&&t.push(function(e){return Vm(/^```$/,e)}(n)),(n=e.nodes.heading)&&t.push(function(e,t){return Vm(new RegExp(\"^(#{1,\"+t+\"})\\\\s$\"),e,e=>({level:e[1].length}))}(n,6)),function(e){var t=e.rules,n=new We.Plugin({state:{init:function(){return null},apply:function(e,t){var n=e.getMeta(this);return n||(e.selectionSet||e.docChanged?null:t)}},props:{handleTextInput:function(e,r,o,i){return zm(e,r,o,i,t,n)},handleDOMEvents:{compositionend:function(e){setTimeout((function(){var r=e.state.selection.$cursor;r&&zm(e,r.pos,r.pos,\"\",t,n)}))}}},isInputRules:!0});return n}({rules:t})}n(395);var Wm={isMac:()=>!0};function Ym(e){if(e){let t;return t=Wm.isMac()?e.mac.replace(/Cmd/i,\"\").replace(/Shift/i,\"\").replace(/Ctrl/i,\"^\").replace(/Alt/i,\"\"):e.windows,`${e.description} (${t})`}return null}function Xm(e){return Tg.filter(t=>t.description.toUpperCase()===e.toUpperCase())[0]}function Jm(e){const t=Xm(e);return t?Zm(t):null}function Zm(e){return Wm.isMac()?e.mac:e.windows}function Qm(e,t,n,r){return{description:e,windows:t,mac:n,common:r}}function eg(e,t){return Qm(e,t.replace(/Mod/i,\"Ctrl\"),t.replace(/Mod/i,\"Cmd\"),t)}const tg=eg(\"\",\"Backspace\"),ng=eg(\"\",\"Delete\"),rg=eg(\"Insert horizontal rule\",\"Mod-Shift--\"),og=eg(\"Insert new line\",\"Shift-Enter\"),ig=eg(\"Insert new line in list item\",\"Shift-Enter\"),sg=eg(\"Redo\",\"Mod-Shift-z\"),ag=Qm(\"Normal text\",\"Ctrl-0\",\"Cmd-Alt-0\"),cg=eg(\"Shift Backspace\",\"Shift-Backspace\"),lg=eg(\"Split code block\",\"Enter\"),ug=eg(\"Split list item\",\"Enter\"),dg=eg(\"\",\"Tab\"),pg=eg(\"\",\"Shift-Tab\"),fg=Qm(\"Block quote\",\"Ctrl-7\",\"Cmd-Alt-7\"),hg=eg(\"Toggle bold\",\"Mod-b\"),mg=eg(\"Toggle bullet list\",\"Mod-Shift-b\"),gg=Qm(\"Code block\",\"Ctrl-8\",\"Cmd-Alt-8\"),yg=Qm(\"Heading 1\",\"Ctrl-1\",\"Cmd-Alt-1\"),bg=Qm(\"Heading 2\",\"Ctrl-2\",\"Cmd-Alt-2\"),vg=Qm(\"Heading 3\",\"Ctrl-3\",\"Cmd-Alt-3\"),_g=Qm(\"Heading 4\",\"Ctrl-4\",\"Cmd-Alt-4\"),wg=Qm(\"Heading 5\",\"Ctrl-5\",\"Cmd-Alt-5\"),Eg=Qm(\"Heading 5\",\"Ctrl-6\",\"Cmd-Alt-6\"),Sg=eg(\"Toggle italic\",\"Mod-i\"),Og=eg(\"Toggle monospace\",\"Mod-Shift-m\"),xg=eg(\"Toggle ordered list\",\"Mod-Shift-l\"),kg=eg(\"Toggle strikethrough\",\"Mod-Shift-s\"),Cg=eg(\"Toggle underline\",\"Mod-u\"),Ag=eg(\"Undo\",\"Mod-z\"),Tg=[tg,ng,rg,og,ig,ag,cg,ug,pg,dg,fg,hg,mg,mg,gg,yg,bg,vg,_g,wg,Eg,Sg,Og,xg,kg,Cg,Ag],{KEY_BACK_DELETE:Pg,KEY_FORWARD_DELETE:Mg,KEY_INSERT_NEW_LINE_IN_LIST_ITEM:Rg,KEY_REDO:Dg,KEY_SPLIT_LIST_ITEM:Ig,KEY_TAB_SHIFT:Ng,KEY_TAB:jg,KEY_TOGGLE_BOLD:Lg,KEY_TOGGLE_ITALIC:zg,KEY_TOGGLE_UNDERLINE:Bg,KEY_UNDO:Ug}=s,{EM:Hg,HISTORY_REDO:Fg,HISTORY_UNDO:Vg,INDENT_LESS:qg,INDENT_MORE:Kg,LIST_ITEM_INSERT_NEW_LINE:$g,LIST_ITEM_MERGE_DOWN:Gg,LIST_ITEM_MERGE_UP:Wg,LIST_SPLIT:Yg,TABLE_MOVE_TO_NEXT_CELL:Xg,TABLE_MOVE_TO_PREV_CELL:Jg,TEXT_INSERT_TAB_SPACE:Zg,STRONG:Qg,UNDERLINE:ey}=i;function ty(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n,r){return t.some(t=>!!t.isEnabled(e,r)&&(t.execute(e,n,r),!0))}}function ny(e,t){return e.spec.key=new We.PluginKey(t+\"Plugin\"),e.key=e.spec.key.key,e}var ry,oy,iy=(ry=ta,[new qa,new Qa,new nc,new Sc,new Ll,new Rc,ny(Gm(ry),\"InputRules\"),ny((void 0===oy&&(oy={}),new We.Plugin({view:function(e){return new ga(e,oy)}})),\"DropCursor\"),ny(new We.Plugin({props:{decorations:Sa,createSelectionBetween:function(e,t,n){if(t.pos==n.pos&&ba.valid(n))return new ba(n)},handleClick:Ea,handleKeyDown:_a}}),\"GapCursor\"),Ua(),ny(Object(ya.b)({[Pg.common]:Wg.execute,[Mg.common]:Gg.execute,[Dg.common]:Fg.execute,[Ig.common]:Yg.execute,[jg.common]:ty(Xg,Zg,Kg),[Ng.common]:ty(Jg,Zg,qg),[Lg.common]:Qg.execute,[zg.common]:Hg.execute,[Bg.common]:ey.execute,[Ug.common]:Vg.execute,[Rg.common]:$g.execute}),\"EditorKeyMap\"),ny(Object(ya.b)(ma),\"BaseKeymap\")].concat(jm));const sy={type:\"doc\",content:[{type:\"paragraph\",content:[{type:\"text\",text:\" \"}]}]};function ay(e,t){return cy(sy,e,t)}function cy(e,t,n){let r=t||ta,o=iy;if(n)for(let e of n)o.includes(e)||(o.push(e),e.getEffectiveSchema&&(r=e.getEffectiveSchema(r)));if(\"string\"==typeof e)try{e=JSON.parse(e)}catch(e){return console.error(\"convertFromJSON:\",e),ay(t,n)}if(!e||\"object\"!=typeof e)return console.error(\"convertFromJSON: invalid object\",e),ay(t,n);let i=null;try{i=r.nodeFromJSON(e)}catch(e){return null}return We.EditorState.create({doc:i,schema:r,plugins:o})}var ly=n(152),uy=n.n(ly);n(396),n(397);class dy extends io.c{constructor(e,t){super(e,t),p()(this,\"disabled\",void 0),p()(this,\"placeholder\",void 0),p()(this,\"readOnly\",void 0),p()(this,\"runtime\",void 0),this.runtime=null,this.readOnly=!0,this.disabled=!0,this.placeholder=null}destroy(){super.destroy(),this._props={}}}var py=dy;new Map;const fy=new Map;function hy(){return Array.from(fy.keys())}const my=/(P|H1|H2|H3|H4|H5|H6)/;function gy(e){const{id:t}=e;if(t&&0===e.childElementCount){e.setAttribute(\"data-bookmark-id\",t);0!==e.id.indexOf(\"t.\")&&e.setAttribute(\"data-bookmark-visible\",\"true\")}const n=e.nextElementSibling;n&&my.test(n.nodeName)&&n.insertBefore(e,n.firstChild)}function yy(e){const{ownerDocument:t,parentElement:n}=e;if(!t||!n)return;const r=e.parentElement&&e.parentElement.parentElement;if(!r)return;const o=t.createElement(\"p\");r.parentElement&&r.parentElement.replaceChild(o,r)}function by(e){return e[0]+\"-\"+e[1].toLowerCase()}const vy={};const _y=\"p,h1,h2,h3,h4,h5,h6,li\".replace(/\\w+/g,e=>e+\"[style]\");const wy=[\"backgroundColor\",\"color\",\"fontFamily\",\"fontSize\",\"fontStyle\",\"fontWeight\",\"textDecoration\",\"textIndent\"],Ey=new Set([\"A\",\"B\",\"EM\",\"I\",\"SPAN\",\"STRONG\",\"U\"]);function Sy(e){wy.forEach(t=>function(e,t){const n=e,r=n.style,o=r&&r[t];if(\"textIndent\"===t&&o){const e=r.marginLeft||\"\";o!==\"-\"+e&&e!==\"-\"+o||(r.marginLeft=\"\",r.textIndent=\"\")}if(!o)return;r[t]=\"\";Array.from(n.childNodes).forEach(e=>{const{nodeType:n,style:r,nodeName:i,ownerDocument:s,parentElement:a}=e;if(1===n){if(Ey.has(i)){const e=`${function(e){if(vy.hasOwnProperty(e))return vy[e];const t=e.replace(/[a-z][A-Z]/g,by);return vy[e]=t,t}(t)}: ${o};`+r.cssText;r.cssText=e}}else if(3===n&&s&&a){const n=s.createElement(\"span\");n.style[t]=o,a.insertBefore(n,e),n.appendChild(e)}})}(e,t))}class Oy{constructor(e){p()(this,\"_doc\",void 0),p()(this,\"_htmls\",void 0),this._doc=e,this._htmls=new Map}insertHTMLBefore(e,t){return this._insertHTML(e,\"before\",t)}insertHTMLAfter(e,t){return this._insertHTML(e,\"after\",t)}execute(){const e=this._doc,t=oc()(e.body||e.documentElement);let n=t.innerHTML;this._htmls.forEach((e,t)=>{n=n.replace(t,e)}),t.innerHTML=n}_insertHTML(e,t,n){if(n.ownerDocument!==this._doc)throw new Error(\"element does not belong to the document\");const r=`_HTMLMutator_token_${gc()}_`,o=this._doc.createComment(r),i=oc()(n.parentElement);if(\"before\"===t)i.insertBefore(o,n);else{if(\"after\"!==t)throw new Error(\"Invalid position \"+t);i.insertBefore(o,n.nextSibling)}return this._htmls.set(\"\\x3c!--\"+r+\"--\\x3e\",e),this}}var xy=n(153),ky=n.n(xy);const Cy=/li:+before/,Ay=/^[a-zA-Z]+\\d*$/,Ty=/:+[a-z]+/,Py=/\\.title/;function My(e){const t=Array.from(e.querySelectorAll(\"style\"));if(!t.length)return;const n=[];t.forEach(e=>{const t=e.sheet;if(!t)return void console.error(\"styleEl.sheet undefined\",e);const r=t.cssRules;r?Array.from(r).forEach((e,t)=>{const r=String(e.selectorText||\"\");if(!r)return;if(!e.styleMap)return void console.error(\"rule.styleMap undefined\",e);let o=\"\";e.styleMap.forEach((e,t)=>{let n=String(e);if(\"color\"===t){if(!Mi(n))return}else if(\"background-color\"===t){if(!Mi(n))return}else\"line-height\"===t&&(n=di(n));n&&(o+=`${t}: ${n};`)}),r.indexOf(\",\")>-1?r.split(/\\s*,\\s*/).forEach(e=>{Iy(n,e,o)}):Iy(n,r,o)}):console.error(\"sheet.cssRules undefined\",t)}),ky()(n,Dy).reduce(Ry.bind(null,e),new Map).forEach(Ny)}function Ry(e,t,n){const{selectorText:r,cssText:o,beforeContent:i}=n;return Array.from(e.querySelectorAll(r)).forEach(e=>{if(e.style&&e instanceof HTMLElement){if(o){const n=t.get(e)||[];n.push(o),t.set(e,n)}i&&e.setAttribute(\"data-attribute-css-before-content\",i)}}),t}function Dy(e,t){let n=Ay.test(e.selectorText),r=Ay.test(t.selectorText);return n&&!r?-1:!n&&r?1:(n=Py.test(e.selectorText),r=Py.test(t.selectorText),n&&!r?-1:!n&&r?1:0)}function Iy(e,t,n){let r;if(Cy.test(t))r=n.replace(/^content:\\s*\"\\s*/,\"\").replace(/\";*$/,\"\"),t=t.replace(/:+before/,\"\"),n=\"\";else if(Ty.test(t))return;e.push({selectorText:t,cssText:n,afterContent:void 0,beforeContent:r})}function Ny(e,t){e.length&&(t.style.cssText=e.join(\";\")+\";\"+t.style.cssText)}function jy(e){!function(e){const t=Array.from(e.querySelectorAll(\"li > ol, li > ul\")),n=new Oy(e);t.forEach(e=>{const t=function(e){let t=0,n=e.parentElement;for(;n;){const{nodeName:e}=n;if(\"OL\"===e||\"UL\"===e)t++;else if(\"LI\"!==e)break;n=n.parentElement}return t}(e);e.setAttribute(\"data-indent\",String(t));const r=oc()(e.parentElement),o=oc()(r.parentElement),i=o.nodeName.toLowerCase(),s=o.lastElementChild===r,a=o.getAttribute(\"style\")||\"\",c=o.getAttribute(\"name\")||gc();o.setAttribute(\"name\",c),n.insertHTMLBefore(`</${i}>`,e),n.insertHTMLAfter(`<${i}\\n          style=\"${a}\"\\n          class=\"${o.className}\"\\n          data-counter-reset=\"none\"\\n          data-following=\"${c}\">`,e),s&&n.insertHTMLAfter(\"\\x3c!--\",e).insertHTMLAfter(\"--\\x3e\",o)}),n.execute()}(e),Array.from(e.querySelectorAll(\"ol, ul\")).forEach(zy)}const Ly=/^(#text)|(A|SPAN|B|STRONG)$/;function zy(e){let t=void 0,n=void 0;const{parentElement:r,children:o}=e;if(r&&\"BODY\"===r.nodeName&&r.firstChild===e){const t=r.ownerDocument.createTextNode(\"\");r.insertBefore(t,e)}if(Array.from(o).forEach(e=>{const{style:r}=e;!function(e){const{style:t,childNodes:n}=e,{paddingTop:r,paddingBottom:o,lineHeight:i}=t;if(!pi.has(o)&&!pi.has(r)&&!pi.has(i))return;const s=e.ownerDocument,a=s.createDocumentFragment();let c=!0;if(Array.from(n).forEach(e=>{c=c&&Ly.test(e.nodeName),a.appendChild(e)}),c){const t=s.createElement(\"p\");Object.assign(t.style,{lineHeight:i,paddingBottom:o,paddingTop:r}),t.appendChild(a),e.appendChild(t)}else e.appendChild(a)}(e);const o=e.getAttribute(\"data-attribute-css-before-content\")||\"\";void 0===n&&(n=o),n!==o&&(n=null);const i=r&&r.marginLeft||\"\";void 0===t&&(t=i),i!==t&&(t=null)}),t){const n=bi(t);n&&e.setAttribute(\"data-indent\",String(n))}if(n){let t;switch(n=String(n),!0){case n.indexOf(\"\")>-1:t=\"disc\";break;case n.indexOf(\"\")>-1:t=\"circle\";break;case n.indexOf(\"\")>-1:t=\"square\";break;case n.indexOf(\"\")>-1:t=\"box\";break;case n.indexOf(\"lower-latin\")>-1:t=\"lower-latin\";break;case n.indexOf(\"upper-latin\")>-1:t=\"upper-latin\";break;case n.indexOf(\"lower-roman\")>-1:t=\"lower-roman\";break;case n.indexOf(\"upper-roman\")>-1:t=\"upper-roman\";break;case n.indexOf(\"-\")>-1:t=\"dash\";break;default:console.log(\"unknown list style type\",n)}t&&e.setAttribute(\"data-list-style-type\",t)}}var By=n(154),Uy=n.n(By);function Hy(e){const{ownerDocument:t,parentElement:n}=e;if(!t||!n)return;const r=function(e){if(!e)return null;const{host:t,pathname:n,query:r}=Qu.a.parse(e);if(\"www.google.com\"!==t||\"/chart\"!==n)return null;const o=Uy.a.parse(r),i=o.cht,s=o.chl;if(\"tx\"!==i||!s)return null;return s}(e.getAttribute(\"src\"));if(!r)return;const o=t.createElement(\"math\");o.setAttribute(\"data-latex\",r),n.insertBefore(o,e),n.removeChild(e)}function Fy(e){const{marginLeft:t}=e.style;if(t){const n=bi(t);n&&e.setAttribute(\"data-indent\",String(n))}}const Vy={transparent:\"\",inherit:\"\"};function qy(e){if(!e)return\"\";if(e in Vy)return Vy[e];let t=\"\";try{t=ki()(e).hex().toLowerCase(),Vy[e]=t}catch(t){console.warn(\"unable to convert to hex\",e),Vy[e]=\"\"}return t}function Ky(e){const{style:t}=e;if(!t)return;const{backgroundColor:n,width:r}=t;if(n){const t=qy(n),r=\"span[style*=background-color]\";Array.from(e.querySelectorAll(r)).some(e=>{const n=e.style;if(!n||!n.backgroundColor)return;qy(n.backgroundColor)===t&&(n.backgroundColor=\"\")})}if(r){const t=lo(r);if(!t)return;const n=t*(1/.75292857);e.setAttribute(\"data-colwidth\",String(Math.round(n)))}}function $y(e){const t=e.ownerDocument;if(!t)return;const n=e.style.height;if(!n)return;const r=e.querySelector(\"td, th\");if(!r)return;const o=lo(n);if(!o)return;const i=o-15.81149997*r.querySelectorAll(\"p\").length;if(i<0)return;let s=Math.round(i/15.81149997);if(s<=0)return;const a=t.createDocumentFragment(),c=t.createElement(\"p\");for(;s>0;)s--,a.appendChild(c.cloneNode(!1));r.appendChild(a)}const Gy=/<body[\\s>]/i,Wy=/_+/g,Yy=/(\\&nbsp;){6}/g,Xy=new Array(6).join('<span data-spacer-size=\"tab\"></span>');function Jy(e){return e&&e.length>=20&&(e=`<nobr>${String(e)}</nobr> `),e}const Zy=Object.freeze({from:0,to:0});function Qy(e){if(!window.getSelection)return console.warn(\"window.getSelection() is not supported\"),Zy;const t=window.getSelection();if(!t.containsNode)return console.warn(\"selection.containsNode() is not supported\"),Zy;if(!t.rangeCount)return Zy;const n=t.getRangeAt(0);if(!n)return Zy;const{startContainer:r,endContainer:o,startOffset:i,endOffset:s}=n;return r===e||o===e||r&&e.contains(r)||o&&e.contains(o)?{from:i,to:s}:Zy}function eb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eb(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Se.a.func.isRequired,Se.a.bool.isRequired,Se.a.bool.isRequired;const nb=new Set,rb=new Set;const ob=new class{constructor(e){p()(this,\"_observables\",[]),p()(this,\"_callback\",null),p()(this,\"_onClick\",()=>{const e=this._callback;this._observables=this._observables.map(e=>{const{target:t}=e;return{target:t,selection:Qy(t)}}),e&&e(this.takeRecords(),this)}),p()(this,\"_check\",()=>{let e=!1;const t=this._callback;this._observables=this._observables.map(t=>{const{target:n,selection:r}=t,o=Qy(n);return r===o||r.from===o.from&&r.to===o.to?t:(e=!0,{target:n,selection:o})}),e&&t&&t(this.takeRecords(),this)}),this._callback=e}disconnect(){this._observables.forEach(e=>{const t=e.target;t.removeEventListener(\"click\",this._check,!1),t.removeEventListener(\"selectionchange\",this._check,!1)}),this._observables=[]}observe(e){if(!window.getSelection)return void console.warn(\"window.getSelection() is not supported\");if(this._observables.some(t=>t.target===e))return;const t={target:e,selection:Qy(e)};e.addEventListener(\"click\",this._check,!1),e.addEventListener(\"selectionchange\",this._check,!1),this._observables.push(t)}takeRecords(){return this._observables.slice(0)}}((function(e,t){if(!window.getSelection)return console.warn(\"window.getSelection() is not supported\"),void t.disconnect();const n=window.getSelection();if(!n.containsNode)return console.warn(\"selection.containsNode() is not supported\"),void t.disconnect();for(const e of nb){const t=e.dom;n.containsNode(t)?e.selectNode():e.deselectNode()}0===nb.size&&t.disconnect()})),ib=new MutationObserver((function(e,t){const n=document.body;if(!n)return;const r=[];for(const e of rb){const t=e.dom;n.contains(t)&&(rb.delete(e),r.push(e),e.__renderReactComponent())}for(const e of nb){const t=e.dom;n.contains(t)||(nb.delete(t),u.a.unmountComponentAtNode(t))}r.forEach(e=>nb.add(e)),0===nb.size&&t.disconnect()}));var sb=class{constructor(e,t,n,r){p()(this,\"dom\",void 0),p()(this,\"props\",void 0),p()(this,\"_selected\",void 0),this.props={decorations:r,editorView:t,getPos:n,node:e,selected:!1,focused:!1},rb.add(this);const o=this.createDOMElement();this.dom=o,o.onClick=this._onClick,1===rb.size&&(ib.observe(t.dom,{childList:!0,subtree:!0}),ob.observe(t.dom))}update(e,t){return this.props=tb(tb({},this.props),{},{node:e}),this.__renderReactComponent(),!0}stopEvent(){return!1}selectNode(){this._selected=!0,this.dom.classList.add(\"ProseMirror-selectednode\"),this.__renderReactComponent()}deselectNode(){this._selected=!1,this.dom.classList.remove(\"ProseMirror-selectednode\"),this.__renderReactComponent()}createDOMElement(){throw new Error(\"not implemented\")}renderReactComponent(){throw new Error(\"not implemented\")}destroy(){}__renderReactComponent(){const{editorView:e,getPos:t}=this.props;if(e.state&&e.state.selection){const{from:n}=e.state.selection,r=t();this.props.selected=this._selected,this.props.focused=e.focused&&r===n}else this.props.selected=!1,this.props.focused=!1;u.a.render(this.renderReactComponent(),this.dom)}};n(401);class ab extends a.PureComponent{constructor(){super(...arguments),p()(this,\"props\",void 0),p()(this,\"_onClick\",e=>{e.preventDefault();const{id:t}=this.props.node.attrs,n=\"#\"+t;window.location.hash!==n&&(window.location.hash=n)})}render(){const{id:e,visible:t}=this.props.node.attrs,n=e&&t?ph.get(\"bookmark\"):null;return a.createElement(\"span\",{onClick:this._onClick},n)}}var cb=class extends sb{createDOMElement(){const e=document.createElement(\"a\");return e.className=\"czi-bookmark-view\",this._updateDOM(e),e}update(e,t){return super.update(e,t),!0}renderReactComponent(){return a.createElement(ab,this.props)}_updateDOM(e){const{id:t,visible:n}=this.props.node.attrs;e.setAttribute(\"id\",t),e.setAttribute(\"title\",t),e.setAttribute(\"data-bookmark-id\",t),n&&e.setAttribute(\"data-bookmark-visible\",\"true\")}};n(402),Se.a.node,Se.a.string,Se.a.bool,Se.a.node,Se.a.oneOfType([Se.a.string,Se.a.number]),Se.a.oneOf([\"header\",\"body\"]),Se.a.node,Se.a.oneOfType([Se.a.string,Se.a.number]);function lb(e){if(e&&\"auto\"!==e)return isNaN(e)?\"\"+e:e+\"px\"}class ub extends a.PureComponent{constructor(){super(...arguments),p()(this,\"props\",void 0)}render(){const{body:e,className:t,embedded:n,header:r,height:o,toolbarPlacement:i,toolbar:s,width:c}=this.props,l={width:lb(c),height:lb(o)},u=Qc()(t,{\"czi-editor-frameset\":!0,\"with-fixed-layout\":l.width||l.height,embedded:n}),d=\"header\"!==i&&i?null:s,p=\"body\"===i&&s;return a.createElement(\"div\",{className:u,style:l},a.createElement(\"div\",{className:\"czi-editor-frame-main\"},a.createElement(\"div\",{className:\"czi-editor-frame-head\"},r,d),a.createElement(\"div\",{className:\"czi-editor-frame-body\"},p,a.createElement(\"div\",{className:\"czi-editor-frame-body-scroll\"},e)),a.createElement(\"div\",{className:\"czi-editor-frame-footer\"})))}}var db=ub;n(145);const pb={NONE:{value:null,text:_s(\"Inline\")},LEFT:{value:\"left\",text:_s(\"Float left\")},CENTER:{value:\"center\",text:_s(\"Break text\")},RIGHT:{value:\"right\",text:_s(\"Float right\")}};Se.a.string;class fb extends a.PureComponent{constructor(){super(...arguments),p()(this,\"props\",void 0),p()(this,\"_onClick\",e=>{this.props.onSelect({align:e})})}render(){const e=this.props.value?this.props.value.align:null,t=this._onClick,n=Object.keys(pb).map(n=>{const{value:r,text:o}=pb[n];return a.createElement(Al,{active:e===r,key:n,label:o,onClick:t,value:r})});return a.createElement(\"div\",{className:\"czi-inline-editor\"},n)}}var hb=fb;n(403);function mb(e,t,n){e.style.width=t+\"px\"}function gb(e,t,n){e.style.height=n+\"px\"}function yb(e,t,n){e.style.width=Math.round(t)+\"px\",e.style.height=Math.round(n)+\"px\"}const bb={top:gb,top_right:yb,right:mb,bottom_right:yb,bottom:gb,bottom_left:yb,left:mb,top_left:yb};class vb extends a.PureComponent{constructor(){super(...arguments),p()(this,\"props\",void 0),p()(this,\"_active\",!1),p()(this,\"_el\",null),p()(this,\"_h\",\"\"),p()(this,\"_rafID\",0),p()(this,\"_w\",\"\"),p()(this,\"_x1\",0),p()(this,\"_x2\",0),p()(this,\"_y1\",0),p()(this,\"_y2\",0),p()(this,\"_ww\",0),p()(this,\"_hh\",0),p()(this,\"_syncSize\",()=>{if(!this._active)return;const{direction:e,width:t,height:n}=this.props,r=(this._x2-this._x1)*(/left/.test(e)?-1:1),o=(this._y2-this._y1)*(/top/.test(e)?-1:1),i=oc()(this._el),s=oc()(bb[e]),a=t/n;let c=li(20,t+Math.round(r),1e4),l=li(20,n+Math.round(o),1e4);s===yb&&(l=Math.max(c/a,20),c=l*a),s(i,Math.round(c),Math.round(l)),this._ww=c,this._hh=l}),p()(this,\"_onMouseDown\",e=>{e.preventDefault(),e.stopPropagation(),this._end(),this._start(e)}),p()(this,\"_onMouseMove\",e=>{e.preventDefault(),e.stopPropagation(),this._x2=e.clientX,this._y2=e.clientY,this._rafID=requestAnimationFrame(this._syncSize)}),p()(this,\"_onMouseUp\",e=>{e.preventDefault(),e.stopPropagation(),this._x2=e.clientX,this._y2=e.clientY;const{direction:t}=this.props;oc()(this._el).classList.remove(t),this._end(),this.props.onResizeEnd(this._ww,this._hh)})}componentWillUnmount(){this._end()}render(){const{direction:e}=this.props,t=Qc()({\"czi-image-resize-box-control\":!0,[e]:!0});return a.createElement(\"span\",{className:t,onMouseDown:this._onMouseDown})}_start(e){this._active&&this._end(),this._active=!0;const{boxID:t,direction:n,width:r,height:o}=this.props,i=oc()(document.getElementById(t));i.className+=\" \"+n,this._el=i,this._x1=e.clientX,this._y1=e.clientY,this._x2=this._x1,this._y2=this._y1,this._w=this._el.style.width,this._h=this._el.style.height,this._ww=r,this._hh=o,document.addEventListener(\"mousemove\",this._onMouseMove,!0),document.addEventListener(\"mouseup\",this._onMouseUp,!0)}_end(){if(!this._active)return;this._active=!1,document.removeEventListener(\"mousemove\",this._onMouseMove,!0),document.removeEventListener(\"mouseup\",this._onMouseUp,!0);const e=oc()(this._el);e.style.width=this._w,e.style.height=this._h,e.className=\"czi-image-resize-box\",this._el=null,this._rafID&&cancelAnimationFrame(this._rafID),this._rafID=null}}class _b extends a.PureComponent{constructor(){super(...arguments),p()(this,\"props\",void 0),p()(this,\"_id\",gc())}render(){const{onResizeEnd:e,width:t,height:n,src:r}=this.props,o={height:n+\"px\",width:t+\"px\"},i=this._id,s=Object.keys(bb).map(r=>a.createElement(vb,{boxID:i,config:bb[r],direction:r,height:n,key:r,onResizeEnd:e,width:t}));return a.createElement(\"span\",{className:\"czi-image-resize-box\",id:i,style:o},s,a.createElement(\"img\",{className:\"czi-image-resize-box-image\",src:r}))}}var wb=_b,Eb=n(155);Se.a.shape({x:Se.a.number.isRequired,y:Se.a.number.isRequired,width:Se.a.number.isRequired,height:Se.a.number.isRequired,top:Se.a.number.isRequired,right:Se.a.number.isRequired,bottom:Se.a.number.isRequired,left:Se.a.number.isRequired}).isRequired;let Sb=null;const Ob=new Map;function xb(e){e.forEach(kb)}function kb(e){const t=e.target,n=Ob.get(t);n&&n.forEach(t=>t(e))}var Cb={observe:function(e,t){const n=e,r=Sb||(Sb=new Eb.a(xb));if(Ob.has(n)){oc()(Ob.get(n)).push(t)}else{const e=[t];Ob.set(n,e),r.observe(n)}},unobserve:function(e,t){const n=Sb;if(!n)return;const r=e;if(n.unobserve(r),t){const e=Ob.has(r)?oc()(Ob.get(r)).filter(e=>e!==t):null;e&&e.length?Ob.set(r,e):Ob.delete(r)}else Ob.delete(r);Ob.size||(n.disconnect(),Sb=null)}};n(404);function Ab(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ab(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ab(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Pb={src:\"\",complete:!1,height:0,width:0};class Mb extends a.PureComponent{constructor(){super(...arguments),p()(this,\"props\",void 0),p()(this,\"_body\",null),p()(this,\"_id\",gc()),p()(this,\"_inlineEditor\",null),p()(this,\"_mounted\",!1),p()(this,\"state\",{maxSize:{width:1e5,height:1e5,complete:!1},originalSize:Pb}),p()(this,\"_resolveOriginalSize\",async()=>{if(!this._mounted)return;this.setState({originalSize:Pb});const e=this.props.node.attrs.src,t=function(e,t){if(!e)return t;const{canProxyImageSrc:n,getProxyImageSrc:r}=e;return t&&n&&r&&n(t)?r(t):t}(this.props.editorView.runtime,e),n=await rd(t);if(!this._mounted)return;if(this.props.node.attrs.src!==e)return;const r=document.getElementsByClassName(\"czi-prosemirror-editor\")[0].offsetHeight;n.height>r&&(n.height=r-100),n.complete||(n.width=20,n.height=20),this.setState({originalSize:n})}),p()(this,\"_onKeyDown\",e=>{console.log(e.keyCode)}),p()(this,\"_onResizeEnd\",(e,t)=>{const{getPos:n,node:r,editorView:o}=this.props,i=n(),s=Tb(Tb({},r.attrs),{},{crop:null,width:e,height:t});let a=o.state.tr;const{selection:c}=o.state;a=a.setNodeMarkup(i,null,s);const l=We.NodeSelection.create(a.doc,c.from);a=a.setSelection(l),o.dispatch(a)}),p()(this,\"_onChange\",e=>{if(!this._mounted)return;const t=e?e.align:null,{getPos:n,node:r,editorView:o}=this.props,i=n(),s=Tb(Tb({},r.attrs),{},{align:t});let a=o.state.tr;const{selection:c}=o.state;a=a.setNodeMarkup(i,null,s);const l=We.NodeSelection.create(a.doc,c.from);a=a.setSelection(l),o.dispatch(a)}),p()(this,\"_onBodyRef\",e=>{if(e){this._body=e;const t=u.a.findDOMNode(e);t instanceof HTMLElement&&Cb.observe(t,this._onBodyResize)}else{const e=this._body&&u.a.findDOMNode(this._body);e instanceof HTMLElement&&Cb.unobserve(e),this._body=null}}),p()(this,\"_onBodyResize\",e=>{const t=this._body?function(e){let t=e.parentElement;for(;t&&!t.offsetParent;)t=t.parentElement;if(t&&t.offsetParent&&t.offsetParent.offsetWidth&&t.offsetParent.offsetWidth>0){const{offsetParent:n}=t,r=e.ownerDocument.defaultView.getComputedStyle(n);let o=n.clientWidth-4;if(\"border-box\"===r.boxSizing){o-=parseInt(r.paddingLeft,10)+parseInt(r.paddingRight,10)}return Math.max(o,20)}return 1e5}(u.a.findDOMNode(this._body)):1e5;this.setState({maxSize:{width:t,height:1e5,complete:!!this._body}})})}componentDidMount(){this._mounted=!0,this._resolveOriginalSize(),this._renderInlineEditor()}componentWillUnmount(){this._mounted=!1,this._inlineEditor&&this._inlineEditor.close(),this._inlineEditor=null}componentDidUpdate(e){const t=e.node.attrs.src,{node:n}=this.props,{src:r}=n.attrs;t!==r&&this._resolveOriginalSize(),this._renderInlineEditor()}render(){const{originalSize:e,maxSize:t}=this.state,{editorView:n,node:r,selected:o,focused:i}=this.props,{readOnly:s}=n,{attrs:c}=r,{align:l,crop:u,rotate:d}=c,p=e===Pb,f=!p&&i&&!s&&e.complete,h=e.complete?e.src:\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\",m=p?1:e.width/e.height,g=!p&&!e.complete;let{width:y,height:b}=c;p&&(y=y||24,b=b||24),y&&!b?b=y/m:b&&!y?y=b*m:y||b||(y=e.width,b=e.height);let v=1;y>t.width&&(!u||u.width>t.width)&&(y=t.width,b=y/m,v=t.width/y);const _=Qc()(\"czi-image-view-body\",{active:f,error:g,focused:i,loading:p,selected:o}),w=!f||u||d?null:a.createElement(wb,{height:b,onResizeEnd:this._onResizeEnd,src:h,width:y}),E={display:\"inline-block\",height:b+\"px\",left:\"0\",top:\"0\",width:y+\"px\",position:\"relative\"},S={};if(u){const e=Tb({},u);1!==v&&(v=t.width/e.width,e.width*=v,e.height*=v,e.left*=v,e.top*=v),S.width=e.width+\"px\",S.height=e.height+\"px\",E.left=e.left+\"px\",E.top=e.top+\"px\"}d&&(S.transform=`rotate(${d}rad)`);const O=g?ph.get(\"error\"):null,x=g?\"Unable to load image from \"+(c.src||\"\"):void 0;return a.createElement(\"span\",{className:_,\"data-active\":f?\"true\":void 0,\"data-original-src\":String(c.src),id:this._id,onKeyDown:this._onKeyDown,ref:this._onBodyRef,title:x},a.createElement(\"span\",{className:\"czi-image-view-body-img-clip\",style:S},a.createElement(\"span\",{style:E},a.createElement(\"img\",{alt:\"\",className:\"czi-image-view-body-img\",\"data-align\":l,height:b,id:this._id+\"-img\",src:h,width:y}),O)),w)}_renderInlineEditor(){const e=document.getElementById(this._id);if(!e||\"true\"!==e.getAttribute(\"data-active\"))return void(this._inlineEditor&&this._inlineEditor.close());const{node:t}=this.props,n={value:t.attrs,onSelect:this._onChange};this._inlineEditor?this._inlineEditor.update(n):this._inlineEditor=Sl(hb,n,{anchor:e,autoDismiss:!1,container:e.closest(\".czi-editor-frame-body\"),position:cl,onClose:()=>{this._inlineEditor=null}})}}var Rb=class extends sb{createDOMElement(){const e=document.createElement(\"span\");return e.className=\"czi-image-view\",this._updateDOM(e),e}update(e,t){return super.update(e,t),this._updateDOM(this.dom),!0}renderReactComponent(){return a.createElement(Mb,this.props)}_updateDOM(e){const{align:t}=this.props.node.attrs;let n=\"czi-image-view\";t&&(n+=\" align-\"+t),e.className=n}};var Db=class{constructor(e,t,n,r){p()(this,\"dom\",void 0),p()(this,\"contentDOM\",void 0),p()(this,\"_nodeUpdated\",void 0);const o=document.createElement(\"li\");this.dom=o,this.contentDOM=o,this._updateDOM(e)}update(e,t){return this._updateDOM(e)}_updateDOM(e){if(this._nodeUpdated===e)return!1;this._nodeUpdated=e;const t=this.dom,n=e.firstChild,r=n?n.firstChild:null,o=r&&r.isText&&r.textContent?r.marks:null;let i,s,a=\"\";Array.isArray(o)&&o.forEach(e=>{const{attrs:t,type:n}=e;switch(n.name){case Lo:i=t.color;break;case To:s=t.pt}}),i&&(a+=`--czi-list-style-color: ${i};`),s&&(a+=`--czi-list-style-font-size: ${s}pt;`),t.style.cssText=a;const{align:c}=e.attrs;return c?t.setAttribute(\"data-align\",c):t.removeAttribute(\"data-align\"),!0}};n(405);function Ib(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ib(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ib(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const jb={NONE:{value:null,text:_s(\"Inline\")},CENTER:{value:\"center\",text:_s(\"Break text\")}};Se.a.string,Se.a.string.isRequired;class Lb extends a.PureComponent{constructor(){super(...arguments),p()(this,\"props\",void 0),p()(this,\"_popUp\",null),p()(this,\"_onClick\",e=>{const t=this.props.value||{};this.props.onSelect(Nb(Nb({},t),{},{align:e}))}),p()(this,\"_editLatex\",e=>{if(this._popUp)return;const{editorView:t,value:n}=this.props,r={runtime:t?t.runtime:null,initialValue:n&&n.latex||\"\"};this._popUp=Sl(Yd,r,{autoDismiss:!1,modal:!0,onClose:e=>{if(this._popUp){if(this._popUp=null,void 0!==e){const t=this.props.value||{};this.props.onSelect(Nb(Nb({},t),{},{latex:e}))}this.props.onEditEnd()}}}),this.props.onEditStart()})}componentWillUnmount(){this._popUp&&this._popUp.close()}render(){const{align:e,latex:t}=this.props.value||{},n=this._onClick,r=Object.keys(jb).map(t=>{const{value:r,text:o}=jb[t];return a.createElement(Al,{active:e===r,key:t,label:o,onClick:n,value:r})});return a.createElement(\"div\",{className:\"czi-inline-editor\"},r,a.createElement(Al,{key:\"edit\",label:_s(\"Edit\"),onClick:this._editLatex,value:t||\"\"}))}}var zb=Lb;function Bb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ub(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bb(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class Hb extends a.PureComponent{constructor(){super(...arguments),p()(this,\"props\",void 0),p()(this,\"state\",{isEditing:!1}),p()(this,\"_inlineEditor\",null),p()(this,\"_id\",gc()),p()(this,\"_mounted\",!1),p()(this,\"_onEditStart\",()=>{this.setState({isEditing:!0})}),p()(this,\"_onEditEnd\",()=>{this.setState({isEditing:!1})}),p()(this,\"_onChange\",e=>{if(!this._mounted)return;const t=e?e.align:null,n=e?e.latex:null,{getPos:r,node:o,editorView:i}=this.props,s=r(),a=Ub(Ub({},o.attrs),{},{latex:n,align:t});let c=i.state.tr;const{selection:l}=i.state;c=c.setNodeMarkup(s,null,a);const u=We.NodeSelection.create(c.doc,l.from);c=c.setSelection(u),i.dispatch(c)})}componentDidMount(){this._mounted=!0,this._renderInlineEditor()}componentWillUnmount(){this._mounted=!1}componentDidUpdate(e){this._renderInlineEditor()}render(){const{node:e,selected:t,focused:n}=this.props,{attrs:r}=e,{latex:o}=r,{isEditing:i}=this.state,s=(n||i)&&!0,c=Qc()(\"czi-math-view-body\",{active:s,selected:t}),l=Hd(o);return a.createElement(\"span\",{className:c,\"data-active\":s?\"true\":null,\"data-latex\":o||\"\",id:this._id,title:o},a.createElement(\"img\",{alt:o,className:\"czi-math-view-body-img\",src:\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\",title:o}),a.createElement(\"span\",{className:\"czi-math-view-body-content\",dangerouslySetInnerHTML:{__html:l}}))}_renderInlineEditor(){const e=document.getElementById(this._id);if(!e||\"true\"!==e.getAttribute(\"data-active\"))return void(this._inlineEditor&&this._inlineEditor.close());const{node:t}=this.props,n={value:t.attrs,onSelect:this._onChange,onEditStart:this._onEditStart,onEditEnd:this._onEditEnd};this._inlineEditor?this._inlineEditor.update(n):this._inlineEditor=Sl(zb,n,{anchor:e,autoDismiss:!1,container:e.closest(\".czi-editor-frame-body\"),position:cl,onClose:()=>{this._inlineEditor=null}})}}var Fb=class extends sb{createDOMElement(){const e=document.createElement(\"span\");return e.className=\"czi-math-view\",this._updateDOM(e),e}update(e,t){return super.update(e,t),this._updateDOM(this.dom),!0}renderReactComponent(){return a.createElement(Hb,this.props)}_updateDOM(e){const{align:t}=this.props.node.attrs;let n=\"czi-math-view\";t&&(n+=\" align-\"+t),e.className=n}};const Vb=new Set([8,46,40,37,39,38]);n(406),Se.a.bool,Se.a.bool,Se.a.func,Se.a.bool,Se.a.func,Se.a.func,Se.a.func,Se.a.objectOf((function(){return(\"function\"==typeof sb?Se.a.instanceOf(sb).isRequired:Se.a.any.isRequired).apply(this,arguments)})),Se.a.oneOfType([Se.a.string,Se.a.node]),Se.a.bool,Se.a.func;window.CZIProseMirror={exportJSON:function(e){!e&&fy.size&&(e=hy()[0],console.log(`use default editor id \"${e}\"`));const t=fy.get(String(e));if(!t)throw new Error(\"view ${id} does not exist\");return t.state.doc.toJSON()},registeryKeys:hy};const qb=Object.freeze({[Jo]:Rb,[ei]:Fb,[qo]:cb,[Qo]:Db}),Kb=Object.freeze(ay()),$b=We.Transaction.prototype.scrollIntoView;We.Transaction.prototype.scrollIntoView=function(e){return!0===e&&$b?$b.call(this):this},wo.setImplementation(uy.a),Eo.forEach(e=>{So(e)});const Gb={drop:function(e,t){const{dataTransfer:n}=t;if(!n)return!1;const{files:r}=n;return!(!r||!r.length)&&(!!wc(e,Array.from(r),{x:t.clientX,y:t.clientY})&&(t.preventDefault(),!0))},keydown:function(e,t){const{selection:n,tr:r}=e.state,{from:o,to:i}=n;if(o===i-1){const e=r.doc.nodeAt(o);if(e.isAtom&&!e.isText&&e.isLeaf)return!Vb.has(t.keyCode)}return!1},paste:function(e,t){const{clipboardData:n}=t;if(!n)return!1;const{files:r}=n;return!(!r||!r.length)&&(!!wc(e,Array.from(r))&&(t.preventDefault(),!0))}};function Wb(e){return e?e.schema:Kb.schema}class Yb extends a.PureComponent{constructor(){super(...arguments),p()(this,\"_autoFocusTimer\",0),p()(this,\"_id\",gc()),p()(this,\"_editorView\",null),p()(this,\"props\",void 0),p()(this,\"state\",{isPrinting:!1}),p()(this,\"_onBlur\",()=>{const{onBlur:e}=this.props,t=this._editorView;t&&!t.disabled&&!t.readOnly&&e&&e()}),p()(this,\"focus\",()=>{const e=this._editorView;!e||e.disabled||e.readOnly||e.focus()}),p()(this,\"_dispatchTransaction\",e=>{const{editorState:t,readOnly:n,onChange:r}=this.props;!0!==n&&r&&r({transaction:e,state:t||Kb})}),p()(this,\"_isEditable\",()=>{const{disabled:e,readOnly:t}=this.props,{isPrinting:n}=this.state;return!(n||!this._editorView||t||e)}),p()(this,\"_onPrintStart\",()=>{this.setState({isPrinting:!0})}),p()(this,\"_onPrintEnd\",()=>{this.setState({isPrinting:!1})})}componentDidMount(){const{onReady:e,editorState:t,readOnly:n,runtime:r,placeholder:o,disabled:i,dispatchTransaction:s,nodeViews:a,transformPastedHTML:c}=this.props,l=document.getElementById(this._id);if(l){const u=Object.assign({},qb,a),d={},p=Wb(t),{nodes:f}=p;Object.keys(u).forEach(e=>{const t=u[e];var n;f[e]&&(d[e]=(n=t,(e,t,r,o)=>new n(e,t,r,o)))});const h=this._editorView=new py(l,{clipboardSerializer:Fe.DOMSerializer.fromSchema(p),dispatchTransaction:s,editable:this._isEditable,nodeViews:d,state:t||Kb,transformPastedHTML:c,handleDOMEvents:Gb});h.runtime=r,h.placeholder=o,h.readOnly=!!n,h.disabled=!!i,h.updateState(t||Kb),function(e,t){if(fy.has(e))throw new Error(\"view ${id} already registered\");if(!(t instanceof py))throw new Error(\"invalid view \"+e);if(!e)throw new Error(\"id is required\");fy.set(e,t)}(this._id,h),e&&e(h),this._autoFocusTimer&&clearTimeout(this._autoFocusTimer),this._autoFocusTimer=this.props.autoFocus?setTimeout(this.focus,350):0}window.addEventListener(\"beforeprint\",this._onPrintStart,!1),window.addEventListener(\"afterprint\",this._onPrintEnd,!1)}componentDidUpdate(e){const t=this._editorView;if(t){Wb(e.editorState)!==Wb(this.props.editorState)&&console.error(\"editor schema changed.\");const{runtime:n,editorState:r,placeholder:o,readOnly:i,disabled:s}=this.props,{isPrinting:a}=this.state,c=r||Kb;t.runtime=n,t.placeholder=o,t.readOnly=!!i||a,t.disabled=!!s,t.updateState(c),this._autoFocusTimer&&clearTimeout(this._autoFocusTimer),this._autoFocusTimer=!e.autoFocus&&this.props.autoFocus?setTimeout(this.focus,350):0}}componentWillUnmount(){this._autoFocusTimer&&clearTimeout(this._autoFocusTimer),this._editorView&&this._editorView.destroy(),this._editorView=null,function(e){if(!fy.has(e))throw new Error(\"view ${id} was released\");fy.delete(e)}(this._id),window.removeEventListener(\"beforeprint\",this._onPrintStart,!1),window.removeEventListener(\"afterprint\",this._onPrintEnd,!1)}render(){const{embedded:e,readOnly:t}=this.props,n=Qc()(\"prosemirror-editor-wrapper\",{embedded:e,readOnly:t});return a.createElement(\"div\",{className:n,\"data-czi-prosemirror-editor-id\":this._id,id:this._id,onBlur:this._onBlur})}}p()(Yb,\"EDITOR_EMPTY_STATE\",Kb),p()(Yb,\"defaultProps\",{transformPastedHTML:function(e){let t=null;const n=Gy.test(e),r=function(e){return(new window.DOMParser).parseFromString(e,\"text/html\")}(e=(e=e.replace(Wy,Jy)).replace(Yy,Xy));if(r&&(My(r),function(e){Array.from(e.querySelectorAll(_y)).forEach(Sy)}(r),function(e){Array.from(e.querySelectorAll(\"a[id]\")).forEach(gy)}(r),function(e){Array.from(e.querySelectorAll(\"div > span:only-child > br:only-child\")).forEach(yy)}(r),jy(r),function(e){Array.from(e.querySelectorAll(\"p\")).forEach(Fy)}(r),function(e){Array.from(e.querySelectorAll(\"td\")).forEach(Ky),Array.from(e.querySelectorAll(\"tr[style^=height]\")).forEach($y)}(r),function(e){Array.from(e.querySelectorAll(\"img\")).forEach(Hy)}(r),t=r.getElementsByTagName(\"body\")[0],t&&n)){const e=r.createElement(\"html\");return e.appendChild(t),e.innerHTML}return t?\"<body>\"+t.innerHTML+\"</body>\":\"Unsupported HTML content\"}});var Xb=Yb;class Jb extends a.PureComponent{constructor(){super(...arguments),p()(this,\"props\",void 0),p()(this,\"_onUIEnter\",(e,t)=>{e.shouldRespondToUIEvent(t)&&this._execute(e,t)}),p()(this,\"_execute\",(e,t)=>{const{command:n,editorState:r,dispatch:o,editorView:i}=this.props;n.execute(r,o,i,t)})}render(){const{label:e,className:t,command:n,editorState:r,editorView:o,icon:i,title:s}=this.props;let c=this.props.disabled;return!1==!!c&&(c=!o||!n.isEnabled(r,o)),a.createElement(Al,{active:n.isActive(r),className:t,disabled:c,icon:i,label:e,onClick:this._onUIEnter,onMouseEnter:this._onUIEnter,title:s,value:n})}}var Zb=Jb;n(447);class Qb extends a.PureComponent{constructor(){super(...arguments),p()(this,\"_body\",null),p()(this,\"props\",void 0),p()(this,\"state\",{expanded:!1,wrapped:null}),p()(this,\"_renderButtonsGroup\",(e,t)=>{const n=Object.keys(e).map(t=>{const n=e[t];if(function(e){if(\"function\"!=typeof e)return!1;const t=e.prototype;return!!t&&!!t.isReactComponent}(n)){const e=n,{editorState:r,editorView:o,dispatchTransaction:i}=this.props;return a.createElement(e,{dispatch:i,editorState:r,editorView:o,key:t})}return n instanceof Wl?this._renderButton(t,n):Array.isArray(n)?this._renderMenuButton(t,n):null}).filter(Boolean);return a.createElement(\"div\",{className:\"czi-custom-buttons\",key:\"g\"+String(t)},n)}),p()(this,\"_renderMenuButton\",(e,t)=>{const{editorState:n,editorView:r,disabled:o,dispatchTransaction:i}=this.props,{icon:s,title:c}=hh(e);return a.createElement(eu,{commandGroups:t,disabled:o,dispatch:i,editorState:n,editorView:r,icon:s,key:e,label:s?null:c,title:c})}),p()(this,\"_renderButton\",(e,t)=>{const{disabled:n,editorState:r,editorView:o,dispatchTransaction:i}=this.props,{icon:s,title:c}=hh(e);return a.createElement(Zb,{command:t,disabled:n,dispatch:i,editorState:r,editorView:o,icon:s,key:e,label:s?null:c,title:c})}),p()(this,\"_onBodyRef\",e=>{if(e){this._body=e;const t=u.a.findDOMNode(e);t instanceof HTMLElement&&Cb.observe(t,this._checkIfContentIsWrapped)}else{const e=this._body&&u.a.findDOMNode(this._body);e instanceof HTMLElement&&Cb.unobserve(e),this._body=null}}),p()(this,\"_checkIfContentIsWrapped\",()=>{const e=this._body,t=e&&u.a.findDOMNode(e),n=t&&t.firstChild,r=t&&t.lastChild;if(n&&r){const e=n.offsetTop<r.offsetTop;this.setState({wrapped:e})}}),p()(this,\"_toggleExpansion\",e=>{this.setState({expanded:!e})})}render(){const{wrapped:e,expanded:t}=this.state,n=Qc()(\"czi-editor-toolbar\",{expanded:t,wrapped:e}),r=e?a.createElement(Al,{active:t,className:\"czi-editor-toolbar-expand-button\",icon:ph.get(\"more_horiz\"),key:\"expand\",onClick:this._toggleExpansion,title:\"More\",value:t}):null;return a.createElement(\"div\",{className:n},a.createElement(\"div\",{className:\"czi-editor-toolbar-flex\"},a.createElement(\"div\",{className:\"czi-editor-toolbar-body\"},a.createElement(\"div\",{className:\"czi-editor-toolbar-body-content\",ref:this._onBodyRef},a.createElement(\"i\",{className:\"czi-editor-toolbar-wrapped-anchor\"}),um.map(this._renderButtonsGroup),a.createElement(\"div\",{className:\"czi-editor-toolbar-background\"},a.createElement(\"div\",{className:\"czi-editor-toolbar-background-line\"}),a.createElement(\"div\",{className:\"czi-editor-toolbar-background-line\"}),a.createElement(\"div\",{className:\"czi-editor-toolbar-background-line\"}),a.createElement(\"div\",{className:\"czi-editor-toolbar-background-line\"}),a.createElement(\"div\",{className:\"czi-editor-toolbar-background-line\"})),a.createElement(\"i\",{className:\"czi-editor-toolbar-wrapped-anchor\"})),r),a.createElement(\"div\",{className:\"czi-editor-toolbar-footer\"})))}}var ev=Qb;n(448);class tv extends a.PureComponent{render(){return a.createElement(\"div\",{className:\"czi-frag\"},this.props.children)}}var nv=tv;const rv={};class ov extends a.PureComponent{constructor(e,t){super(e,t),p()(this,\"props\",void 0),p()(this,\"state\",void 0),p()(this,\"_id\",void 0),p()(this,\"_dispatchTransaction\",e=>{const{onChange:t,editorState:n,readOnly:r}=this.props;!0!==r&&t&&t({state:n||Xb.EDITOR_EMPTY_STATE,transaction:e})}),p()(this,\"_onReady\",e=>{if(e!==this.state.editorView){this.setState({editorView:e});const{onReady:t}=this.props;t&&t(e)}}),this._id=gc(),this.state={contentHeight:NaN,contentOverflowHidden:!1,editorView:null}}render(){const{autoFocus:e,children:t,className:n,disabled:r,embedded:o,header:i,height:s,onChange:c,nodeViews:l,placeholder:u,readOnly:d,width:p}=this.props;let{editorState:f,runtime:h}=this.props;f=f||ay(),h=h||rv;const{editorView:m}=this.state,g=!0==!!d?null:a.createElement(ev,{disabled:r,dispatchTransaction:this._dispatchTransaction,editorState:f||Xb.EDITOR_EMPTY_STATE,editorView:m,readOnly:d}),y=a.createElement(nv,null,a.createElement(Xb,{autoFocus:e,disabled:r,dispatchTransaction:this._dispatchTransaction,editorState:f,embedded:o,id:this._id,nodeViews:l,onChange:c,onReady:this._onReady,placeholder:u,readOnly:d,runtime:h}),t);return a.createElement(db,{body:y,className:n,embedded:o,header:i,height:s,toolbar:g,width:p})}}var iv=ov;function sv(e){let t=new XMLHttpRequest,n=!1,r=new Promise((r,o)=>{if(t.open(e.method,e.url,!0),t.addEventListener(\"load\",()=>{var e,i;if(!n)if(t.status<400)r(t.responseText);else{let n=t.responseText;n&&/html/.test(t.getResponseHeader(\"content-type\"))&&(e=n,(i=document.createElement(\"div\")).innerHTML=e,n=i.textContent.replace(/\\n[^]*|\\s+$/g,\"\"));let r=new Error(\"Request failed: \"+t.statusText+(n?\"\\n\\n\"+n:\"\"));r.status=t.status,o(r)}}),t.addEventListener(\"error\",()=>{n||o(new Error(\"Network error\"))}),e.headers)for(let n in e.headers)t.setRequestHeader(n,e.headers[n]);t.send(e.body||null)});return r.abort=()=>{n||(t.abort(),n=!0)},r}function av(e,t,n){return sv({url:e,method:\"POST\",body:t,headers:{\"Content-Type\":n}})}Se.a.func;var cv=class{constructor(e,t){p()(this,\"_setState\",void 0),p()(this,\"_editorState\",void 0),p()(this,\"onEdit\",e=>{u.a.unstable_batchedUpdates(()=>{const t=this._editorState.apply(e),n={editorState:t,data:e.doc.toJSON()};this._setState(n,()=>{this._editorState=t})})}),p()(this,\"getState\",()=>this._editorState),p()(this,\"updateSchema\",e=>{}),this._editorState=e,this._setState=t}},lv=function(e,t,n){this.step=e,this.inverted=t,this.origin=n};var uv=function(e,t){this.version=e,this.unconfirmed=t};var dv=new We.PluginKey(\"collab\");function pv(e){return void 0===e&&(e={}),e={version:e.version||0,clientID:null==e.clientID?Math.floor(4294967295*Math.random()):e.clientID},new We.Plugin({key:dv,state:{init:function(){return new uv(e.version,[])},apply:function(e,t){var n=e.getMeta(dv);return n||(e.docChanged?new uv(t.version,t.unconfirmed.concat(function(e){for(var t=[],n=0;n<e.steps.length;n++)t.push(new lv(e.steps[n],e.steps[n].invert(e.docs[n]),e));return t}(e))):t)}},config:e,historyPreserveItems:!0})}function fv(e,t,n,r){for(var o=dv.getState(e),i=o.version+t.length,s=dv.get(e).spec.config.clientID,a=0;a<n.length&&n[a]==s;)++a;var c=o.unconfirmed.slice(a);if(!(t=a?t.slice(a):t).length)return e.tr.setMeta(dv,new uv(i,c));var l=c.length,u=e.tr;if(l)c=function(e,t,n){for(var r=e.length-1;r>=0;r--)n.step(e[r].inverted);for(var o=0;o<t.length;o++)n.step(t[o]);for(var i=[],s=0,a=e.length;s<e.length;s++){var c=e[s].step.map(n.mapping.slice(a));a--,c&&!n.maybeStep(c).failed&&(n.mapping.setMirror(a,n.steps.length-1),i.push(new lv(c,c.invert(n.docs[n.docs.length-1]),e[s].origin)))}return i}(c,t,u);else{for(var d=0;d<t.length;d++)u.step(t[d]);c=[]}var p=new uv(i,c);return r&&r.mapSelectionBackward&&e.selection instanceof We.TextSelection&&(u.setSelection(We.TextSelection.between(u.doc.resolve(u.mapping.map(e.selection.anchor,-1)),u.doc.resolve(u.mapping.map(e.selection.head,-1)),-1)),u.updated&=-2),u.setMeta(\"rebased\",l).setMeta(\"addToHistory\",!1).setMeta(dv,p)}const{parse:hv,stringify:mv}=JSON,{keys:gv}=Object,yv=String,bv=(e,t)=>t,vv=(e,t,n)=>{const r=yv(t.push(n)-1);return e.set(n,r),r},_v=(e,t,n)=>{const r=t&&\"object\"==typeof t?(e,n)=>\"\"===e||-1<t.indexOf(e)?n:void 0:t||bv,o=new Map,i=[],s=[];let a=+vv(o,i,r.call({\"\":e},\"\",e)),c=!a;for(;a<i.length;)c=!0,s[a]=mv(i[a++],l,n);return\"[\"+s.join(\",\")+\"]\";function l(e,t){if(c)return c=!c,t;const n=r.call(this,e,t);switch(typeof n){case\"object\":if(null===n)return n;case\"string\":return o.get(n)||vv(o,i,n)}return n}};var wv=null;class Ev{constructor(e,t){p()(this,\"edit\",void 0),p()(this,\"comm\",void 0),this.edit=e,this.comm=t}}var Sv=class{constructor(e,t,n,r,o,i){p()(this,\"backOff\",void 0),p()(this,\"onReady\",void 0),p()(this,\"ready\",void 0),p()(this,\"report\",void 0),p()(this,\"request\",void 0),p()(this,\"state\",void 0),p()(this,\"ws_url\",void 0),p()(this,\"view\",void 0),p()(this,\"schema\",void 0),p()(this,\"socket\",void 0),p()(this,\"dispatch\",e=>{let t=null;if(\"loaded\"==e.type){const t=We.EditorState.create({doc:e.doc,plugins:iy.concat([pv({clientID:this.client_id,version:e.version})])});this.state=new Ev(t,\"poll\"),this.ready=!0,this.onReady(t)}else\"restart\"==e.type?(this.state=new Ev(null,\"start\"),this.ws_start()):\"poll\"==e.type?this.state=new Ev(this.state.edit,\"poll\"):\"recover\"==e.type?e.error.status&&e.error.status<500?(this.report.failure(\"error\"),this.state=new Ev(null,null)):(this.state=new Ev(this.state.edit,\"recover\"),this.recover(e.error)):\"transaction\"==e.type&&(t=this.state.edit?this.state.edit.apply(e.transaction):null);if(t){let n;t.doc.content.size>4e4?(\"detached\"!==this.state.comm&&this.report.failure(\"Document too big. Detached.\"),this.state=new Ev(t,\"detached\")):e.requestDone?this.state=new Ev(t,\"poll\"):\"poll\"==this.state.comm&&(n=this.sendable(t))?(this.state=new Ev(t,\"send\"),this.ws_send(t,n)):this.state=new Ev(t,this.state.comm)}this.state.edit&&this.view&&this.view.updateState(this.state.edit)}),this.schema=null,this.report=t,this.ws_url=n,this.doc_id=i,this.user_id=o,this.client_id=o+\"#\"+mc(),this.session_hash=r,this.state=new Ev(null,\"start\"),this.request=null,this.backOff=0,this.view=null,this.dispatch=this.dispatch.bind(this),this.ready=!1,this.onReady=e,this.socket=null,this.temp=null,wv=this}getEffectiveSchema(){return null!=this.schema?this.schema:ta}cursor_send(e){const t={selection:e,clientID:this.client_id},n=JSON.stringify({type:\"selection\",data:t});this.socket.send(n)}ws_start(){const e=this.ws_url+\"?user_id=\"+this.user_id+\"&session_hash=\"+this.session_hash+\"&doc_id=\"+this.doc_id;this.socket=new WebSocket(e),this.socket.onopen=function(e){typeof add_user==typeof Function&&add_user(wv.user_id,window.user_name)},this.socket.onmessage=function(e){wv.report.success();var t=JSON.parse(e.data),n=t.data;if(\"init\"==t.type)wv.temp=n.doc_json,wv.recursive_unquote(wv.temp),wv.dispatch({type:\"loaded\",doc:wv.getEffectiveSchema().nodeFromJSON(wv.temp),version:n.version,users:n.users});else if(\"step\"==t.type){if(wv.backOff=0,n.steps&&n.steps.length){wv.temp=n.steps,wv.recursive_unquote(wv.temp);const e=fv(wv.state.edit,wv.temp.map(e=>oo.d.fromJSON(wv.getEffectiveSchema(),e)),n.clientIDs);wv.dispatch({type:\"transaction\",transaction:e,requestDone:!1})}}else if(\"users\"==t.type){if(\"add\"in n&&n.add.user_id.length&&typeof add_user==typeof Function)for(var r in n.add.user_id)add_user(n.add.user_id[r],n.add.user_name[r]);if(\"delete\"in n&&n.delete.user_id.length&&typeof delete_user==typeof Function)for(var r in n.delete.user_id)delete_user(n.delete.user_id[r])}else console.log(n)},this.socket.onclose=function(e){wv.report.failure(\"error\"),wv.dispatch({type:\"restart\"})}}ws_send(e,t){const{steps:n}=t;let r={version:(o=e,dv.getState(o).version),steps:n?n.steps.map(e=>e.toJSON()):[],clientID:n?n.clientID:0};var o;let i=JSON.stringify({type:\"content\",data:r});this.socket.send(i),this.report.success(),this.backOff=0;const s=n?fv(this.state.edit,n.steps,function(e,t){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(n.clientID,n.steps.length)):this.state.edit.tr;this.dispatch({type:\"transaction\",transaction:s,requestDone:!0})}ws_recover(){const e=this.backOff?Math.min(2*this.backOff,6e4):200;e>1e3&&this.backOff<1e3&&this.report.delay(\"error\"),this.backOff=e,setTimeout(()=>{\"recover\"==this.state.comm&&this.dispatch({type:\"restart\"})},this.backOff)}sendable(e){const t=(n=e,0==(r=dv.getState(n)).unconfirmed.length?null:{version:r.version,steps:r.unconfirmed.map((function(e){return e.step})),clientID:dv.get(n).spec.config.clientID,get origins(){return this._origins||(this._origins=r.unconfirmed.map((function(e){return e.origin})))}});var n,r;return t?{steps:t}:null}updateSchema(e){const t=_v(e);this.run(av(this.ws_url+\"/schema/\",t,\"text/plain\")).then(t=>{console.log(\"collab server's schema updated\"),this.schema=e,this.start()},e=>{this.report.failure(\"error\")})}recover(e){const t=this.backOff?Math.min(2*this.backOff,6e4):200;t>1e3&&this.backOff<1e3&&this.report.delay(\"error\"),this.backOff=t,setTimeout(()=>{\"recover\"==this.state.comm&&this.dispatch({type:\"poll\"})},this.backOff)}closeRequest(){this.request&&(this.request.abort(),this.request=null)}run(e){return this.request=e}close(){this.closeRequest(),this.setView(null)}setView(e){this.view&&this.view.destroy(),this.view=window.view=e}recursive_enquote(e){for(var t in e)\"string\"==typeof e[t]&&(e[t]=e[t].replace('\"',\"^@$!^%*@^#%#*@^!!\")),\"object\"==typeof e[t]&&recursive(e[t])}recursive_unquote(e){for(var t in e)\"string\"==typeof e[t]&&(e[t]=e[t].replace(\"^@$!^%*@^#%#*@^!!\",'\"')),\"object\"==typeof e[t]&&recursive(e[t])}};var Ov=class{constructor(){this.setAt=0}clearState(){this.state&&(this.state=this.node=null,this.setAt=0)}failure(e){console.error(\"fail\",e.toString())}delay(e){\"fail\"!=this.state&&console.info(\"delay\",e.toString())}show(e,t){this.clearState(),this.state=e,this.setAt=Date.now()}success(){\"fail\"==this.state&&this.setAt>Date.now()-1e4?setTimeout(()=>this.success(),5e3):this.clearState()}};var xv=class extends cv{constructor(e,t,n){super(e,t),p()(this,\"_clientID\",void 0),p()(this,\"_connected\",void 0),p()(this,\"_connection\",void 0),p()(this,\"_docID\",void 0),p()(this,\"_stepKeys\",void 0),p()(this,\"_selection\",void 0),p()(this,\"onEdit\",e=>{this._connection.ready&&u.a.unstable_batchedUpdates(()=>{this._connection.dispatch({type:\"transaction\",transaction:e})})}),p()(this,\"updateSchema\",e=>{this._connection.ws_start()});const{ws_url:r,session_hash:o,user_id:i,docID:s}=n;this._connection=new Sv(t,new Ov,r,o,i,s),this._connection.view={updateState:e=>{t({editorState:e},()=>{})}}}};function kv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kv(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class Av extends a.PureComponent{constructor(){super(...arguments),p()(this,\"_unmounted\",!1),p()(this,\"state\",Cv(Cv({},this.props.initialValue||{}),{},{validValue:null})),p()(this,\"_cancel\",()=>{this.props.close()})}componentWillUnmount(){this._unmounted=!0}render(){return a.createElement(\"div\",{className:\"alert\"},a.createElement(\"span\",{class:\"closebtn\",onClick:this._cancel},\"\"),a.createElement(\"strong\",null,\"Document Error!\"),\" Unable to load the document.\",a.createElement(\"span\",null,\" Have issues in Json format, please verify...\"))}}p()(Av,\"propsTypes\",{initialValue:Se.a.object,close:function(e,t){var n=e[t];if(!n.prototype||\"function\"!=typeof n.prototype.constructor&&1!==n.prototype.constructor.length)return new Error(t+\"must be a function with 1 arg of type ImageLike\")}});var Tv=Av;n(449);class Pv extends a.Component{constructor(e,t){var n;super(e,t),n=this,p()(this,\"_runtime\",void 0),p()(this,\"_connector\",void 0),p()(this,\"_clientID\",void 0),p()(this,\"_editorView\",void 0),p()(this,\"_skipSCU\",void 0),p()(this,\"_popUp\",null),p()(this,\"setContent\",(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{doc:t,tr:r,schema:o}=n._connector.getState(),i=e?o.nodeFromJSON(e):o.nodeFromJSON(sy),s=We.TextSelection.create(t,0,t.content.size),a=r.setSelection(s).replaceSelectionWith(i,!1);n._skipSCU=!0,n._editorView.dispatch(a)})),p()(this,\"_onChange\",e=>{const{transaction:t}=e;let n=!1;if(this._connector.onEdit(t),t.docChanged){const e=t.doc.toJSON();e.content&&1===e.content.length&&e.content[0].content&&\"\"===e.content[0].content[0].text.trim()&&(n=!0),this.state.onChangeCB(e,n)}}),p()(this,\"_onReady\",e=>{const{state:t,dispatch:n}=e;this._editorView=e;const r=t.tr,o=t.doc;n(r.setSelection(We.TextSelection.create(o,0,o.content.size))),e.focus(),this.state.onReadyCB&&this.state.onReadyCB(this),this.state.debug&&(window.debugProseMirror=()=>{ro(e)},window.debugProseMirror())}),p()(this,\"setProps\",e=>{if(this.state.readOnly){let t={};this._skipSCU=!0,Object.assign(t,e),t.readOnly=!1,delete t.data,this.setState(t)}this._skipSCU=!1,this.setState(e)});const r=e.ws_url,o=e.docID||0,i=e.user_id,s=e.session_hash,a=0<o,c=e.debug||!1,l=e.width||void 0,u=e.height||void 0,d=\"function\"==typeof e.onChange?e.onChange:_,f=\"function\"==typeof e.onReady?e.onReady:_,h=e.readOnly||!1,m=e.data||null,g=e.disabled||!1,y=e.embedded||!1,b=e.runtime?e.runtime:null,v=e.plugins||null;this._editorView=null,this._skipSCU=!0;const _=function(){};let w=cy(m,null,v);null===w&&(w=cy(sy,null,v),this.showAlert());const E=this.setState.bind(this);this._connector=a?new xv(w,E,{ws_url:r,session_hash:s,user_id:i,docID:o}):new cv(w,E),this.state={docID:o,data:m,editorState:w,width:l,height:u,readOnly:h,onChangeCB:d,onReadyCB:f,debug:c,disabled:g,embedded:y,runtime:b},this._connector.updateSchema&&this._connector.updateSchema(this.state.editorState.schema)}showAlert(){this._popUp=Sl(Tv,null,{anchor:null,position:ul,onClose:e=>{this._popUp&&(this._popUp=null)}})}shouldComponentUpdate(e,t){if(!this._skipSCU){this._skipSCU=!1;let e=!1;if((this.state.data!==t.data||null===t.data&&this.state.editorState.doc.textContent&&0<this.state.editorState.doc.textContent.trim().length)&&(e=!0),e&&this.setContent(t.data),this.state.docID!==t.docID){const e=0!=t.docID,n=this._connector.getState(),r=this.setState.bind(this),o=t.docID||1;this._connector=e?new xv(n,r,{ws_url:ws_url,session_hash:session_hash,user_id:user_id,docID:o}):new cv(n,r)}}return!0}render(){const{editorState:e,width:t,height:n,readOnly:r,disabled:o,embedded:i,runtime:s}=this.state;return a.createElement(iv,{editorState:e,embedded:i,height:n,onChange:this._onChange,onReady:this._onReady,readOnly:r,runtime:s,width:t,disabled:o})}}var Mv=Pv;var Rv=class{canProxyImageSrc(){return!1}getProxyImageSrc(e){return-1===e.indexOf(\"?\")?e+\"?proxied=1\":e+\"&proxied=1\"}canUploadImage(){return!0}uploadImage(e){var t;return new Promise((n,r)=>{av(window.location.protocol+\"//\"+window.location.hostname+\":3004/saveimage?fn=\"+e.name,e,\"application/octet-stream\").then(e=>{t=JSON.parse(e),n(t)},e=>{n(t={id:\"\",width:0,height:0,src:\"\"})})})}};function Dv(e){}function Iv(e){}window.onload=function(){let e=null;if(window.lang)e=document.getElementById(\"doc_editor\");else{e=document.createElement(\"div\"),e.id=\"licit-app\",e.style.setProperty(\"width\",\"100vw\"),e.style.setProperty(\"height\",\"100vh\");const{body:t}=document;t&&t.appendChild(e)}new Rv;const t=window.ws_url?window.ws_url:\"ws://192.168.1.2:8800\",n=window.doc_id?window.doc_id:2029,r=window.session_hash?window.session_hash:\"NWY3YjBkOTg0MDI2YQ==\",o=!!window.read_only&&window.read_only,i=window.user_id?window.user_id:5;u.a.render(a.createElement(Mv,{ws_url:t,session_hash:r,docID:n,debug:!1,user_id:i,width:\"100vw\",height:\"100vh\",onChange:Dv,onReady:Iv,data:{type:\"doc\",attrs:{layout:null,padding:null,width:null},content:[{type:\"paragraph\",attrs:{align:null,color:null,id:null,indent:null,lineSpacing:null,paddingBottom:null,paddingTop:null,objectId:null},content:[{type:\"text\",text:\" \"}]}]},embedded:!1,readOnly:o,runtime:null,plugins:null}),e)}}});","extractedComments":["/*! (c) 2020 Andrea Giammarchi */"]}