{"code":"webpackHotUpdate(0,{450:function(e,t,n){\"use strict\";n.r(t);var r={};n.r(r),n.d(r,\"MARK_CODE\",(function(){return Ao})),n.d(r,\"MARK_EM\",(function(){return To})),n.d(r,\"MARK_FONT_SIZE\",(function(){return Po})),n.d(r,\"MARK_FONT_TYPE\",(function(){return Mo})),n.d(r,\"MARK_LINK\",(function(){return Ro})),n.d(r,\"MARK_NO_BREAK\",(function(){return Do})),n.d(r,\"MARK_STRIKE\",(function(){return Io})),n.d(r,\"MARK_STRONG\",(function(){return No})),n.d(r,\"MARK_SUPER\",(function(){return jo})),n.d(r,\"MARK_SUB\",(function(){return Lo})),n.d(r,\"MARK_TEXT_COLOR\",(function(){return zo})),n.d(r,\"MARK_TEXT_HIGHLIGHT\",(function(){return Bo})),n.d(r,\"MARK_TEXT_SELECTION\",(function(){return Uo})),n.d(r,\"MARK_UNDERLINE\",(function(){return Ho})),n.d(r,\"MARK_SPACER\",(function(){return Fo})),n.d(r,\"MARK_CUSTOMSTYLES\",(function(){return Vo}));var o={};n.r(o),n.d(o,\"BLOCKQUOTE\",(function(){return qo})),n.d(o,\"BOOKMARK\",(function(){return Ko})),n.d(o,\"BULLET_LIST\",(function(){return Go})),n.d(o,\"CODE_BLOCK\",(function(){return $o})),n.d(o,\"DOC\",(function(){return Wo})),n.d(o,\"HARD_BREAK\",(function(){return Yo})),n.d(o,\"HEADING\",(function(){return Xo})),n.d(o,\"HORIZONTAL_RULE\",(function(){return Jo})),n.d(o,\"IMAGE\",(function(){return Zo})),n.d(o,\"LINK\",(function(){return Qo})),n.d(o,\"LIST_ITEM\",(function(){return ei})),n.d(o,\"MATH\",(function(){return ti})),n.d(o,\"ORDERED_LIST\",(function(){return ni})),n.d(o,\"PARAGRAPH\",(function(){return ri})),n.d(o,\"TABLE\",(function(){return oi})),n.d(o,\"TABLE_CELL\",(function(){return ii})),n.d(o,\"TABLE_HEADER\",(function(){return si})),n.d(o,\"TABLE_ROW\",(function(){return ai})),n.d(o,\"TEXT\",(function(){return ci})),n.d(o,\"UNDERLINE\",(function(){return li}));var i={};n.r(i),n.d(i,\"CLEAR_FORMAT\",(function(){return Up})),n.d(i,\"DOC_LAYOUT\",(function(){return Hp})),n.d(i,\"EM\",(function(){return Fp})),n.d(i,\"H1\",(function(){return Vp})),n.d(i,\"H2\",(function(){return qp})),n.d(i,\"H3\",(function(){return Kp})),n.d(i,\"H4\",(function(){return Gp})),n.d(i,\"H5\",(function(){return $p})),n.d(i,\"H6\",(function(){return Wp})),n.d(i,\"HISTORY_REDO\",(function(){return Yp})),n.d(i,\"HISTORY_UNDO\",(function(){return Xp})),n.d(i,\"HR\",(function(){return Jp})),n.d(i,\"IMAGE_FROM_URL\",(function(){return Zp})),n.d(i,\"IMAGE_UPLOAD\",(function(){return Qp})),n.d(i,\"INDENT_LESS\",(function(){return ef})),n.d(i,\"INDENT_MORE\",(function(){return tf})),n.d(i,\"LINK_SET_URL\",(function(){return nf})),n.d(i,\"LIST_ITEM_INSERT_NEW_LINE\",(function(){return rf})),n.d(i,\"LIST_ITEM_MERGE_DOWN\",(function(){return of})),n.d(i,\"LIST_ITEM_MERGE_UP\",(function(){return sf})),n.d(i,\"LIST_SPLIT\",(function(){return af})),n.d(i,\"MATH_EDIT\",(function(){return cf})),n.d(i,\"OL\",(function(){return lf})),n.d(i,\"PRINT\",(function(){return uf})),n.d(i,\"STRIKE\",(function(){return df})),n.d(i,\"STRONG\",(function(){return pf})),n.d(i,\"SUPER\",(function(){return ff})),n.d(i,\"SUB\",(function(){return hf})),n.d(i,\"TABLE_ADD_COLUMN_AFTER\",(function(){return mf})),n.d(i,\"TABLE_ADD_COLUMN_BEFORE\",(function(){return gf})),n.d(i,\"TABLE_ADD_ROW_AFTER\",(function(){return yf})),n.d(i,\"TABLE_ADD_ROW_BEFORE\",(function(){return bf})),n.d(i,\"TABLE_BACKGROUND_COLOR\",(function(){return vf})),n.d(i,\"TABLE_BORDER_COLOR\",(function(){return _f})),n.d(i,\"TABLE_DELETE_COLUMN\",(function(){return wf})),n.d(i,\"TABLE_DELETE_ROW\",(function(){return Ef})),n.d(i,\"TABLE_DELETE_TABLE\",(function(){return Sf})),n.d(i,\"TABLE_INSERT_TABLE\",(function(){return Of})),n.d(i,\"TABLE_MERGE_CELLS\",(function(){return xf})),n.d(i,\"TABLE_MOVE_TO_NEXT_CELL\",(function(){return kf})),n.d(i,\"TABLE_MOVE_TO_PREV_CELL\",(function(){return Cf})),n.d(i,\"TABLE_SPLIT_ROW\",(function(){return Af})),n.d(i,\"TABLE_TOGGLE_HEADER_CELL\",(function(){return Tf})),n.d(i,\"TABLE_TOGGLE_HEADER_COLUMN\",(function(){return Pf})),n.d(i,\"TABLE_TOGGLE_HEADER_ROW\",(function(){return Mf})),n.d(i,\"TEXT_ALIGN_CENTER\",(function(){return Rf})),n.d(i,\"TEXT_ALIGN_JUSTIFY\",(function(){return Df})),n.d(i,\"TEXT_ALIGN_LEFT\",(function(){return If})),n.d(i,\"TEXT_ALIGN_RIGHT\",(function(){return Nf})),n.d(i,\"TEXT_COLOR\",(function(){return jf})),n.d(i,\"TEXT_HIGHLIGHT\",(function(){return Lf})),n.d(i,\"TEXT_INSERT_TAB_SPACE\",(function(){return zf})),n.d(i,\"TEXT_LINE_SPACINGS\",(function(){return Bf})),n.d(i,\"UL\",(function(){return Uf})),n.d(i,\"UNDERLINE\",(function(){return Hf}));var s={};n.r(s),n.d(s,\"tooltip\",(function(){return Xm})),n.d(s,\"findKeymapByDescription\",(function(){return Jm})),n.d(s,\"findShortcutByDescription\",(function(){return Zm})),n.d(s,\"findShortcutByKeymap\",(function(){return Qm})),n.d(s,\"makeKeyMap\",(function(){return eg})),n.d(s,\"makeKeyMapWithCommon\",(function(){return tg})),n.d(s,\"KEY_BACK_DELETE\",(function(){return ng})),n.d(s,\"KEY_FORWARD_DELETE\",(function(){return rg})),n.d(s,\"KEY_INSERT_HORIZONTAL_RULE\",(function(){return og})),n.d(s,\"KEY_INSERT_NEW_LINE\",(function(){return ig})),n.d(s,\"KEY_INSERT_NEW_LINE_IN_LIST_ITEM\",(function(){return sg})),n.d(s,\"KEY_REDO\",(function(){return ag})),n.d(s,\"KEY_SET_NORMAL_TEXT\",(function(){return cg})),n.d(s,\"KEY_SHIFT_BACKSPACE\",(function(){return lg})),n.d(s,\"KEY_SPLIT_CODEBLOCK\",(function(){return ug})),n.d(s,\"KEY_SPLIT_LIST_ITEM\",(function(){return dg})),n.d(s,\"KEY_TAB\",(function(){return pg})),n.d(s,\"KEY_TAB_SHIFT\",(function(){return fg})),n.d(s,\"KEY_TOGGLE_BLOCK_QUOTE\",(function(){return hg})),n.d(s,\"KEY_TOGGLE_BOLD\",(function(){return mg})),n.d(s,\"KEY_TOGGLE_BULLET_LIST\",(function(){return gg})),n.d(s,\"KEY_TOGGLE_CODE_BLOCK\",(function(){return yg})),n.d(s,\"KEY_TOGGLE_HEADING_1\",(function(){return bg})),n.d(s,\"KEY_TOGGLE_HEADING_2\",(function(){return vg})),n.d(s,\"KEY_TOGGLE_HEADING_3\",(function(){return _g})),n.d(s,\"KEY_TOGGLE_HEADING_4\",(function(){return wg})),n.d(s,\"KEY_TOGGLE_HEADING_5\",(function(){return Eg})),n.d(s,\"KEY_TOGGLE_HEADING_6\",(function(){return Sg})),n.d(s,\"KEY_TOGGLE_ITALIC\",(function(){return Og})),n.d(s,\"KEY_TOGGLE_MONOSPACE\",(function(){return xg})),n.d(s,\"KEY_TOGGLE_ORDERED_LIST\",(function(){return kg})),n.d(s,\"KEY_TOGGLE_STRIKETHROUGH\",(function(){return Cg})),n.d(s,\"KEY_TOGGLE_UNDERLINE\",(function(){return Ag})),n.d(s,\"KEY_UNDO\",(function(){return Tg})),n.d(s,\"ALL_KEYS\",(function(){return Pg}));var c=n(0),l=n.n(c),u=n(13),d=n.n(u),p=n(1),f=n.n(p),h=n(146),m=n.n(h),g=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};function y(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function b(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}var v=m()(null),_=function(){function e(){var t=this;b(this,e),this._listeners=[],O.forEach((function(e){return e(t)}))}return e.prototype.setState=function(e,t){var n=this;return Promise.resolve().then((function(){var r=void 0;if(null!=(r=\"function\"==typeof e?e(n.state):e)){n.state=Object.assign({},n.state,r);var o=n._listeners.map((function(e){return e()}));return Promise.all(o).then((function(){if(t)return t()}))}t&&t()}))},e.prototype.subscribe=function(e){this._listeners.push(e)},e.prototype.unsubscribe=function(e){this._listeners=this._listeners.filter((function(t){return t!==e}))},e}(),w={},E=function(e){function t(){var n,r;b(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=y(this,e.call.apply(e,[this].concat(i))),r.state={},r.instances=[],r.unmounted=!1,r.onUpdate=function(){return new Promise((function(e){r.unmounted?e():r.setState(w,e)}))},y(r,n)}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillUnmount=function(){this.unmounted=!0,this._unsubscribe()},t.prototype._unsubscribe=function(){var e=this;this.instances.forEach((function(t){t.unsubscribe(e.onUpdate)}))},t.prototype._createInstances=function(e,t){var n=this;if(this._unsubscribe(),null===e)throw new Error(\"You must wrap your <Subscribe> components with a <Provider>\");var r=e,o=t.map((function(e){var t=void 0;return\"object\"===(void 0===e?\"undefined\":g(e))&&e instanceof _?t=e:(t=r.get(e))||(t=new e,r.set(e,t)),t.unsubscribe(n.onUpdate),t.subscribe(n.onUpdate),t}));return this.instances=o,o},t.prototype.render=function(){var e=this;return l.a.createElement(v.Consumer,null,(function(t){return e.props.children.apply(null,e._createInstances(t,e.props.to))}))},t}(l.a.Component);function S(e){return l.a.createElement(v.Consumer,null,(function(t){var n=new Map(t);return e.inject&&e.inject.forEach((function(e){n.set(e.constructor,e)})),l.a.createElement(v.Provider,{value:n},e.children)}))}var O=[];function x(e){return(x=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function k(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=M(e);if(t){var o=M(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T(this,n)}}function T(e,t){return!t||\"object\"!==x(t)&&\"function\"!=typeof t?P(e):t}function P(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(n,e);var t=A(n);function n(){var e;k(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return R(P(e=t.call.apply(t,[this].concat(o))),\"state\",{opened:!1,tabIndex:\"state\",defaultSize:.5}),R(P(e),\"toggleDevTools\",(function(){var t=e.state,n=t.opened,r=t.defaultSize;if(n)document.querySelector(\"html\").style.marginBottom=\"\";else{var o=r*window.innerHeight;document.querySelector(\"html\").style.marginBottom=\"\".concat(o,\"px\")}e.setState({opened:!n})})),R(P(e),\"selectTab\",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e.setState({tabIndex:t})})),R(P(e),\"updateBodyMargin\",(function(e){var t=e*window.innerHeight;document.querySelector(\"html\").style.marginBottom=\"\".concat(t,\"px\")})),e}return n}(_);var I=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},N=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,j=I((function(e){return N.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),L=n(147),z=n.n(L);var B=function(){function e(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)==0){var t,n=function(e){var t=document.createElement(\"style\");return t.setAttribute(\"data-emotion\",e.key),void 0!==e.nonce&&t.setAttribute(\"nonce\",e.nonce),t.appendChild(document.createTextNode(\"\")),t}(this);t=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(n,t),this.tags.push(n)}var r=this.tags[this.tags.length-1];if(this.isSpeedy){var o=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(r);try{var i=105===e.charCodeAt(1)&&64===e.charCodeAt(0);o.insertRule(e,i?0:o.cssRules.length)}catch(e){0}}else r.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}();var U=function(e){function t(e,t,r){var o=t.trim().split(h);t=o;var i=o.length,s=e.length;switch(s){case 0:case 1:var a=0;for(e=0===s?\"\":e[0]+\" \";a<i;++a)t[a]=n(e,t[a],r).trim();break;default:var c=a=0;for(t=[];a<i;++a)for(var l=0;l<s;++l)t[c++]=n(e[l]+\" \",o[a],r).trim()}return t}function n(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,\"$1\"+e.trim());case 58:return e.trim()+t.replace(m,\"$1\"+e.trim());default:if(0<1*n&&0<t.indexOf(\"\\f\"))return t.replace(m,(58===e.charCodeAt(0)?\"\":\"$1\")+e.trim())}return e+t}function r(e,t,n,i){var s=e+\";\",a=2*t+3*n+4*i;if(944===a){e=s.indexOf(\":\",9)+1;var c=s.substring(e,s.length-1).trim();return c=s.substring(0,e).trim()+c+\";\",1===T||2===T&&o(c,1)?\"-webkit-\"+c+c:c}if(0===T||2===T&&!o(s,1))return s;switch(a){case 1015:return 97===s.charCodeAt(10)?\"-webkit-\"+s+s:s;case 951:return 116===s.charCodeAt(3)?\"-webkit-\"+s+s:s;case 963:return 110===s.charCodeAt(5)?\"-webkit-\"+s+s:s;case 1009:if(100!==s.charCodeAt(4))break;case 969:case 942:return\"-webkit-\"+s+s;case 978:return\"-webkit-\"+s+\"-moz-\"+s+s;case 1019:case 983:return\"-webkit-\"+s+\"-moz-\"+s+\"-ms-\"+s+s;case 883:if(45===s.charCodeAt(8))return\"-webkit-\"+s+s;if(0<s.indexOf(\"image-set(\",11))return s.replace(x,\"$1-webkit-$2\")+s;break;case 932:if(45===s.charCodeAt(4))switch(s.charCodeAt(5)){case 103:return\"-webkit-box-\"+s.replace(\"-grow\",\"\")+\"-webkit-\"+s+\"-ms-\"+s.replace(\"grow\",\"positive\")+s;case 115:return\"-webkit-\"+s+\"-ms-\"+s.replace(\"shrink\",\"negative\")+s;case 98:return\"-webkit-\"+s+\"-ms-\"+s.replace(\"basis\",\"preferred-size\")+s}return\"-webkit-\"+s+\"-ms-\"+s+s;case 964:return\"-webkit-\"+s+\"-ms-flex-\"+s+s;case 1023:if(99!==s.charCodeAt(8))break;return\"-webkit-box-pack\"+(c=s.substring(s.indexOf(\":\",15)).replace(\"flex-\",\"\").replace(\"space-between\",\"justify\"))+\"-webkit-\"+s+\"-ms-flex-pack\"+c+s;case 1005:return p.test(s)?s.replace(d,\":-webkit-\")+s.replace(d,\":-moz-\")+s:s;case 1e3:switch(t=(c=s.substring(13).trim()).indexOf(\"-\")+1,c.charCodeAt(0)+c.charCodeAt(t)){case 226:c=s.replace(v,\"tb\");break;case 232:c=s.replace(v,\"tb-rl\");break;case 220:c=s.replace(v,\"lr\");break;default:return s}return\"-webkit-\"+s+\"-ms-\"+c+s;case 1017:if(-1===s.indexOf(\"sticky\",9))break;case 975:switch(t=(s=e).length-10,a=(c=(33===s.charCodeAt(t)?s.substring(0,t):s).substring(e.indexOf(\":\",7)+1).trim()).charCodeAt(0)+(0|c.charCodeAt(7))){case 203:if(111>c.charCodeAt(8))break;case 115:s=s.replace(c,\"-webkit-\"+c)+\";\"+s;break;case 207:case 102:s=s.replace(c,\"-webkit-\"+(102<a?\"inline-\":\"\")+\"box\")+\";\"+s.replace(c,\"-webkit-\"+c)+\";\"+s.replace(c,\"-ms-\"+c+\"box\")+\";\"+s}return s+\";\";case 938:if(45===s.charCodeAt(5))switch(s.charCodeAt(6)){case 105:return c=s.replace(\"-items\",\"\"),\"-webkit-\"+s+\"-webkit-box-\"+c+\"-ms-flex-\"+c+s;case 115:return\"-webkit-\"+s+\"-ms-flex-item-\"+s.replace(E,\"\")+s;default:return\"-webkit-\"+s+\"-ms-flex-line-pack\"+s.replace(\"align-content\",\"\").replace(E,\"\")+s}break;case 973:case 989:if(45!==s.charCodeAt(3)||122===s.charCodeAt(4))break;case 931:case 953:if(!0===O.test(e))return 115===(c=e.substring(e.indexOf(\":\")+1)).charCodeAt(0)?r(e.replace(\"stretch\",\"fill-available\"),t,n,i).replace(\":fill-available\",\":stretch\"):s.replace(c,\"-webkit-\"+c)+s.replace(c,\"-moz-\"+c.replace(\"fill-\",\"\"))+s;break;case 962:if(s=\"-webkit-\"+s+(102===s.charCodeAt(5)?\"-ms-\"+s:\"\")+s,211===n+i&&105===s.charCodeAt(13)&&0<s.indexOf(\"transform\",10))return s.substring(0,s.indexOf(\";\",27)+1).replace(f,\"$1-webkit-$2\")+s}return s}function o(e,t){var n=e.indexOf(1===t?\":\":\"{\"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),D(2!==t?r:r.replace(S,\"$1\"),n,t)}function i(e,t){var n=r(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+\";\"?n.replace(w,\" or ($1)\").substring(4):\"(\"+t+\")\"}function s(e,t,n,r,o,i,s,a,l,u){for(var d,p=0,f=t;p<R;++p)switch(d=M[p].call(c,e,f,n,r,o,i,s,a,l,u)){case void 0:case!1:case!0:case null:break;default:f=d}if(f!==t)return f}function a(e){return void 0!==(e=e.prefix)&&(D=null,e?\"function\"!=typeof e?T=1:(T=2,D=e):T=0),a}function c(e,n){var a=e;if(33>a.charCodeAt(0)&&(a=a.trim()),a=[a],0<R){var c=s(-1,n,a,a,C,k,0,0,0,0);void 0!==c&&\"string\"==typeof c&&(n=c)}var d=function e(n,a,c,d,p){for(var f,h,m,v,w,E=0,S=0,O=0,x=0,M=0,D=0,N=m=f=0,j=0,L=0,z=0,B=0,U=c.length,H=U-1,F=\"\",V=\"\",q=\"\",K=\"\";j<U;){if(h=c.charCodeAt(j),j===H&&0!==S+x+O+E&&(0!==S&&(h=47===S?10:47),x=O=E=0,U++,H++),0===S+x+O+E){if(j===H&&(0<L&&(F=F.replace(u,\"\")),0<F.trim().length)){switch(h){case 32:case 9:case 59:case 13:case 10:break;default:F+=c.charAt(j)}h=59}switch(h){case 123:for(f=(F=F.trim()).charCodeAt(0),m=1,B=++j;j<U;){switch(h=c.charCodeAt(j)){case 123:m++;break;case 125:m--;break;case 47:switch(h=c.charCodeAt(j+1)){case 42:case 47:e:{for(N=j+1;N<H;++N)switch(c.charCodeAt(N)){case 47:if(42===h&&42===c.charCodeAt(N-1)&&j+2!==N){j=N+1;break e}break;case 10:if(47===h){j=N+1;break e}}j=N}}break;case 91:h++;case 40:h++;case 34:case 39:for(;j++<H&&c.charCodeAt(j)!==h;);}if(0===m)break;j++}switch(m=c.substring(B,j),0===f&&(f=(F=F.replace(l,\"\").trim()).charCodeAt(0)),f){case 64:switch(0<L&&(F=F.replace(u,\"\")),h=F.charCodeAt(1)){case 100:case 109:case 115:case 45:L=a;break;default:L=P}if(B=(m=e(a,L,m,h,p+1)).length,0<R&&(w=s(3,m,L=t(P,F,z),a,C,k,B,h,p,d),F=L.join(\"\"),void 0!==w&&0===(B=(m=w.trim()).length)&&(h=0,m=\"\")),0<B)switch(h){case 115:F=F.replace(_,i);case 100:case 109:case 45:m=F+\"{\"+m+\"}\";break;case 107:m=(F=F.replace(g,\"$1 $2\"))+\"{\"+m+\"}\",m=1===T||2===T&&o(\"@\"+m,3)?\"@-webkit-\"+m+\"@\"+m:\"@\"+m;break;default:m=F+m,112===d&&(V+=m,m=\"\")}else m=\"\";break;default:m=e(a,t(a,F,z),m,d,p+1)}q+=m,m=z=L=N=f=0,F=\"\",h=c.charCodeAt(++j);break;case 125:case 59:if(1<(B=(F=(0<L?F.replace(u,\"\"):F).trim()).length))switch(0===N&&(f=F.charCodeAt(0),45===f||96<f&&123>f)&&(B=(F=F.replace(\" \",\":\")).length),0<R&&void 0!==(w=s(1,F,a,n,C,k,V.length,d,p,d))&&0===(B=(F=w.trim()).length)&&(F=\"\\0\\0\"),f=F.charCodeAt(0),h=F.charCodeAt(1),f){case 0:break;case 64:if(105===h||99===h){K+=F+c.charAt(j);break}default:58!==F.charCodeAt(B-1)&&(V+=r(F,f,h,F.charCodeAt(2)))}z=L=N=f=0,F=\"\",h=c.charCodeAt(++j)}}switch(h){case 13:case 10:47===S?S=0:0===1+f&&107!==d&&0<F.length&&(L=1,F+=\"\\0\"),0<R*I&&s(0,F,a,n,C,k,V.length,d,p,d),k=1,C++;break;case 59:case 125:if(0===S+x+O+E){k++;break}default:switch(k++,v=c.charAt(j),h){case 9:case 32:if(0===x+E+S)switch(M){case 44:case 58:case 9:case 32:v=\"\";break;default:32!==h&&(v=\" \")}break;case 0:v=\"\\\\0\";break;case 12:v=\"\\\\f\";break;case 11:v=\"\\\\v\";break;case 38:0===x+S+E&&(L=z=1,v=\"\\f\"+v);break;case 108:if(0===x+S+E+A&&0<N)switch(j-N){case 2:112===M&&58===c.charCodeAt(j-3)&&(A=M);case 8:111===D&&(A=D)}break;case 58:0===x+S+E&&(N=j);break;case 44:0===S+O+x+E&&(L=1,v+=\"\\r\");break;case 34:case 39:0===S&&(x=x===h?0:0===x?h:x);break;case 91:0===x+S+O&&E++;break;case 93:0===x+S+O&&E--;break;case 41:0===x+S+E&&O--;break;case 40:if(0===x+S+E){if(0===f)switch(2*M+3*D){case 533:break;default:f=1}O++}break;case 64:0===S+O+x+E+N+m&&(m=1);break;case 42:case 47:if(!(0<x+E+O))switch(S){case 0:switch(2*h+3*c.charCodeAt(j+1)){case 235:S=47;break;case 220:B=j,S=42}break;case 42:47===h&&42===M&&B+2!==j&&(33===c.charCodeAt(B+2)&&(V+=c.substring(B,j+1)),v=\"\",S=0)}}0===S&&(F+=v)}D=M,M=h,j++}if(0<(B=V.length)){if(L=a,0<R&&(void 0!==(w=s(2,V,L,n,C,k,B,d,p,d))&&0===(V=w).length))return K+V+q;if(V=L.join(\",\")+\"{\"+V+\"}\",0!=T*A){switch(2!==T||o(V,2)||(A=0),A){case 111:V=V.replace(b,\":-moz-$1\")+V;break;case 112:V=V.replace(y,\"::-webkit-input-$1\")+V.replace(y,\"::-moz-$1\")+V.replace(y,\":-ms-input-$1\")+V}A=0}}return K+V+q}(P,a,n,0,0);return 0<R&&(void 0!==(c=s(-2,d,a,a,C,k,d.length,0,0,0))&&(d=c)),\"\",A=0,k=C=1,d}var l=/^\\0+/g,u=/[\\0\\r\\f]/g,d=/: */g,p=/zoo|gra/,f=/([,: ])(transform)/g,h=/,\\r+?/g,m=/([\\t\\r\\n ])*\\f?&/g,g=/@(k\\w+)\\s*(\\S*)\\s*/,y=/::(place)/g,b=/:(read-only)/g,v=/[svh]\\w+-[tblr]{2}/,_=/\\(\\s*(.*)\\s*\\)/g,w=/([\\s\\S]*?);/g,E=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\\w-]+)[^]*/,O=/stretch|:\\s*\\w+\\-(?:conte|avail)/,x=/([^-])(image-set\\()/,k=1,C=1,A=0,T=1,P=[],M=[],R=0,D=null,I=0;return c.use=function e(t){switch(t){case void 0:case null:R=M.length=0;break;default:if(\"function\"==typeof t)M[R++]=t;else if(\"object\"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else I=0|!!t}return e},c.set=a,void 0!==e&&a(e),c};function H(e){e&&F.current.insert(e+\"}\")}var F={current:null},V=function(e,t,n,r,o,i,s,a,c,l){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return F.current.insert(t+\";\"),\"\";case 108:if(98===t.charCodeAt(2))return\"\"}break;case 2:if(0===a)return t+\"/*|*/\";break;case 3:switch(a){case 102:case 112:return F.current.insert(n[0]+t),\"\";default:return t+(0===l?\"/*|*/\":\"\")}case-2:t.split(\"/*|*/}\").forEach(H)}},q=function(e){void 0===e&&(e={});var t,n=e.key||\"css\";void 0!==e.prefix&&(t={prefix:e.prefix});var r=new U(t);var o,i={};o=e.container||document.head;var s,a=document.querySelectorAll(\"style[data-emotion-\"+n+\"]\");Array.prototype.forEach.call(a,(function(e){e.getAttribute(\"data-emotion-\"+n).split(\" \").forEach((function(e){i[e]=!0})),e.parentNode!==o&&o.appendChild(e)})),r.use(e.stylisPlugins)(V),s=function(e,t,n,o){var i=t.name;F.current=n,r(e,t.styles),o&&(c.inserted[i]=!0)};var c={key:n,sheet:new B({key:n,container:o,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:i,registered:{},insert:s};return c};function K(e,t,n){var r=\"\";return n.split(\" \").forEach((function(n){void 0!==e[n]?t.push(e[n]):r+=n+\" \"})),r}var G=function(e,t,n){var r=e.key+\"-\"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var o=t;do{e.insert(\".\"+r,o,e.sheet,!0);o=o.next}while(void 0!==o)}};var $=function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},W={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Y=/[A-Z]|^ms/g,X=/_EMO_([^_]+?)_([^]*?)_EMO_/g,J=function(e){return 45===e.charCodeAt(1)},Z=function(e){return null!=e&&\"boolean\"!=typeof e},Q=I((function(e){return J(e)?e:e.replace(Y,\"-$&\").toLowerCase()})),ee=function(e,t){switch(e){case\"animation\":case\"animationName\":if(\"string\"==typeof t)return t.replace(X,(function(e,t,n){return ne={name:t,styles:n,next:ne},t}))}return 1===W[e]||J(e)||\"number\"!=typeof t||0===t?t:t+\"px\"};function te(e,t,n,r){if(null==n)return\"\";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case\"boolean\":return\"\";case\"object\":if(1===n.anim)return ne={name:n.name,styles:n.styles,next:ne},n.name;if(void 0!==n.styles){var o=n.next;if(void 0!==o)for(;void 0!==o;)ne={name:o.name,styles:o.styles,next:ne},o=o.next;return n.styles+\";\"}return function(e,t,n){var r=\"\";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=te(e,t,n[o],!1);else for(var i in n){var s=n[i];if(\"object\"!=typeof s)null!=t&&void 0!==t[s]?r+=i+\"{\"+t[s]+\"}\":Z(s)&&(r+=Q(i)+\":\"+ee(i,s)+\";\");else if(!Array.isArray(s)||\"string\"!=typeof s[0]||null!=t&&void 0!==t[s[0]]){var a=te(e,t,s,!1);switch(i){case\"animation\":case\"animationName\":r+=Q(i)+\":\"+a+\";\";break;default:r+=i+\"{\"+a+\"}\"}}else for(var c=0;c<s.length;c++)Z(s[c])&&(r+=Q(i)+\":\"+ee(i,s[c])+\";\")}return r}(e,t,n);case\"function\":if(void 0!==e){var i=ne,s=n(e);return ne=i,te(e,t,s,r)}break;case\"string\":}if(null==t)return n;var a=t[n];return void 0===a||r?n:a}var ne,re=/label:\\s*([^\\s;\\n{]+)\\s*;/g;var oe=function(e,t,n){if(1===e.length&&\"object\"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,o=\"\";ne=void 0;var i=e[0];null==i||void 0===i.raw?(r=!1,o+=te(n,t,i,!1)):o+=i[0];for(var s=1;s<e.length;s++)o+=te(n,t,e[s],46===o.charCodeAt(o.length-1)),r&&(o+=i[s]);re.lastIndex=0;for(var a,c=\"\";null!==(a=re.exec(o));)c+=\"-\"+a[1];return{name:$(o)+c,styles:o,next:ne}};var ie=Object(c.createContext)(\"undefined\"!=typeof HTMLElement?q():null),se=Object(c.createContext)({}),ae=(ie.Provider,function(e){return Object(c.forwardRef)((function(t,n){return Object(c.createElement)(ie.Consumer,null,(function(r){return e(t,r,n)}))}))});Object.prototype.hasOwnProperty;c.Component;var ce=function e(t){for(var n=t.length,r=0,o=\"\";r<n;r++){var i=t[r];if(null!=i){var s=void 0;switch(typeof i){case\"boolean\":break;case\"object\":if(Array.isArray(i))s=e(i);else for(var a in s=\"\",i)i[a]&&a&&(s&&(s+=\" \"),s+=a);break;default:s=i}s&&(o&&(o+=\" \"),o+=s)}}return o};function le(e,t,n){var r=[],o=K(e,r,n);return r.length<2?n:o+t(r)}ae((function(e,t){return Object(c.createElement)(se.Consumer,null,(function(n){var r=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=oe(n,t.registered);return G(t,o,!1),t.key+\"-\"+o.name},o={css:r,cx:function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return le(t.registered,r,ce(n))},theme:n},i=e.children(o);return!0,i}))}));var ue=j,de=function(e){return\"theme\"!==e&&\"innerRef\"!==e},pe=function(e){return\"string\"==typeof e&&e.charCodeAt(0)>96?ue:de};function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(n,!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var me=function e(t,n){var r,o,i;void 0!==n&&(r=n.label,i=n.target,o=t.__emotion_forwardProp&&n.shouldForwardProp?function(e){return t.__emotion_forwardProp(e)&&n.shouldForwardProp(e)}:n.shouldForwardProp);var s=t.__emotion_real===t,a=s&&t.__emotion_base||t;\"function\"!=typeof o&&s&&(o=t.__emotion_forwardProp);var l=o||pe(a),u=!l(\"as\");return function(){var d=arguments,p=s&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&p.push(\"label:\"+r+\";\"),null==d[0]||void 0===d[0].raw)p.push.apply(p,d);else{0,p.push(d[0][0]);for(var f=d.length,h=1;h<f;h++)p.push(d[h],d[0][h])}var m=ae((function(e,t,n){return Object(c.createElement)(se.Consumer,null,(function(r){var s=u&&e.as||a,d=\"\",f=[],h=e;if(null==e.theme){for(var m in h={},e)h[m]=e[m];h.theme=r}\"string\"==typeof e.className?d=K(t.registered,f,e.className):null!=e.className&&(d=e.className+\" \");var g=oe(p.concat(f),t.registered,h);G(t,g,\"string\"==typeof s);d+=t.key+\"-\"+g.name,void 0!==i&&(d+=\" \"+i);var y=u&&void 0===o?pe(s):l,b={};for(var v in e)u&&\"as\"===v||y(v)&&(b[v]=e[v]);return b.className=d,b.ref=n||e.innerRef,Object(c.createElement)(s,b)}))}));return m.displayName=void 0!==r?r:\"Styled(\"+(\"string\"==typeof a?a:a.displayName||a.name||\"Component\")+\")\",m.defaultProps=t.defaultProps,m.__emotion_real=m,m.__emotion_base=a,m.__emotion_styles=p,m.__emotion_forwardProp=o,Object.defineProperty(m,\"toString\",{value:function(){return\".\"+i}}),m.withComponent=function(t,r){return e(t,void 0!==r?he({},n||{},{},r):n).apply(void 0,p)},m}}.bind();[\"a\",\"abbr\",\"address\",\"area\",\"article\",\"aside\",\"audio\",\"b\",\"base\",\"bdi\",\"bdo\",\"big\",\"blockquote\",\"body\",\"br\",\"button\",\"canvas\",\"caption\",\"cite\",\"code\",\"col\",\"colgroup\",\"data\",\"datalist\",\"dd\",\"del\",\"details\",\"dfn\",\"dialog\",\"div\",\"dl\",\"dt\",\"em\",\"embed\",\"fieldset\",\"figcaption\",\"figure\",\"footer\",\"form\",\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\",\"head\",\"header\",\"hgroup\",\"hr\",\"html\",\"i\",\"iframe\",\"img\",\"input\",\"ins\",\"kbd\",\"keygen\",\"label\",\"legend\",\"li\",\"link\",\"main\",\"map\",\"mark\",\"marquee\",\"menu\",\"menuitem\",\"meta\",\"meter\",\"nav\",\"noscript\",\"object\",\"ol\",\"optgroup\",\"option\",\"output\",\"p\",\"param\",\"picture\",\"pre\",\"progress\",\"q\",\"rp\",\"rt\",\"ruby\",\"s\",\"samp\",\"script\",\"section\",\"select\",\"small\",\"source\",\"span\",\"strong\",\"style\",\"sub\",\"summary\",\"sup\",\"table\",\"tbody\",\"td\",\"textarea\",\"tfoot\",\"th\",\"thead\",\"time\",\"title\",\"tr\",\"track\",\"u\",\"ul\",\"var\",\"video\",\"wbr\",\"circle\",\"clipPath\",\"defs\",\"ellipse\",\"foreignObject\",\"g\",\"image\",\"line\",\"linearGradient\",\"mask\",\"path\",\"pattern\",\"polygon\",\"polyline\",\"radialGradient\",\"rect\",\"stop\",\"svg\",\"text\",\"tspan\"].forEach((function(e){me[e]=me(e)}));var ge=me,ye={scheme:\"monokai\",base00:\"#363755\",base01:\"#604D49\",base02:\"#6D5A55\",base03:\"#D1929B\",base04:\"#B79F8D\",base05:\"#F9F8F2\",base06:\"#F7F4F1\",base07:\"#FAF8F5\",base08:\"#FA3E7E\",base09:\"#FD993C\",base0A:\"#F6BF81\",base0B:\"#B8E248\",base0C:\"#B4EFE4\",base0D:\"#85D9EF\",base0E:\"#BE87FF\",base0F:\"#D6724C\"},be={main:\"#ffa2b1\",main20:\"rgba(255, 162, 177, .2)\",main40:\"rgba(255, 162, 177, .4)\",main60:\"rgba(255, 162, 177, .6)\",main80:\"rgba(255, 162, 177, .8)\",main90:\"rgba(255, 162, 177, .9)\",mainBg:\"#363755\",softerMain:\"#BB91A3\",white:\"#fff\",white05:\"rgba(255, 255, 255, .05)\",white10:\"rgba(255, 255, 255, .1)\",white20:\"rgba(255, 255, 255, .2)\",white60:\"rgba(255, 255, 255, .6)\",white80:\"rgba(255, 255, 255, .8)\",black30:\"rgba(0, 0, 0, .3)\",lightYellow:\"#FFF9C4\",lightPink:\"#FB4B85\",darkGreen:\"#81AF6D\",syntax:ye},ve=ge(\"div\")({position:\"fixed\",bottom:\"16px\",right:\"16px\",background:be.mainBg,boxShadow:\"0 0 30px \".concat(be.black30),borderRadius:\"50%\",padding:\"4px 6px\",transition:\"opacity 0.3s\",zIndex:99999,\"&:hover\":{opacity:.7,cursor:\"pointer\"},\"& svg\":{width:\"34px\",height:\"34px\",position:\"relative\",bottom:\"-2px\"}});function _e(e){return l.a.createElement(ve,{onClick:e.onClick},l.a.createElement(\"svg\",{width:\"530\",height:\"530\",viewBox:\"0 0 530 530\",xmlns:\"http://www.w3.org/2000/svg\",xmlnsXlink:\"http://www.w3.org/1999/xlink\"},l.a.createElement(\"title\",null,\"prosemirror\"),l.a.createElement(\"desc\",null,\"Created using Figma\"),l.a.createElement(\"use\",{xlinkHref:\"#a\",transform:\"matrix(2 0 0 2 118 116)\",fill:\"#FFF\"}),l.a.createElement(\"use\",{xlinkHref:\"#b\",transform:\"rotate(16 59.054 420.192) scale(2)\",fill:\"#FFF\"}),l.a.createElement(\"use\",{xlinkHref:\"#c\",transform:\"matrix(2 0 0 2 154.024 141.58)\",fill:\"#363755\"}),l.a.createElement(\"use\",{xlinkHref:\"#d\",transform:\"matrix(2 0 0 2 220 334.8)\",fill:\"#FFF\"}),l.a.createElement(\"use\",{xlinkHref:\"#e\",transform:\"matrix(2 0 0 2 218.826 262.052)\",fill:\"#363755\"}),l.a.createElement(\"use\",{xlinkHref:\"#f\",transform:\"matrix(2 0 0 2 197.108 184.998)\",fill:\"#FFF\"}),l.a.createElement(\"use\",{xlinkHref:\"#g\",transform:\"matrix(2 0 0 2 221.8 216)\",fill:\"#363755\"}),l.a.createElement(\"defs\",null,l.a.createElement(\"path\",{id:\"a\",d:\"M73.5 0C32.859 0 0 32.859 0 73.5S32.859 147 73.5 147 147 114.141 147 73.5 114.069 0 73.5 0z\"}),l.a.createElement(\"path\",{id:\"b\",d:\"M193.601 107.116c0-13.376 8.238-23.91 20.619-31.153-2.244-7.447-5.19-14.6-8.824-21.32-13.886 3.633-25.12-1.799-34.568-11.26-9.449-9.437-12.344-20.672-8.709-34.571A111.362 111.362 0 0 0 140.799 0c-7.243 12.37-20.339 20.594-33.689 20.594-13.363 0-26.446-8.225-33.701-20.594A110.888 110.888 0 0 0 52.1 8.812c3.634 13.9.753 25.134-8.721 34.57-9.436 9.462-20.67 14.894-34.569 11.26A112.178 112.178 0 0 0 0 75.963c12.369 7.243 20.593 17.777 20.593 31.153 0 13.352-8.224 26.448-20.593 33.704a113.338 113.338 0 0 0 8.811 21.321c13.899-3.634 25.133-.752 34.569 8.697 9.448 9.462 12.355 20.696 8.721 34.57a112.653 112.653 0 0 0 21.32 8.837c7.243-12.407 20.338-20.619 33.702-20.619 13.35 0 26.446 8.225 33.701 20.619a114.22 114.22 0 0 0 21.32-8.837c-3.634-13.874-.752-25.108 8.709-34.57 9.449-9.437 20.683-14.869 34.569-11.26a112.343 112.343 0 0 0 8.823-21.321c-12.406-7.256-20.644-17.789-20.644-31.141zm-86.491 46.57c-25.732 0-46.58-20.849-46.58-46.57 0-25.733 20.86-46.595 46.58-46.595 25.732 0 46.567 20.875 46.567 46.595 0 25.734-20.835 46.57-46.567 46.57z\"}),l.a.createElement(\"path\",{id:\"c\",d:\"M98.088 49.91c-6.9 83.9 10.8 103.401 10.8 103.401s-55.1 5.499-82.7-13.401c-30.5-20.9-26-67.5-25.9-94.6.1-28.4 25.6-45.8 49.9-45.3 29.1.5 50.2 21.6 47.9 49.9z\"}),l.a.createElement(\"path\",{id:\"d\",d:\"M.1.1c12.2 33.3 22.5 42.7 40 55.2 25.3 18 36.6 17.5 76.3 41C78.1 60.3 30.8 45.7 0 0l.1.1z\"}),l.a.createElement(\"path\",{id:\"e\",d:\"M.687 36.474c3 13.3 17.9 29.9 30.4 41.6 24.8 23.2 42 22.4 86 54.7-18.2-51.8-18.8-62-43.5-106.1-24.7-44-67.6-20.3-67.6-20.3s-8.4 16.6-5.3 29.9v.2z\"}),l.a.createElement(\"path\",{id:\"f\",d:\"M38.346 11.5s-4-11.6-18-11.5c-30 .2-28.8 52.1 16.9 52 39.6-.1 39.2-49.4 16.1-49.6-10.2-.2-15 9.1-15 9.1z\"}),l.a.createElement(\"path\",{id:\"g\",d:\"M26.5 15c10.8 0 2 14.9-.6 20.9-1.8-8.4-10.2-20.9.6-20.9zM10.2.1C4.6.1 0 4.6 0 10.3c0 5.6 4.5 10.2 10.2 10.2 5.6 0 10.2-4.5 10.2-10.2C20.4 4.7 15.9.1 10.2.1zM40.7 0c-4.8 0-8.8 4.5-8.8 10.2 0 5.6 3.9 10.2 8.8 10.2 4.8 0 8.8-4.5 8.8-10.2C49.5 4.6 45.6 0 40.7 0z\"}))))}ve.displayName=\"FloattingButton\";var we=n(148),Ee=n.n(we),Se=n(4),Oe=n.n(Se);function xe(e){return(xe=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function ke(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ae(e,t,n){return t&&Ce(e.prototype,t),n&&Ce(e,n),e}function Te(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pe(e,t)}function Pe(e,t){return(Pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Me(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=De(e);if(t){var o=De(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Re(this,n)}}function Re(e,t){return!t||\"object\"!==xe(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function De(e){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ie=ge(\"div\")({display:\"flex\",listStyle:\"none\",borderBottom:\"1px solid \".concat(be.main20)});Ie.displayName=\"TabList\";var Ne=ge(\"div\")({height:\"100%\",width:\"100%\"});Ne.displayName=\"TabsStyled\";var je=ge(\"div\")({color:be.white,textTransform:\"uppercase\",fontSize:\"13px\",padding:\"16px 24px 14px\",boxSizing:\"border-box\",userSelect:\"none\",\"&:hover\":{cursor:\"pointer\",background:be.white05},\"&:focus\":{outline:\"none\"}},(function(e){return{borderBottom:e.isSelected?\"2px solid \".concat(be.main):\"none\"}}));je.displayName=\"TabStyled\";var Le=function(e){Te(n,e);var t=Me(n);function n(){return ke(this,n),t.apply(this,arguments)}return Ae(n,[{key:\"render\",value:function(){var e=this;return l.a.createElement(je,{isSelected:this.props.index===this.context.tabs.selectedIndex,onClick:function(){(e.context.tabs.onSelect||function(){})(e.props.index)}},this.props.children)}}]),n}(l.a.Component);Le.contextTypes={tabs:Oe.a.object.isRequired};var ze=ge(\"div\")({width:\"100%\",height:\"calc(100% - 48px)\",boxSizing:\"border-box\"});ze.displayName=\"TabPanelStyled\";var Be=function(e){Te(n,e);var t=Me(n);function n(){return ke(this,n),t.apply(this,arguments)}return Ae(n,[{key:\"render\",value:function(){return l.a.createElement(ze,null,this.props.children({index:this.context.tabs.selectedIndex}))}}]),n}(l.a.Component);Be.contextTypes={tabs:Oe.a.object.isRequired};var Ue=function(e){Te(n,e);var t=Me(n);function n(){return ke(this,n),t.apply(this,arguments)}return Ae(n,[{key:\"getChildContext\",value:function(){return{tabs:{onSelect:this.props.onSelect,selectedIndex:this.props.selectedIndex}}}},{key:\"render\",value:function(){return l.a.createElement(Ne,null,this.props.children)}}]),n}(l.a.Component);Ue.childContextTypes={tabs:Oe.a.object};var He=n(50),Fe=n.n(He),Ve=n(3),qe=n(149),Ke=n(121),Ge=n.n(Ke);function $e(e,t){var n=function e(t,n,r){return r===n?t:n.content&&n.content.content?n.content.content.map((function(n,o){return e([].concat(t,\"content\",o),n,r)})).filter((function(e){return Array.isArray(e)&&e.length}))[0]:null}([],e,t);if(n)return n.reduce((function(e,t){return\"content\"===t&&\"content\"===e[e.length-1]||e.push(t),e}),[])}function We(e,t){var n=function e(t,n,r){return r===n?t:n.content?n.content===r?t.concat(\"content\"):n.content.map((function(n,o){return e([].concat(t,\"content\",o),n,r)})).filter((function(e){return Array.isArray(e)&&e.length}))[0]:null}([],e,t);if(n)return n.reduce((function(e,t){return e.push(t),\"content\"===t&&e.push(\"content\"),e}),[])}var Ye=n(2);function Xe(e){return(Xe=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function Je(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function Ze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(\"undefined\"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if(\"string\"==typeof e)return Qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qe(e,t)}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function et(e,t){return(et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tt(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ot(e);if(t){var o=ot(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nt(this,n)}}function nt(e,t){return!t||\"object\"!==Xe(t)&&\"function\"!=typeof t?rt(e):t}function rt(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function ot(e){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function it(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var st={top:0,left:0,width:0,height:0,active:!1},at=\"prosemirror-dev-tools-snapshots\",ct=[\"#EA7C7F\",\"#67B0C6\",\"#94BB7F\",\"#CA9EDB\",\"#DCDC5D\",\"#B9CC7C\",\"#DD97D8\",\"#FFB761\",\"#4D8FD1\",\"#F36E98\",\"#E45F44\",\"#A6A4AE\",\"#FCC047\",\"#FFC129\",\"#D3929C\",\"#4CBCD4\",\"#8D7BC0\"];function lt(e){return Object.keys(e.nodes).reduce((function(e,t,n){var r=n>=ct.length?function(e,t){var n=e/t;return Math.round(t*(n-Math.floor(n)))}(n,ct.length):n;return e[t]=ct[r],e}),{})}function ut(e){for(var t,n=e;!t&&n;)n.pmViewDesc&&(t=n),n=n.parentNode;return t}function dt(e){return{type:e.type,empty:e.empty,anchor:e.anchor,head:e.head,from:e.from,to:e.to}}function pt(e){var t=Ve.DOMSerializer.fromSchema(e.schema),n=e.selection,r=t.serializeFragment(n.content().content),o=[];if(r)for(var i=r.firstChild;i;)o.push(i.outerHTML),i=i.nextSibling;return{id:Ge()(),state:e,timestamp:Date.now(),diffPending:!0,diff:void 0,selection:void 0,selectionContent:Object(qe.prettyPrint)(o.join(\"\\n\"),{max_char:60,indent_size:2})}}var ft=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&et(e,t)}(r,e);var t=tt(r);function r(e,o){var i,s,a,c,l;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,r),it(rt(i=t.call(this)),\"state\",{EditorState:function(){},view:null,state:{},schema:{},nodeColors:{},activeMarks:[],history:[],expandPath:[],historyRolledBackTo:!1,selectedHistoryItem:0,snapshots:JSON.parse(window.localStorage.getItem(at))||[],nodePicker:st}),it(rt(i),\"activatePicker\",(function(){i.setState({nodePicker:Object.assign({},st,{active:!0})})})),it(rt(i),\"deactivatePicker\",(function(){var e=i.state.nodePicker;e.onMouseOver&&document.removeEventListener(\"mouseover\",e.onMouseOver),e.onMouseOver&&document.removeEventListener(\"click\",e.onClick),i.setState({nodePicker:st})})),it(rt(i),\"updateNodePickerPossition\",(function(e){var t=ut(e);if(t&&(t.pmViewDesc.node&&\"doc\"!==t.pmViewDesc.node.type.name||t.pmViewDesc.mark)){var n=t.getBoundingClientRect(),r=n.top,o=n.left,s=n.width,a=n.height;i.setState({nodePicker:{top:r+window.scrollY,left:o,width:s,height:a,active:!0}})}else i.setState({nodePicker:Object.assign({},st,{active:!0})})})),it(rt(i),\"nodePickerSelect\",(function(e){var t=ut(e);if(t){var n=i.state.state,r=$e(n.doc,n.doc.nodeAt(t.pmViewDesc.posAtStart));i.setState({expandPath:r})}i.setState({nodePicker:st})})),it(rt(i),\"saveSnapshot\",(function(){var e=prompt(\"Enter snapshot name\",Date.now());if(e){var t=[{name:e,timestamp:Date.now(),snapshot:i.state.state.doc.toJSON()}].concat(i.state.snapshots);i.setState({snapshots:t}),window.localStorage.setItem(at,JSON.stringify(t))}})),it(rt(i),\"loadSnapshot\",(function(e){var t=i.state.EditorState,n=i.state.view,r=n.state,o=t.create({schema:r.schema,plugins:r.plugins,doc:r.schema.nodeFromJSON(e.snapshot)});i.setState({history:[pt(o)],state:o}),n.updateState(o)})),it(rt(i),\"deleteSnapshot\",(function(e){var t=i.state.snapshots,n=t.indexOf(e);t.splice(n,1),i.setState({snapshots:[].concat(t)}),window.localStorage.setItem(at,JSON.stringify(t))})),it(rt(i),\"logNodeFromJSON\",(function(e){var t=e.doc,n=e.node,r=i.state.state.doc,o=We(t,n);o?console.log(o.reduce((function(e,t){return e[t]}),r)):console.log(n)})),it(rt(i),\"selectHistoryItem\",(function(e){return i.setState({selectedHistoryItem:e})})),it(rt(i),\"rollbackHistory\",(function(e){var t=i.state.EditorState,n=i.state.history[e].state,r=i.state.view,o=t.create({schema:n.schema,plugins:n.plugins,doc:n.schema.nodeFromJSON(n.doc.toJSON())});r.updateState(o),r.dom.focus();var s=r.state.tr.setSelection(n.selection).setMeta(\"addToHistory\",!1).setMeta(\"_skip-dev-tools-history_\",!0);r.dispatch(s),i.setState({state:o,historyRolledBackTo:e})})),i.diffWorker=o&&o.diffWorker?n.e(2).then(n.bind(null,454)).then((function(e){return new(0,e.JsonDiffWorker)(o.diffWorker)})):n.e(1).then(n.bind(null,455)).then((function(e){return new(0,e.JsonDiffMain)})),i.state=Object.assign({},i.state,{EditorState:Ye.EditorState,view:e,state:e.state,nodeColors:lt(e.state.schema),history:[{state:e.state,timestamp:Date.now()}]}),a=function(e,t,n){var r,o,s,a,c=function(e,t,n,r){if(!n.getMeta(\"_skip-dev-tools-history_\")){var o=function(e,t){var n=!1!==t?t:0;return e.slice(n,200)}(e,t);return o.unshift(pt(r)),o}}(i.state.history,i.state.historyRolledBackTo,e,n);if(t&&c){var l=Ze(c,1)[0].id,u=rt(i);(r=Fe.a.mark((function e(){var r,o,s,a,d,p;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.diffWorker;case 2:return r=e.sent,e.next=5,Promise.all([r.diff({a:t.doc.toJSON(),b:n.doc.toJSON(),id:l}),r.diff({a:dt(t.selection),b:dt(n.selection),id:l})]);case 5:o=e.sent,s=Ze(o,2),a=s[0].delta,d=s[1].delta,p=c.map((function(e){return e.id===l?Object.assign({},e,{diff:a,diffPending:!1,selection:d}):e})),u.setState({history:p});case 11:case\"end\":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(n,o){var i=r.apply(e,t);function s(e){Je(i,n,o,s,a,\"next\",e)}function a(e){Je(i,n,o,s,a,\"throw\",e)}s(void 0)}))})()}i.setState({state:n,nodeColors:lt(n.schema),activeMarks:(o=n,s=o.selection,a=[],s.empty?a=s.storedMarks||s.$from.marks():o.doc.nodesBetween(s.from,s.to,(function(e){a=a.concat(e.marks)})),a=a.reduce((function(e,t){return-1===e.indexOf(t)&&e.push(t),e}),[]).map((function(e){return e.toJSON()}))),history:c||i.state.history,selectedHistoryItem:c?0:i.state.selectedHistoryItem,historyRolledBackTo:!c&&i.state.historyRolledBackTo})},c=((s=e)._props.dispatchTransaction||s.dispatch).bind(s),l=function(e){var t=s.state;c(e),a(e,t,s.state)},s._props.dispatchTransaction?s._props.dispatchTransaction=l:s.dispatch=l,i}return r}(_);function ht(e){return(ht=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function mt(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function gt(e,t){return(gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yt(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_t(e);if(t){var o=_t(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bt(this,n)}}function bt(e,t){return!t||\"object\"!==ht(t)&&\"function\"!=typeof t?vt(e):t}function vt(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function _t(e){return(_t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Et=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gt(e,t)}(n,e);var t=yt(n);function n(){var e;mt(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return wt(vt(e=t.call.apply(t,[this].concat(o))),\"state\",{selectionExpanded:!1}),wt(vt(e),\"toggleSelection\",(function(){e.setState({selectionExpanded:!e.state.selectionExpanded})})),e}return n}(_),St=[\"jsonID\",\"empty\",\"anchor\",\"from\",\"head\",\"to\",\"$anchor\",\"$head\",\"$cursor\",\"$to\",\"$from\"],Ot={$from:[\"nodeAfter\",\"nodeBefore\",\"parent\",\"textOffset\",\"depth\",\"pos\"],$to:[\"nodeAfter\",\"nodeBefore\",\"parent\",\"textOffset\",\"depth\",\"pos\"]},xt=[\"nodeAfter\",\"nodeBefore\",\"parent\"];function kt(e,t,n){return t.reduce((function(t,r){return n&&n[r]?t[r]=n[r].reduce((function(t,n){return t[n]=-1!==xt.indexOf(n)&&e[r][n]?e[r][n].toJSON():e[r][n],t}),{}):t[\"jsonID\"===r?\"type\":r]=e[r],t}),{})}function Ct(e){return kt(e,St.slice(0,6))}var At=ge(\"div\")({display:\"flex\",height:\"100%\"});At.displayName=\"SplitView\";var Tt=ge(\"div\")({boxSizing:\"border-box\",height:\"100%\",overflow:\"scroll\"},(function(e){var t=e.grow,n=e.sep,r=e.noPaddings,o=e.minWidth,i=e.maxWidth;return{flexGrow:t?1:0,borderLeft:n?\"1px solid \"+be.main20:\"none\",padding:r?\"\":\"16px 18px 18px\",minWidth:o?\"\".concat(o,\"px\"):\"none\",maxWidth:i?\"\".concat(i,\"px\"):\"none\"}}));Tt.displayName=\"SplitViewCol\";var Pt=n(150),Mt=n.n(Pt);function Rt(){return(Rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Dt(e){return l.a.createElement(Mt.a,Rt({invertTheme:!1,theme:ye,hideRoot:!0},e))}var It=ge(\"h2\")({color:be.softerMain,padding:0,margin:0,fontWeight:400,letterSpacing:\"1px\",fontSize:\"13px\",textTransform:\"uppercase\",flexGrow:1});It.displayName=\"Heading\";var Nt=ge(\"div\")({display:\"flex\"});Nt.displayName=\"HeadingWithButton\";var jt=ge(\"button\")({padding:\"6px 10px\",margin:\"-6px -10px 0 8px\",fontWeight:400,letterSpacing:\"1px\",fontSize:\"11px\",color:be.white80,textTransform:\"uppercase\",transition:\"background 0.3s, color 0.3s\",borderRadius:\"2px\",border:\"none\",background:\"transparent\",\"&:hover\":{background:be.main40,color:be.white,cursor:\"pointer\"},\"&:focus\":{outline:\"none\"},\"&:active\":{background:be.main60}});jt.displayName=\"HeadingButton\";var Lt=ge(\"div\")({padding:\"0 0 9px 0\",overflow:\"hidden\"});Lt.displayName=\"JSONTreeWrapper\";var zt=ge(\"div\")({minWidth:\"180px\",boxSizing:\"border-box\",\"& + &\":{paddingTop:\"9px\"}});zt.displayName=\"Section\";var Bt=ge(\"div\")({margin:\"0.5em 0px 0.5em 1em\"});Bt.displayName=\"Group\";var Ut=ge(\"div\")({paddingTop:\"0.25em\"});Ut.displayName=\"GroupRow\";var Ht=ge(\"span\")({display:\"inline-block\",color:be.syntax.base0D,margin:\"0px 0.5em 0px 0px\"});Ht.displayName=\"Key\";var Ft=ge(\"span\")({color:be.syntax.base09});Ft.displayName=\"ValueNum\";var Vt=ge(\"button\")({color:be.white60,background:\"none\",border:\"none\",transition:\"background 0.3s, color 0.3s\",borderRadius:\"3px\",\"&:hover\":{cursor:\"pointer\",background:be.main40,color:be.white},\"&:focus\":{outline:\"none\"}});function qt(e,t){return function(n,r,o,i){var s=l.a.createElement(Vt,{onClick:function(n){n.preventDefault(),n.stopPropagation(),t({doc:e,node:r})}},\"log\");return\"Object\"===n&&r.type?l.a.createElement(\"span\",null,\"{} \",r.type,\" \",s):l.a.createElement(\"span\",null,o,\" \",i,\" \",s)}}function Kt(e,t,n,r){return\"Object\"===e&&t.type?l.a.createElement(\"span\",null,\"{} \",t.type):l.a.createElement(\"span\",null,n,\" \",r)}function Gt(){return l.a.createElement(E,{to:[ft,Et]},(function(e,t){var n,r=e.logNodeFromJSON,o=e.state,i=o.state,s=o.activeMarks,a=o.expandPath,c=t.toggleSelection,u=t.state.selectionExpanded,d=i.doc.toJSON();return l.a.createElement(At,null,l.a.createElement(Tt,{grow:!0},l.a.createElement(Nt,null,l.a.createElement(It,null,\"Current Doc\"),l.a.createElement(jt,{onClick:function(){return console.log(i)}},\"Log State\")),l.a.createElement(Dt,{data:d,hideRoot:!0,getItemString:qt(d,r),shouldExpandNode:function(e){return function(e,t){var n=[].concat(t).reverse();return!!e&&(e.push(\"attrs\"),!(n.length>e.length)&&(n.join(\".\")===e.join(\".\")||!!n.every((function(t,n){return t===e[n]}))))}(a,e)}})),l.a.createElement(Tt,{sep:!0,minWidth:220},l.a.createElement(zt,null,l.a.createElement(Nt,null,l.a.createElement(It,null,\"Selection\"),l.a.createElement(jt,{onClick:function(){return c()}},u?\"▼\":\"▶\")),l.a.createElement(Lt,null,l.a.createElement(Dt,{data:u?(n=i.selection,kt(n,St,Ot)):Ct(i.selection),hideRoot:!0}))),l.a.createElement(zt,null,l.a.createElement(It,null,\"Active Marks\"),l.a.createElement(Lt,null,s.length?l.a.createElement(Dt,{data:s,hideRoot:!0,getItemString:Kt}):l.a.createElement(Bt,null,l.a.createElement(Ut,null,l.a.createElement(Ht,null,\"no active marks\"))))),l.a.createElement(zt,null,l.a.createElement(It,null,\"Document Stats\"),l.a.createElement(Bt,null,l.a.createElement(Ut,null,l.a.createElement(Ht,null,\"nodeSize:\"),l.a.createElement(Ft,null,i.doc.nodeSize)),l.a.createElement(Ut,null,l.a.createElement(Ht,null,\"childCount:\"),l.a.createElement(Ft,null,i.doc.childCount))))))}))}Vt.displayName=\"LogNodeButton\";var $t=ge(\"div\")({position:\"relative\",top:\"50%\",transform:\"translateY(-50%)\",textAlign:\"center\",color:be.main,fontSize:\"14px\"});function Wt(){return(Wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Yt(e){return(Yt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function Xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jt(e,t){return(Jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zt(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=en(e);if(t){var o=en(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qt(this,n)}}function Qt(e,t){return!t||\"object\"!==Yt(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function en(e){return(en=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}$t.displayName=\"InfoPanel\";var tn=function(){},nn=ge(\"div\")({minWidth:\"190px\",width:\"100%\",display:\"flex\",boxSizing:\"border-box\",fontWeight:400,letterSpacing:\"1px\",fontSize:\"11px\",color:be.white80,textTransform:\"uppercase\",transition:\"background .3s\",textAlign:\"left\",fontFamily:\"monospace\",border:\"none\",borderTop:\"1px solid \".concat(be.main20),margin:0,\"&:first-child\":{borderTop:\"none\"},\"&:hover\":{background:be.main40,color:be.white,cursor:\"pointer\"},\"&:focus\":{outline:\"none\"},\"&:active\":{background:be.main60}},(function(e){return{opacity:e.isDimmed?.3:1,padding:e.nested?\"6px 18px 6px 36px\":\"6px 18px\",background:e.background?e.background(e):e.isSelected?be.main40:\"transparent\"}}));nn.displayName=\"ListItem\";var rn=ge(\"div\")({display:\"block\"},(function(e){return{display:e.collapsed?\"none\":\"block\"}}));rn.displayName=\"ListItemGroupContent\";var on=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jt(e,t)}(i,e);var t,n,r,o=Zt(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,i),(t=o.call(this,e)).state={collapsed:!0},t}return t=i,(n=[{key:\"toggle\",value:function(){this.setState({collapsed:!this.state.collapsed})}},{key:\"render\",value:function(){var e=this,t=this.props,n=t.items,r=t.groupTitle,o=t.title,i=t.isSelected,s=void 0===i?tn:i,a=t.isPrevious,c=void 0===a?tn:a,u=t.isDimmed,d=void 0===u?tn:u,p=t.getKey,f=void 0===p?tn:p,h=t.onListItemClick,m=void 0===h?tn:h,g=t.onListItemDoubleClick,y=void 0===g?tn:g,b=t.customItemBackground;return l.a.createElement(\"div\",null,l.a.createElement(nn,{key:f(n[0]),onClick:function(){return e.toggle()},isSelected:n.some(s)&&this.state.collapsed,isPrevious:c(n[0],0)&&this.state.collapsed,isDimmed:n.every(d),background:b},l.a.createElement(\"div\",{style:{flexGrow:1}},r(n,0)),l.a.createElement(\"div\",null,this.state.collapsed?\"▶\":\"▼\")),l.a.createElement(rn,{collapsed:this.state.collapsed},(n||[]).map((function(e,t){return l.a.createElement(nn,{key:f(e),nested:!0,isSelected:s(e,t),isPrevious:c(e,t),isDimmed:d(e,t),background:b,onClick:function(){return m(e,t)},onDoubleClick:function(){return y(e,t)}},o(e,t))}))))}}])&&Xt(t.prototype,n),r&&Xt(t,r),i}(c.PureComponent);function sn(e){var t=e.isSelected,n=void 0===t?tn:t,r=e.isPrevious,o=void 0===r?tn:r,i=e.isDimmed,s=void 0===i?tn:i,a=e.getKey,c=void 0===a?tn:a,u=e.onListItemClick,d=void 0===u?tn:u,p=e.onListItemDoubleClick,f=void 0===p?tn:p;return l.a.createElement(\"div\",null,(e.items||[]).map((function(t,r){return Array.isArray(t)?l.a.createElement(on,Wt({},e,{items:t,key:t[0].timestamp}),e.groupTitle(t,r)):l.a.createElement(nn,{key:c(t),isSelected:n(t,r),isPrevious:o(t,r),isDimmed:s(t,r),background:e.customItemBackground,onClick:function(){return d(t,r)},onDoubleClick:function(){return f(t,r)}},e.title(t,r))})))}var an=ge(\"span\")({color:be.main});an.displayName=\"Updated\";var cn=ge(\"span\")({color:be.white});cn.displayName=\"White\";var ln=ge(\"span\")({display:\"inline-block\",background:be.lightYellow,color:be.lightPink,padding:\"1px 3px 2px\",textIndent:0,textDecoration:\"line-through\",minHeight:\"1ex\"});ln.displayName=\"Deleted\";var un=ge(\"span\")({display:\"inline-block\",background:be.lightYellow,color:be.darkGreen,padding:\"1px 3px 2px\",textIndent:0,minHeight:\"1ex\"});function dn(e){if(e&&\"a\"===e._t){var t={};for(var n in e)\"_t\"!==n&&(\"_\"!==n[0]||e[n.substr(1)]?e[\"_\"+n]?t[n]=[e[\"_\"+n][0],e[n][0]]:e[\"_\"+n]||\"_\"===n[0]||(t[n]=e[n]):t[n.substr(1)]=e[n]);return t}return e}function pn(e){return e[0]}function fn(e){return\"string\"==typeof e?e:function(e){if(null===e)return\"null\";var t=JSON.stringify(e);return void 0===t?\"undefined\":t.length>22?\"\".concat(t.substr(0,15),\"…\").concat(t.substr(-5)):t}(e)}function hn(e){return e.split(/\\n/gm).slice(1).map((function(e){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e.startsWith(\"-\")?\"delete\":e.startsWith(\"+\")?\"add\":\"raw\",e.substr(1).replace(/\\s/gm,\" \"))}))}function mn(e){if(Array.isArray(e)){if(1===e.length)return l.a.createElement(un,null,fn(e[0]));if(2===e.length)return l.a.createElement(an,null,l.a.createElement(ln,null,fn(e[0])),\" =>\",\" \",l.a.createElement(un,null,fn(e[1])));if(3===e.length&&0===e[1]&&0===e[2])return l.a.createElement(ln,null,fn(e[0]));if(3===e.length&&2===e[2])return l.a.createElement(an,null,'\"',hn(e[0]).map((function(e){return e.delete?l.a.createElement(ln,{key:e.delete+\"delete\"},e.delete):e.add?l.a.createElement(un,{key:e.add+\"add\"},e.add):l.a.createElement(cn,{key:e.raw+\"raw\"},e.raw)})),'\"')}return\"\"+e}function gn(e,t,n,r){switch(e){case\"Object\":return l.a.createElement(\"span\",null,\"{…}\");default:return l.a.createElement(\"span\",null,n,\" \",r)}}function yn(e){return e.delta?l.a.createElement(Dt,{data:e.delta,hideRoot:!0,postprocessValue:dn,labelRenderer:pn,valueRenderer:mn,isCustomNode:Array.isArray,getItemString:gn,shouldExpandNode:function(){return!0}}):null}function bn(e){return(bn=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function vn(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function _n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wn(e,t){return(wn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function En(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=On(e);if(t){var o=On(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Sn(this,n)}}function Sn(e,t){return!t||\"object\"!==bn(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function On(e){return(On=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}un.displayName=\"Added\";var xn=ge(\"pre\")({padding:\"9px 0 18px 0 !important\",margin:0,color:be.white80,\"& .prosemirror-dev-tools-highlighter-tag\":{color:be.main}});xn.displayName=\"CustomPre\";var kn=/(&lt;\\/?[\\w\\d\\s=\"']+&gt;)/gim,Cn=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wn(e,t)}(i,e);var t,n,r,o=En(i);function i(){return vn(this,i),o.apply(this,arguments)}return t=i,(n=[{key:\"render\",value:function(){return this.props.children?l.a.createElement(xn,{dangerouslySetInnerHTML:{__html:(e=this.props.children,e.replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\").replace(kn,\"<span class='prosemirror-dev-tools-highlighter-tag'>$&</span>\"))}}):null;var e}}])&&_n(t.prototype,n),r&&_n(t,r),i}(l.a.Component),An=ge(\"div\")({minWidth:\"180px\",boxSizing:\"border-box\",\"& + &\":{paddingTop:\"9px\"}});function Tn(e){return(\"00\"+e).slice(-2)}An.displayName=\"Section\";var Pn=function(e){var t,n=new Date(e);return[Tn(n.getHours()),Tn(n.getMinutes()),Tn(n.getSeconds()),(t=n.getMilliseconds(),(\"000\"+t).slice(-3))].join(\":\")};function Mn(e){return e.selectionContent?l.a.createElement(An,null,l.a.createElement(It,null,\"Selection Content\"),l.a.createElement(Cn,null,e.selectionContent)):null}function Rn(e){return e.diff?l.a.createElement(An,null,l.a.createElement(It,null,\"Doc diff\"),l.a.createElement(yn,{delta:e.diff})):null}function Dn(e){return e.selection?l.a.createElement(An,null,l.a.createElement(It,null,\"Selection diff\"),l.a.createElement(yn,{delta:e.selection})):null}function In(){return l.a.createElement(E,{to:[ft]},(function(e){var t=e.selectHistoryItem,n=e.rollbackHistory,r=e.state,o=r.history,i=r.selectedHistoryItem,s=r.historyRolledBackTo,a=o[i+1],c=o[i],u=o[s],d=o.reduce((function(e,t,n){var r=e[e.length-1];return t.index=n,t.diff?e.push(t):r&&Array.isArray(r)?r.push(t):e.push([t]),e}),[]).reduce((function(e,t){return Array.isArray(t)&&1===t.length?e.push(t[0]):e.push(t),e}),[]);return l.a.createElement(At,null,l.a.createElement(Tt,{noPaddings:!0,minWidth:190},l.a.createElement(sn,{items:d,getKey:function(e){return e.timestamp},title:function(e){return Pn(e.timestamp)},groupTitle:function(e){return Pn(e[0].timestamp)+\" [\".concat(e.length,\"]\")},isSelected:function(e){return e.timestamp===c.timestamp},isPrevious:function(e){return a&&e.timestamp===a.timestamp},isDimmed:function(e){return u&&e.timestamp>u.timestamp},customItemBackground:function(e){return e.isSelected?be.main40:e.isPrevious?be.main20:\"transparent\"},onListItemClick:function(e){return t(e.index)},onListItemDoubleClick:function(e){return n(e.index)}})),l.a.createElement(Tt,{grow:!0,sep:!0},l.a.createElement(Rn,{diff:c.diff}),l.a.createElement(Dn,{selection:c.selection}),l.a.createElement(Mn,{selectionContent:c.selectionContent}),!c.diff&&!c.selectionContent&&!c.diffPending&&l.a.createElement($t,null,\"Docs are equal.\")))}))}function Nn(e){return(Nn=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function jn(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function Ln(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zn(e,t){return(zn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bn(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Hn(e);if(t){var o=Hn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Un(this,n)}}function Un(e,t){return!t||\"object\"!==Nn(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function Hn(e){return(Hn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Fn=[\"schema\",\"contentExpr\",\"schema\",\"parseDOM\",\"toDOM\"];function Vn(e,t){return t&&\"[object Object]\"===Object.prototype.toString.call(t)?Object.keys(t).filter((function(t){return-1===e.indexOf(t)})).reduce((function(e,n){return e[n]=t[n],e}),{}):t}var qn=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zn(e,t)}(i,e);var t,n,r,o=Bn(i);function i(){return jn(this,i),o.apply(this,arguments)}return t=i,(n=[{key:\"shouldComponentUpdate\",value:function(e){return this.props.schema!==e.schema}},{key:\"render\",value:function(){var e=this.props.schema;return l.a.createElement(At,null,l.a.createElement(Tt,{grow:!0},l.a.createElement(It,null,\"Nodes\"),l.a.createElement(Dt,{data:e.nodes,postprocessValue:Vn.bind(null,Fn)})),l.a.createElement(Tt,{grow:!0,sep:!0},l.a.createElement(It,null,\"Marks\"),l.a.createElement(Dt,{data:e.marks,postprocessValue:Vn.bind(null,Fn)})))}}])&&Ln(t.prototype,n),r&&Ln(t,r),i}(l.a.Component);function Kn(){return l.a.createElement(E,{to:[ft]},(function(e){var t=e.state.state.schema;return l.a.createElement(qn,{schema:t})}))}function Gn(e){return(Gn=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function $n(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function Wn(e,t){return(Wn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yn(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zn(e);if(t){var o=Zn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xn(this,n)}}function Xn(e,t){return!t||\"object\"!==Gn(t)&&\"function\"!=typeof t?Jn(e):t}function Jn(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Zn(e){return(Zn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var er=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wn(e,t)}(n,e);var t=Yn(n);function n(){var e;$n(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Qn(Jn(e=t.call.apply(t,[this].concat(o))),\"state\",{selected:0}),Qn(Jn(e),\"selectPlugin\",(function(t){e.setState({selected:t})})),e}return n}(_);function tr(e){return\"function\"==typeof(arguments.length<=1?void 0:arguments[1])?\"func\":e}function nr(e){return l.a.createElement(\"div\",null,l.a.createElement(It,null,\"Plugin State\"),l.a.createElement(Dt,{data:e.pluginState,valueRenderer:tr}))}function rr(){return l.a.createElement(E,{to:[ft,er]},(function(e,t){var n=e.state.state,r=n.plugins,o=r[t.state.selected].getState(n);return l.a.createElement(At,null,l.a.createElement(Tt,{noPaddings:!0},l.a.createElement(sn,{items:r,getKey:function(e){return e.key},title:function(e){return e.key},isSelected:function(e,n){return t.state.selected===n},isDimmed:function(e){return!e.getState(n)},onListItemClick:function(e,n){return t.selectPlugin(n)}})),l.a.createElement(Tt,{grow:!0,sep:!0},o?l.a.createElement(nr,{pluginState:o}):l.a.createElement($t,null,\"Plugin doesn't have any state\")))}))}function or(e){return(or=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function ir(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function sr(e,t){return(sr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ar(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ur(e);if(t){var o=ur(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cr(this,n)}}function cr(e,t){return!t||\"object\"!==or(t)&&\"function\"!=typeof t?lr(e):t}function lr(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function ur(e){return(ur=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pr=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sr(e,t)}(n,e);var t=ar(n);function n(){var e;ir(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return dr(lr(e=t.call.apply(t,[this].concat(o))),\"state\",{selectedNode:null}),dr(lr(e),\"selectNode\",(function(t){var n=t.node;e.setState({selectedNode:n})})),e}return n}(_),fr=ge(\"div\")({marginTop:\"12px\"});fr.displayName=\"GraphWrapper\";var hr=ge(\"div\")({});hr.displayName=\"BlockNodeWrapper\";var mr=ge(\"div\")({padding:\"0 12px\",boxSizing:\"border-box\",borderLeft:\"1px solid \".concat(be.white20),borderRight:\"1px solid \".concat(be.white20)});mr.displayName=\"BlockNodeContentView\";var gr=ge(\"div\")({padding:\"0 12px\",display:\"flex\",width:\"100%\",boxSizing:\"border-box\",borderLeft:\"1px solid \".concat(be.white20),borderRight:\"1px solid \".concat(be.white20),flexWrap:\"wrap\"});gr.displayName=\"BlockNodeContentViewWithInline\";var yr=ge(\"div\")({width:\"100%\",marginBottom:\"3px\",boxSizing:\"border-box\",display:\"flex\",\"&:hover\":{cursor:\"pointer\"}},(function(e){return{background:e.bg}}));yr.displayName=\"BlockNodeView\";var br=ge(\"div\")({padding:\"3px 6px\",background:\"rgba(255, 255, 255, 0.3)\"});br.displayName=\"Side\";var vr=ge(\"div\")({flexGrow:1,padding:\"3px 9px\",whiteSpace:\"pre\"});vr.displayName=\"Center\";var _r=ge(\"div\")({flexGrow:1,marginBottom:\"3px\",display:\"flex\",boxSizing:\"border-box\",\"&:hover\":{cursor:\"pointer\"}},(function(e){return{background:e.bg}}));function wr(e){if(!e.content||!e.content.content||!e.content.content.length)return null;var t=e.content.content;if(t[0].isBlock){var n=e.startPos+1;return l.a.createElement(mr,null,t.map((function(t,r){var o=n;return n+=t.nodeSize,l.a.createElement(Er,{key:r,node:t,colors:e.colors,onNodeSelected:e.onNodeSelected,startPos:o})})))}var r=e.startPos;return l.a.createElement(gr,null,t.map((function(t,n){var o=r;return r+=t.nodeSize,l.a.createElement(Sr,{key:n,index:n,node:t,bg:e.colors[t.type.name],onNodeSelected:e.onNodeSelected,startPos:o})})))}function Er(e){var t=e.colors,n=e.node,r=e.startPos,o=t[n.type.name];return l.a.createElement(hr,null,l.a.createElement(yr,{bg:o,onClick:function(){return e.onNodeSelected({node:n})}},l.a.createElement(br,null,r),l.a.createElement(vr,null,n.type.name),l.a.createElement(br,null,r+n.nodeSize-1)),l.a.createElement(wr,{content:n.content,colors:t,onNodeSelected:e.onNodeSelected,startPos:r}))}function Sr(e){var t=e.node,n=e.bg,r=e.startPos,o=e.index,i=1===t.marks.length?\" - [\".concat(t.marks[0].type.name,\"]\"):t.marks.length>1?\" - [\".concat(t.marks.length,\" marks]\"):\"\";return l.a.createElement(_r,{onClick:function(){return e.onNodeSelected({node:t})},bg:n},0===o?l.a.createElement(br,null,r):null,l.a.createElement(vr,null,t.type.name,\" \",i),l.a.createElement(br,null,r+t.nodeSize))}function Or(){return l.a.createElement(E,{to:[ft,pr]},(function(e,t){var n=e.state,r=n.state,o=n.nodeColors,i=t.state.selectedNode,s=i||r.doc;return l.a.createElement(At,null,l.a.createElement(Tt,{grow:!0},l.a.createElement(It,null,\"Current Doc\"),l.a.createElement(fr,null,l.a.createElement(Er,{colors:o,node:r.doc,startPos:0,onNodeSelected:t.selectNode}))),l.a.createElement(Tt,{sep:!0,minWidth:200,maxWidth:300},l.a.createElement(Nt,null,l.a.createElement(It,null,\"Node Info\"),l.a.createElement(jt,{onClick:function(){return console.log(s)}},\"Log Node\")),l.a.createElement(Dt,{data:s.toJSON(),hideRoot:!0,shouldExpandNode:function(){return\"doc\"!==s.type.name}})))}))}function xr(e){return(xr=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function kr(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function Cr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ar(e,t){return(Ar=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Tr(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mr(e);if(t){var o=Mr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pr(this,n)}}function Pr(e,t){return!t||\"object\"!==xr(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function Mr(e){return(Mr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}_r.displayName=\"InlineNodeView\";var Rr=ge(\"button\")({padding:\"6px 10px\",fontWeight:400,letterSpacing:\"1px\",fontSize:\"11px\",color:be.white80,background:be.white10,textTransform:\"uppercase\",transition:\"background 0.3s, color 0.3s\",borderRadius:\"2px\",border:\"none\",\"& + &\":{marginLeft:\"4px\"},\"&:hover\":{background:be.main40,color:be.white,cursor:\"pointer\"},\"&:focus\":{outline:\"none\"},\"&:active\":{background:be.main60}});Rr.displayName=\"ActionButton\";var Dr=ge(\"div\")({height:\"24px\",lineHeight:\"24px\",display:\"flex\",width:\"100%\"});Dr.displayName=\"ListItem\";var Ir=ge(\"div\")({flexGrow:1});function Nr(e){var t=e.snapshots,n=e.deleteSnapshot,r=e.loadSnapshot;return l.a.createElement(sn,{getKey:function(e){return e.name+e.timestamp},items:t,title:function(e){return l.a.createElement(Dr,null,l.a.createElement(Ir,null,e.name),l.a.createElement(\"div\",null,l.a.createElement(Rr,{onClick:function(){return n(e)}},\"delete\"),l.a.createElement(Rr,{onClick:function(){return r(e)}},\"restore\")))}})}Ir.displayName=\"ListItemTitle\";var jr=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ar(e,t)}(i,e);var t,n,r,o=Tr(i);function i(){return kr(this,i),o.apply(this,arguments)}return t=i,(n=[{key:\"shouldComponentUpdate\",value:function(e){return this.props.snapshots!==e.snapshots}},{key:\"render\",value:function(){var e=this.props,t=e.snapshots,n=e.loadSnapshot,r=e.deleteSnapshot;return l.a.createElement(At,null,l.a.createElement(Tt,{noPaddings:!0,grow:!0},t&&t.length?l.a.createElement(Nr,{snapshots:t,loadSnapshot:n,deleteSnapshot:r}):l.a.createElement($t,null,'No saved snapshots yet. Press \"Save Snapshot\" button to add one.')))}}])&&Cr(t.prototype,n),r&&Cr(t,r),i}(l.a.Component);function Lr(){return l.a.createElement(E,{to:[ft]},(function(e){var t=e.state.snapshots,n=e.loadSnapshot,r=e.deleteSnapshot;return l.a.createElement(jr,{snapshots:t,loadSnapshot:n,deleteSnapshot:r})}))}var zr=ge(\"div\")({fontSize:\"100%\",lineHeight:1,\"& li + li\":{margin:0}});zr.displayName=\"CSSReset\";var Br=zr;function Ur(e){return(Ur=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function Hr(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function Fr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vr(e,t){return(Vr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qr(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$r(e);if(t){var o=$r(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kr(this,n)}}function Kr(e,t){return!t||\"object\"!==Ur(t)&&\"function\"!=typeof t?Gr(e):t}function Gr(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function $r(e){return($r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yr=ge(\"div\")({position:\"absolute\",pointerEvents:\"none\",top:0,left:0,background:\"rgba(0, 0, 255, 0.3)\",zIndex:99999,cursor:\"pointer\"},(function(e){var t=e.nodePicker;return{transform:\"translateX(\".concat(t.left,\"px) translateY(\").concat(t.top,\"px)\"),display:t.top&&t.left?\"block\":\"none\",width:\"\".concat(t.width,\"px\"),height:\"\".concat(t.height,\"px\")}}));Yr.displayName=\"NodePickerStyled\";var Xr=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vr(e,t)}(i,e);var t,n,r,o=qr(i);function i(){var e;Hr(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Wr(Gr(e=o.call.apply(o,[this].concat(n))),\"handleMouseMove\",(function(t){e.props.nodePicker.active&&e.props.onMouseMove(t.target)})),Wr(Gr(e),\"handleNodeClick\",(function(t){e.props.nodePicker.active&&(t.preventDefault(),e.props.onSelect(t.target))})),Wr(Gr(e),\"closePicker\",(function(){e.props.nodePicker.active&&e.props.onClose()})),e}return t=i,(n=[{key:\"componentDidMount\",value:function(){this.props.nodePicker.active&&this.initEventHandlers()}},{key:\"componentWillReceiveProps\",value:function(e){this.destroyEventHandlers(),e.nodePicker.active&&this.initEventHandlers()}},{key:\"componentWillUnmount\",value:function(){this.destroyEventHandlers()}},{key:\"initEventHandlers\",value:function(){document.addEventListener(\"mousemove\",this.handleMouseMove),document.addEventListener(\"click\",this.handleNodeClick),document.addEventListener(\"keydown\",this.closePicker)}},{key:\"destroyEventHandlers\",value:function(){document.removeEventListener(\"mousemove\",this.handleMouseMove),document.removeEventListener(\"click\",this.handleNodeClick),document.removeEventListener(\"keydown\",this.closePicker)}},{key:\"render\",value:function(){return l.a.createElement(Yr,{nodePicker:this.props.nodePicker})}}])&&Fr(t.prototype,n),r&&Fr(t,r),i}(l.a.Component),Jr=ge(\"div\")({position:\"absolute\",right:\"4px\",top:\"-28px\",width:\"24px\",height:\"24px\",borderRadius:\"3px\",\"&:hover\":{backgroundColor:be.main80,cursor:\"pointer\"}},(function(e){var t=e.isActive;return{background:\"\".concat(t?be.main:be.main60,' url(\"').concat(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAQAAAACNCElAAAAxklEQVRIx+2Vuw3DMAxEXWUD9VrKvTYJRzAygWpPkSVcBlDtJS6Fg8AQqQ+lAEECXU08iid+pmnoTwWDKzbU6IEbLnkYQaMlD9uA6iqAUArQwDBgX4T1Z+uF4Q4PB/sZmH/1e1BCRZiLhqgWKsJsYjJLUPkDEJKjvmPWwnwCtcKoW4O5VnpTFmaVb8o3LXONOiZAcI3aYe5UIFXiUmv77doOc7oUpDoozLU5iiPFqYtcW4W01LJP3FEiwzXBLG9SUBNq6Ef0BJ8IApq+rItIAAAAAElFTkSuQmCC\",'\")'),backgroundSize:\"20px 20px\",backgroundRepeat:\"none\",backgroundPosition:\"50% 50%\"}}));Jr.displayName=\"NodePickerTrigger\";var Zr=ge(\"div\")({position:\"absolute\",right:\"32px\",top:\"-28px\",color:be.white,background:be.main60,fontSize:\"12px\",lineHeight:\"25px\",padding:\"0 6px\",height:\"24px\",backgroundSize:\"20px 20px\",backgroundRepeat:\"none\",backgroundPosition:\"50% 50%\",borderRadius:\"3px\",\"&:hover\":{backgroundColor:be.main80,cursor:\"pointer\"}});Zr.displayName=\"SaveSnapshotButton\";var Qr=Zr,eo=ge(\"div\")({width:\"100%\",height:\"100%\",overflow:\"hidden\",background:be.mainBg,fontFamily:\"Helvetica Neue, Calibri Light, Roboto, sans-serif\",fontSize:\"13px\"});eo.displayName=\"DockContainer\";var to=ge(\"button\")({background:\"none\",border:\"none\",position:\"absolute\",right:0,color:be.white60,fontSize:\"18px\",\"&:hover\":{cursor:\"pointer\",background:be.white05,color:be.white},\"&:focus\":{outline:\"none\"}});function no(){return l.a.createElement(E,{to:[D]},(function(e){var t=e.state,n=t.defaultSize,r=t.tabIndex,o=e.toggleDevTools,i=e.updateBodyMargin,s=e.selectTab;return l.a.createElement(Br,null,l.a.createElement(E,{to:[ft]},(function(e){var t=e.state.nodePicker,n=e.deactivatePicker,r=e.updateNodePickerPossition,o=e.nodePickerSelect;return l.a.createElement(Xr,{nodePicker:t,onClose:n,onMouseMove:r,onSelect:function(e){o(e),s(0)}})})),l.a.createElement(Ee.a,{position:\"bottom\",dimMode:\"none\",isVisible:!0,defaultSize:n,onSizeChange:i},(function(){return l.a.createElement(eo,null,l.a.createElement(to,{onClick:o},\"×\"),l.a.createElement(E,{to:[ft]},(function(e){var t=e.state.nodePicker,n=e.deactivatePicker,r=e.activatePicker;return l.a.createElement(Jr,{onClick:t.active?n:r,isActive:t.active})})),l.a.createElement(E,{to:[ft]},(function(e){var t=e.saveSnapshot;return l.a.createElement(Qr,{onClick:t},\"Save Snapshot\")})),l.a.createElement(Ue,{onSelect:s,selectedIndex:r},l.a.createElement(Ie,null,l.a.createElement(Le,{index:\"state\"},\"State\"),l.a.createElement(Le,{index:\"history\"},\"History\"),l.a.createElement(Le,{index:\"plugins\"},\"Plugins\"),l.a.createElement(Le,{index:\"schema\"},\"Schema\"),l.a.createElement(Le,{index:\"structure\"},\"Structure\"),l.a.createElement(Le,{index:\"snapshots\"},\"Snapshots\")),l.a.createElement(Be,null,(function(e){switch(e.index){case\"state\":return l.a.createElement(Gt,null);case\"history\":return l.a.createElement(In,null);case\"plugins\":return l.a.createElement(rr,null);case\"schema\":return l.a.createElement(Kn,null);case\"structure\":return l.a.createElement(Or,null);case\"snapshots\":return l.a.createElement(Lr,null);default:return l.a.createElement(Gt,null)}}))))})))}))}function ro(){return l.a.createElement(E,{to:[D]},(function(e){var t=e.state,n=e.toggleDevTools;return t.opened?l.a.createElement(no,null):l.a.createElement(_e,{onClick:n})}))}to.displayName=\"CloseButton\";var oo=function(e,t){var n=function(){var e=document.querySelector(\".\".concat(\"__prosemirror-dev-tools__\"));return e?(d.a.unmountComponentAtNode(e),e.innerHTML=\"\"):((e=document.createElement(\"div\")).className=\"__prosemirror-dev-tools__\",document.body.appendChild(e)),e}(),r=new ft(e,t);d.a.render(l.a.createElement(S,{inject:[r]},l.a.createElement(ro,null)),n)},io=n(5),so=n(6);Oe.a.objectOf((e,t,n)=>{if(!Object.prototype.hasOwnProperty.call(e,t))throw new Error(`Prop \\`${t}\\` has type 'any' or 'mixed', but was not provided to \\`${n}\\`. Pass undefined or any other value.`)}),Oe.a.string,Oe.a.bool,Oe.a.string,Oe.a.bool,Oe.a.string,Oe.a.arrayOf((e,t,n)=>{if(!Object.prototype.hasOwnProperty.call(e,t))throw new Error(`Prop \\`${t}\\` has type 'any' or 'mixed', but was not provided to \\`${n}\\`. Pass undefined or any other value.`)}),Oe.a.func,Oe.a.objectOf((e,t,n)=>{if(!Object.prototype.hasOwnProperty.call(e,t))throw new Error(`Prop \\`${t}\\` has type 'any' or 'mixed', but was not provided to \\`${n}\\`. Pass undefined or any other value.`)}),Oe.a.string,Oe.a.arrayOf((e,t,n)=>{if(!Object.prototype.hasOwnProperty.call(e,t))throw new Error(`Prop \\`${t}\\` has type 'any' or 'mixed', but was not provided to \\`${n}\\`. Pass undefined or any other value.`)}).isRequired,Oe.a.func.isRequired,Oe.a.any,Oe.a.string.isRequired,Oe.a.bool.isRequired,Oe.a.func.isRequired,Oe.a.func.isRequired,Oe.a.number.isRequired,Oe.a.string.isRequired,Oe.a.string.isRequired,Oe.a.number.isRequired,Oe.a.func,Oe.a.func,Oe.a.func,Oe.a.func,Oe.a.func,Oe.a.func,Oe.a.func,Oe.a.func,Oe.a.func,Oe.a.any;const ao=[\"code\",0];var co={parseDOM:[{tag:\"code\"}],toDOM:()=>ao};const lo=/([\\d\\.]+)(px|pt)/i;function uo(e){const t=e.match(lo);if(!t)return 0;let n=parseFloat(t[1]);const r=t[2];return n&&r?(\"px\"===r&&(n*=.75292857),n):0}const po=\"desktop_screen_4_3\",fo=\"desktop_screen_16_9\",ho=\"us_letter_landscape\",mo=\"us_letter_portrait\",go=\"a4_landscape\",yo=\"a4_portrait\";var bo={attrs:{layout:{default:null},padding:{default:null},width:{default:null}},content:\"block+\"};const vo=[\"em\",0];var _o={parseDOM:[{tag:\"i\"},{tag:\"em\"},{style:\"font-style=italic\"}],toDOM:()=>vo};var wo={attrs:{pt:{default:null}},inline:!0,group:\"inline\",parseDOM:[{style:\"font-size\",getAttrs:function(e){const t={};if(!e)return t;const n=function(e){const t=[8,9,10,11,12,14,18,24,30,36,48,60,72,90],n=uo(e);return t.includes(n)?n:t.reduce((e,t)=>Math.abs(t-n)<Math.abs(e-n)?t:e,Number.NEGATIVE_INFINITY)}(e);if(!n)return t;return{pt:n}}}],toDOM(e){const{pt:t}=e.attrs;return[\"span\",t?{style:`font-size: ${t}pt;`,class:\"czi-font-size-mark\"}:null,0]}};var Eo=new class{constructor(){f()(this,\"_implementation\",null)}setImplementation(e){this._implementation=e}load(e){const t=this._implementation;t?t.load(e):console.warn(\"Method WebFontLoader.load does not have an implementation\")}};const So=[\"Aclonica\",\"Acme\",\"Alegreya\",\"Arial Black\",\"Georgia\",\"Tahoma\",\"Times New Roman\",\"Times\",\"Verdana\",\"Courier New\"];function Oo(e){xo.add(e)}const xo=new Set([]);var ko={attrs:{name:\"\"},inline:!0,group:\"inline\",parseDOM:[{style:\"font-family\",getAttrs:e=>({name:e?e.replace(/[\\\"\\']/g,\"\"):\"\"})}],toDOM(e){const{name:t}=e.attrs,n={};return t&&(xo.has(t)||Oo(t),n.style=\"font-family: \"+t),[\"span\",n,0]}};var Co={attrs:{href:{default:null},rel:{default:\"noopener noreferrer nofollow\"},target:{default:\"blank\"},title:{default:null}},inclusive:!1,parseDOM:[{tag:\"a[href]\",getAttrs:e=>{const t=e.getAttribute(\"href\"),n=t&&0===t.indexOf(\"#\")?\"\":\"blank\";return{href:e.getAttribute(\"href\"),title:e.getAttribute(\"title\"),target:n}}}],toDOM:e=>[\"a\",e.attrs,0]};const Ao=\"code\",To=\"em\",Po=\"mark-font-size\",Mo=\"mark-font-type\",Ro=\"link\",Do=\"mark-no-break\",Io=\"strike\",No=\"strong\",jo=\"super\",Lo=\"sub\",zo=\"mark-text-color\",Bo=\"mark-text-highlight\",Uo=\"mark-text-selection\",Ho=\"underline\",Fo=\"spacer\",Vo=\"custom-styles\",qo=\"blockquote\",Ko=\"bookmark\",Go=\"bullet_list\",$o=\"code_block\",Wo=\"doc\",Yo=\"hard_break\",Xo=\"heading\",Jo=\"horizontal_rule\",Zo=\"image\",Qo=\"link\",ei=\"list_item\",ti=\"math\",ni=\"ordered_list\",ri=\"paragraph\",oi=\"table\",ii=\"table_cell\",si=\"table_header\",ai=\"table_row\",ci=\"text\",li=\"underline\";function ui(e,t,n){return t<e?e:t>n?n:t}const di=/^\\d+(.\\d+)?$/;function pi(e){if(!e)return\"\";let t=String(e);if(di.test(t)){const e=parseFloat(t);t=String(Math.round(100*e))+\"%\"}return\"100%\"===t?\"125%\":\"115%\"===t?\"138%\":\"150%\"===t?\"165%\":\"200%\"===t?\"232%\":t}const fi=new Set([\"\",\"0%\",\"0pt\",\"0px\"]),hi=/(left|right|center|justify)/;function mi(e){const{lineHeight:t,textAlign:n,marginLeft:r,paddingTop:o,paddingBottom:i}=e.style;let s=e.getAttribute(\"align\")||n||\"\";s=hi.test(s)?s:null;let a=parseInt(e.getAttribute(\"data-indent\"),10);!a&&r&&(a=vi(r)),a=a||0;return{align:s,indent:a,lineSpacing:t?pi(t):null,paddingTop:o,paddingBottom:i,id:e.getAttribute(\"id\")||\"\",objectId:e.getAttribute(\"objectId\")||null}}function gi(e){const{align:t,indent:n,lineSpacing:r,paddingTop:o,paddingBottom:i,id:s,objectId:a}=e.attrs,c={};let l=\"\";if(t&&\"left\"!==t&&(l+=`text-align: ${t};`),r){const e=pi(r);l+=`line-height: ${e};--czi-content-line-height: `+e}return o&&!fi.has(o)&&(l+=`padding-top: ${o};`),i&&!fi.has(i)&&(l+=`padding-bottom: ${i};`),l&&(c.style=l),n&&(c[\"data-indent\"]=String(n)),s&&(c.id=s),c.objectId=a,[\"p\",c,0]}const yi=gi,bi=mi;function vi(e){const t=uo(e);return ui(0,Math.floor(t/36),7)}var _i={attrs:{align:{default:null},color:{default:null},id:{default:null},indent:{default:null},lineSpacing:{default:null},paddingBottom:{default:null},paddingTop:{default:null},objectId:{default:null}},content:\"inline*\",group:\"block\",parseDOM:[{tag:\"p\",getAttrs:mi}],toDOM:gi};var wi={attrs:{size:{default:\"tab\"}},defining:!0,draggable:!1,excludes:\"_\",group:\"inline\",inclusive:!1,inline:!0,spanning:!1,parseDOM:[{tag:\"span[data-spacer-size]\",getAttrs:e=>({size:e.getAttribute(\"data-spacer-size\")||\"tab\"})}],toDOM(e){const{size:t}=e.attrs;return[\"span\",{\"data-spacer-size\":t},0]}};var Ei={parseDOM:[{style:\"text-decoration\",getAttrs:e=>\"line-through\"===e&&null}],toDOM:()=>[\"span\",{style:\"text-decoration: line-through\"},0]};const Si=[\"strong\",0],Oi=/^(bold(er)?|[5-9]\\d{2,})$/;var xi={parseDOM:[{tag:\"strong\"},{tag:\"b\",getAttrs:e=>\"normal\"!=e.style.fontWeight&&null},{style:\"font-weight\",getAttrs:e=>Oi.test(e)&&null}],toDOM:()=>Si},ki=n(20),Ci=n.n(ki);const Ai=/^rgba/i,Ti={transparent:\"rgba(0,0,0,0)\",inherit:\"\"};function Pi(e){if(!e)return!0;const t=Mi(e);return!t||\"rgba(0,0,0,0)\"===t}function Mi(e){if(!e)return\"\";if(e in Ti)return Ti[e];if(e&&Ai.test(e)){const t=Ci()(e);if(0===t.valpha)return Ti[e]=\"rgba(0,0,0,0)\",\"rgba(0,0,0,0)\";const n=t.toString();return Ti[e]=n.toString(),n}let t=\"\";try{t=Ci()(e).hex().toLowerCase(),Ti[e]=t}catch(t){console.warn(\"unable to convert to hex\",e),Ti[e]=\"\"}return t}var Ri=Mi;var Di={attrs:{color:\"\"},inline:!0,group:\"inline\",parseDOM:[{style:\"color\",getAttrs:e=>({color:Ri(e)})}],toDOM(e){const{color:t}=e.attrs;let n=\"\";return t&&(n+=`color: ${t};`),[\"span\",{style:n},0]}};var Ii={attrs:{highlightColor:\"\"},inline:!0,group:\"inline\",parseDOM:[{tag:\"span[style*=background-color]\",getAttrs:e=>{const{backgroundColor:t}=e.style,n=Mi(t);return{highlightColor:Pi(n)?\"\":n}}}],toDOM(e){const{highlightColor:t}=e.attrs;let n=\"\";return t&&(n+=`background-color: ${t};`),[\"span\",{style:n},0]}};const Ni=[\"nobr\",0];var ji={parseDOM:[{tag:\"nobr\"}],toDOM:()=>Ni};var Li={group:\"inline\"};var zi={attrs:{id:\"\"},inline:!0,group:\"inline\",parseDOM:[{tag:\"czi-text-selection\"}],toDOM:e=>[\"czi-text-selection\",{class:\"czi-text-selection\"},0]};var Bi={parseDOM:[{tag:\"sup\"},{style:\"vertical-align\",getAttrs:e=>\"super\"===e&&null}],toDOM:()=>[\"sup\",0]};var Ui={parseDOM:[{tag:\"sub\"},{style:\"vertical-align\",getAttrs:e=>\"sub\"===e&&null}],toDOM:()=>[\"sub\",0]};var Hi={parseDOM:[{tag:\"u\"},{style:\"text-decoration-line\",getAttrs:e=>\"underline\"===e&&null},{style:\"text-decoration\",getAttrs:e=>\"underline\"===e&&null}],toDOM:()=>[\"u\",0]};var Fi={attrs:{stylename:{default:null},fontname:{default:null},fontsize:{default:null},color:{default:null},highlightColor:{default:null}},inline:!0,group:\"inline\",parseDOM:[{style:\"font-family\",getAttrs:e=>({fontname:e?e.replace(/[\\\"\\']/g,\"\"):\"\"})}],toDOM(e){const{fontname:t,fontsize:n,color:r,highlightColor:o}=e.attrs,i={};let s=\"\";return t&&(s+=`font-family: ${t};`),n&&(s+=`font-size: ${n}pt;`),o&&(s+=`background-color: ${o};`),r&&(s+=`color: ${r};`),i.style=s,[\"span\",i]}};const{MARK_CODE:Vi,MARK_EM:qi,MARK_FONT_SIZE:Ki,MARK_FONT_TYPE:Gi,MARK_LINK:$i,MARK_NO_BREAK:Wi,MARK_STRIKE:Yi,MARK_STRONG:Xi,MARK_SUPER:Ji,MARK_SUB:Zi,MARK_TEXT_COLOR:Qi,MARK_TEXT_HIGHLIGHT:es,MARK_TEXT_SELECTION:ts,MARK_UNDERLINE:ns,MARK_SPACER:rs,MARK_CUSTOMSTYLES:is}=r,ss={[Wo]:bo,[ri]:_i,[ci]:Li},as={[$i]:Co,[Wi]:ji,[Vi]:co,[qi]:_o,[Ki]:wo,[Gi]:ko,[rs]:wi,[Yi]:Ei,[Xi]:xi,[Ji]:Bi,[Zi]:Ui,[Qi]:Di,[es]:Ii,[ts]:zi,[ns]:Hi,[is]:Fi};var cs=new Ve.Schema({nodes:ss,marks:as}).spec.marks;function ls(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function us(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ls(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ls(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ds=us(us({},_i),{},{defining:!0,parseDOM:[{tag:\"blockquote\",getAttrs:function(e){return bi(e)}}],toDOM:function(e){const t=yi(e);return t[0]=\"blockquote\",t}});var ps={inline:!0,attrs:{id:{default:null},visible:{default:null}},group:\"inline\",draggable:!0,parseDOM:[{tag:\"a[data-bookmark-id]\",getAttrs:function(e){return{id:e.getAttribute(\"data-bookmark-id\"),visible:\"true\"===e.getAttribute(\"data-bookmark-visible\")}}}],toDOM(e){const{id:t,visible:n}=e.attrs;return[\"a\",t?{\"data-bookmark-id\":t,\"data-bookmark-visible\":n,id:t}:{}]}};const fs=/(left|right|center|justify)/;var hs={attrs:{align:{default:null}},content:\"paragraph\",parseDOM:[{tag:\"li\",getAttrs:function(e){const t={},{textAlign:n}=e.style;let r=e.getAttribute(\"data-align\")||n||\"\";return r=fs.test(r)?r:null,r&&(t.align=r),t}}],toDOM(e){const t={},{align:n}=e.attrs;return n&&(t[\"data-align\"]=n),[\"li\",t,0]}};const ms=[\"disc\",\"square\",\"circle\"];var gs={attrs:{id:{default:null},indent:{default:0},listStyleType:{default:null},objectId:{default:null}},group:\"block\",content:ei+\"+\",parseDOM:[{tag:\"ul\",getAttrs(e){const t=e.getAttribute(\"data-list-style-type\")||null;return{indent:e.hasAttribute(\"data-indent\")?parseInt(e.getAttribute(\"data-indent\"),10):0,listStyleType:t,objectId:e.getAttribute(\"objectId\")||null}}}],toDOM(e){const{indent:t,listStyleType:n,objectId:r}=e.attrs,o={};o[\"data-indent\"]=t,n&&(o[\"data-list-style-type\"]=n);let i=n;return i&&\"disc\"!==i||(i=ms[t%ms.length]),o.type=i,o.objectId=r,[\"ul\",o,0]}};const ys=[\"br\"];var bs={inline:!0,group:\"inline\",selectable:!1,parseDOM:[{tag:\"br\"}],toDOM:()=>ys};const vs=window.lang?window.lang:\"en\";let _s={};function ws(e){return null!=vs&&vs in _s?e in _s[vs]?_s[vs][e]:e:_s.en[e]}function Es(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ss(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Es(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Es(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}_s.en={\"Insert Table...\":\"Insert Table...\",\"Fill Color...\":\"Fill Color...\",\"Border Color....\":\"Border Color....\",\"Insert Column Before\":\"Insert Column Before\",\"Insert Column After\":\"Insert Column After\",\"Delete Column\":\"Delete Column\",\"Insert Row Before\":\"Insert Row Before\",\"Insert Row After\":\"Insert Row After\",\"Delete Row\":\"Delete Row\",\"Merge Cells\":\"Merge Cells\",\"Split Row\":\"Split Cells\",\"Toggle Header Column\":\"Toggle Header Column\",\"Toggle Header Row\":\"Toggle Header Row\",\"Toggle Header Cells\":\"Toggle Header Cells\",\"Delete Table\":\"Delete Table\",\"[font_download] Font Type\":\"[font_download] Font Type\",\"[format_size] Text Size\":\"[format_size] Text Size\",\"[format_bold] Bold\":\"[format_bold] Bold\",\"[format_italic] Italic\":\"[format_italic] Italic\",\"[format_underline] Underline\":\"[format_underline] Underline\",\"[format_strikethrough] Strike through\":\"[format_strikethrough] Strike through\",\"[superscript] Superscript\":\"[superscript] Superscript\",\"[format_color_text] Text color\":\"[format_color_text] Text color\",\"[border_color] Highlight color\":\"[border_color] Highlight color\",\"[format_clear] Clear formats\":\"[format_clear] Clear formats\",\"[format_align_left] Left align\":\"[format_align_left] Left align\",\"[format_align_center] Center Align\":\"[format_align_center] Center Align\",\"[format_align_right] Right Align\":\"[format_align_right] Right Align\",\"[format_align_justify] Justify\":\"[format_align_justify] Justify\",\"[format_indent_increase] Indent more\":\"[format_indent_increase] Indent more\",\"[format_indent_decrease] Indent less\":\"[format_indent_decrease] Indent less\",\"[format_line_spacing] Line spacing\":\"[format_line_spacing] Line spacing\",\"[format_list_numbered] Ordered list\":\"[format_list_numbered] Ordered list\",\"[format_list_bulleted] Bulleted list\":\"[format_list_bulleted] Bulleted list\",\"[H1] Header 1\":\"[H1] Header 1\",\"[link] Apply link\":\"[link] Apply link\",\"[image] Insert image\":\"[image] Insert image\",\"Insert image by URL\":\"Insert image by URL\",\"Upload image from computer\":\"Upload image from computer\",\"[grid_on] Table...\":\"[grid_on] Table...\",\"[hr] Horizontal line\":\"[hr] Horizontal line\",\"[functions] Math\":\"[functions] Math\",\"[settings_overscan] Page layout\":\"[settings_overscan] Page layout\",\"[undo] Undo\":\"[undo] Undo\",\"[redo] Redo\":\"[redo] Redo\"},_s.zh={\"Insert Table...\":\"插入表格...\",\"Fill Color...\":\"背景顏色...\",\"Border Color....\":\"框線顏色....\",\"Insert Column Before\":\"向左插入一欄\",\"Insert Column After\":\"向右插入一欄\",\"Delete Column\":\"刪除一欄\",\"Insert Row Before\":\"向上插入一列\",\"Insert Row After\":\"向下插入一列\",\"Delete Row\":\"刪除一列\",\"Merge Cells\":\"合併儲存格\",\"Split Row\":\"取消合併儲存格\",\"Toggle Header Column\":\"加重表格欄\",\"Toggle Header Row\":\"加重表格列\",\"Toggle Header Cells\":\"加重儲存格\",\"Delete Table\":\"刪除表格\",\"[font_download] Font Type\":\"[font_download] 字型\",\"[format_size] Text Size\":\"[format_size] 字型大小\",\"[format_bold] Bold\":\"[format_bold] 粗體\",\"[format_italic] Italic\":\"[format_italic] 斜體\",\"[format_underline] Underline\":\"[format_underline] 底線\",\"[format_strikethrough] Strike through\":\"[format_strikethrough] 刪除線\",\"[superscript] Superscript\":\"[superscript] 上標\",\"[subscript] Subscript\":\"[subscript] 下標\",\"[format_color_text] Text color\":\"[format_color_text] 文字顏色\",\"[border_color] Highlight color\":\"[border_color] 醒目顯示顏色\",\"[format_clear] Clear formats\":\"[format_clear] 清除格式\",\"[format_align_left] Left align\":\"[format_align_left] 靠左對齊\",\"[format_align_center] Center Align\":\"[format_align_center] 置中對齊\",\"[format_align_right] Right Align\":\"[format_align_right] 靠右對齊\",\"[format_align_justify] Justify\":\"[format_align_justify] 左右對齊\",\"[format_indent_increase] Indent more\":\"[format_indent_increase] 增加縮排\",\"[format_indent_decrease] Indent less\":\"[format_indent_decrease] 減少縮排\",\"[format_line_spacing] Line spacing\":\"[format_line_spacing] 行距\",\"[format_list_numbered] Ordered list\":\"[format_list_numbered] 編號清單\",\"[format_list_bulleted] Bulleted list\":\"[format_list_bulleted] 項目符號清單\",\"[H1] Header 1\":\"[H1] 標題 1\",\"[link] Apply link\":\"[link] 插入連結\",\"[image] Insert image\":\"[image] 插入圖片\",\"Insert image by URL\":\"以網址插入圖片\",\"Upload image from computer\":\"上傳電腦中的圖片\",\"Insert Image\":\"插入圖片\",\"Paste URL of Image...\":\"貼上圖片網址...\",Insert:\"插入\",\"Only select image that you have confirmed the license to use\":\"請確認該連結為圖片網址\",\"[grid_on] Table...\":\"[grid_on] 表格...\",\"[hr] Horizontal line\":\"[hr] 水平線\",\"[functions] Math\":\"[functions] 方程式\",\"[settings_overscan] Page layout\":\"[settings_overscan] 頁面設定\",\"[undo] Undo\":\"[undo] 復原\",\"[redo] Redo\":\"[redo] 取消復原\",\"[print] Print\":\"[print] 列印\",Normal:\"一般文字\",\"Heading 1\":\"標題 1\",\"Heading 2\":\"標題 2\",\"Heading 3\":\"標題 3\",\"Heading 4\":\"標題 4\",Title:\"標題\",Subtitle:\"副標題\",Quote:\"引言\",Single:\"單行\",Double:\"雙行\",\"Page Layout\":\"頁面設定\",\"US Letter - Portrait\":\"US Letter - 直印\",\"US Letter - Landscape\":\"US Letter - 橫印\",\"A4 - Portrait\":\"A4 - 直印\",\"A4 - Landscape\":\"A4 - 橫印\",Cancel:\"取消\",Apply:\"確定\",\"Add a Link\":\"新增連結\",\"Paste a URL\":\"貼上連結\",Remove:\"移除\",Transparent:\"透明\",Default:\"預設\",\"Insert Math\":\"插入方程式\",Update:\"更新\",Operators:\"運算符號\",Structure:\"運算公式\",Symbols:\"特殊符號\",Trigonometry:\"三角函式\",Change:\"變更\",Inline:\"環繞文字\",\"Float left\":\"置左\",\"Float right\":\"置右\",\"Break text\":\"切段文字\",Edit:\"編輯\"};const Os={H1:1,H2:2,H3:3,H4:4,H5:5,H6:6},xs=[{name:[ws(\"Normal\")],level:0},{name:[ws(\"Heading 1\")],level:1},{name:[ws(\"Heading 2\")],level:2},{name:[ws(\"Heading 3\")],level:3},{name:[ws(\"Heading 4\")],level:4},{name:[ws(\"Title\")],customstyles:[{stylename:[ws(\"Title\")],strong:!0,em:!0,color:\"Black\"}]},{name:[ws(\"Subtitle\")],customstyles:[{stylename:[ws(\"Subtitle\")],strong:!0,em:!0,color:\"Grey\"}]}];function ks(e){const t=bi(e),n=Os[e.nodeName.toUpperCase()]||1;return t.level=n,t}var Cs=Ss(Ss({},_i),{},{attrs:Ss(Ss({},_i.attrs),{},{level:{default:1}}),defining:!0,parseDOM:[{tag:\"h1\",getAttrs:ks},{tag:\"h2\",getAttrs:ks},{tag:\"h3\",getAttrs:ks},{tag:\"h4\",getAttrs:ks},{tag:\"h5\",getAttrs:ks},{tag:\"h6\",getAttrs:ks}],toDOM:function(e){const t=yi(e),n=e.attrs.level||1;return t[0]=\"h\"+n,t}});var As={attrs:{pageBreak:{default:null}},group:\"block\",parseDOM:[{tag:\"hr\",getAttrs:function(e){const t={};return(e.getAttribute(\"data-page-break\")||\"always\"===e.style.pageBreakBefore)&&(t.pageBreak=!0),t}}],toDOM(e){const t={};return e.attrs.pageBreak&&(t[\"data-page-break\"]=\"true\"),[\"hr\",t]}};const Ts=/rotate\\(([0-9\\.]+)rad\\)/i,Ps=new Set([\"0%\",\"0pt\",\"0px\"]);var Ms={inline:!0,attrs:{align:{default:null},alt:{default:\"\"},crop:{default:null},height:{default:null},rotate:{default:null},src:{default:null},title:{default:\"\"},width:{default:null},objectId:{default:null}},group:\"inline\",draggable:!0,parseDOM:[{tag:\"img[src]\",getAttrs:function(e){const{cssFloat:t,display:n,marginTop:r,marginLeft:o}=e.style;let{width:i,height:s}=e.style,a=e.getAttribute(\"data-align\")||e.getAttribute(\"align\");a?a=/(left|right|center)/.test(a)?a:null:\"left\"!==t||n?\"right\"!==t||n?t||\"block\"!==n||(a=\"block\"):a=\"right\":a=\"left\",i=i||e.getAttribute(\"width\"),s=s||e.getAttribute(\"height\");let c=null,l=null;const{parentElement:u}=e;if(u instanceof HTMLElement){const e=u.style;if(\"inline-block\"===e.display&&\"hidden\"===e.overflow&&e.width&&e.height&&o&&!Ps.has(o)&&r&&!Ps.has(r)&&(c={width:parseInt(e.width,10)||0,height:parseInt(e.height,10)||0,left:parseInt(o,10)||0,top:parseInt(r,10)||0}),e.transform){const t=e.transform.match(Ts);t&&t[1]&&(l=parseFloat(t[1])||null)}}return{align:a,alt:e.getAttribute(\"alt\")||null,crop:c,height:parseInt(s,10)||null,rotate:l,src:e.getAttribute(\"src\")||null,title:e.getAttribute(\"title\")||null,width:parseInt(i,10)||null,objectId:e.getAttribute(\"objectId\")||null}}}],toDOM:e=>[\"img\",e.attrs]};function Rs(e){let t=e.getAttribute(\"data-align\")||e.getAttribute(\"align\");return t&&(t=/(left|right|center)/.test(t)?t:null),{align:t,latex:e.getAttribute(\"data-latex\")||null}}var Ds={inline:!0,attrs:{align:{default:null},latex:{default:\"\"}},group:\"inline\",draggable:!0,parseDOM:[{tag:\"math[data-latex]\",getAttrs:Rs},{tag:\"span[data-latex]\",getAttrs:Rs}],toDOM(e){const{align:t,latex:n}=e.attrs,r={};return t&&(r.align=t),n&&(r[\"data-latex\"]=n),[\"span\",r]}};const Is=[\"decimal\",\"lower-alpha\",\"lower-roman\"];var Ns={attrs:{id:{default:null},counterReset:{default:null},indent:{default:0},following:{default:null},listStyleType:{default:null},name:{default:null},start:{default:1},objectId:{default:null}},group:\"block\",content:ei+\"+\",parseDOM:[{tag:\"ol\",getAttrs(e){const t=e.getAttribute(\"data-list-style-type\"),n=e.getAttribute(\"data-counter-reset\")||void 0,r=e.hasAttribute(\"start\")?parseInt(e.getAttribute(\"start\"),10):1,o=e.hasAttribute(\"data-indent\")?parseInt(e.getAttribute(\"data-indent\"),10):0,i=e.getAttribute(\"name\")||void 0;return{counterReset:n,following:e.getAttribute(\"data-following\")||void 0,indent:o,listStyleType:t,name:i,start:r,objectId:e.getAttribute(\"objectId\")||null}}}],toDOM(e){const{start:t,indent:n,listStyleType:r,counterReset:o,following:i,name:s,objectId:a}=e.attrs,c={\"data-indent\":n};\"none\"===o&&(c[\"data-counter-reset\"]=o),i&&(c[\"data-following\"]=i),r&&(c[\"data-list-style-type\"]=r),1!==t&&(c.start=t),s&&(c.name=s),c.objectId=a;let l=r;l&&\"decimal\"!==l||(l=Is[n%Is.length]);const u=\"czi-counter-\"+n;return c.style=`--czi-counter-name: ${u};--czi-counter-reset: ${i?\"none\":t-1};--czi-list-style-type: `+l,c.type=l,[\"ol\",c,0]}},js=n(12);const Ls=new Set([\"0pt\",\"0px\"]),zs=Object(js.tableNodes)({tableGroup:\"block\",cellContent:\"block+\",cellAttributes:{borderColor:{default:null,getFromDOM(e){const{borderColor:t,borderWidth:n}=e.style;return Ls.has(n)?\"transparent\":t&&Ri(t)||null},setDOMAttr(e,t){e&&(t.style=(t.style||\"\")+`;border-color: ${e};`)}},background:{default:null,getFromDOM:e=>e.style.backgroundColor||null,setDOMAttr(e,t){e&&(t.style=(t.style||\"\")+`;background-color: ${e};`)}}}}),Bs=Object.assign({},zs.table,{attrs:{marginLeft:{default:null},objectId:{default:null}},parseDOM:[{tag:\"table\",getAttrs(e){const{marginLeft:t}=e.style,n=e.getAttribute(\"objectId\")||null;return t&&/\\d+px/.test(t)?{marginLeft:parseFloat(t),objectId:n}:{objectId:n}}}],toDOM(e){const{marginLeft:t,objectId:n}=e.attrs,r={};return r.objectId=n,t&&(r.style=`margin-left: ${t}px`),[\"table\",r,0]}});Object.assign(zs,{table:Bs});var Us=zs;const{BLOCKQUOTE:Hs,BOOKMARK:Fs,BULLET_LIST:Vs,DOC:qs,HARD_BREAK:Ks,HEADING:Gs,HORIZONTAL_RULE:$s,IMAGE:Ws,LIST_ITEM:Ys,MATH:Xs,ORDERED_LIST:Js,PARAGRAPH:Zs,TEXT:Qs}=o,ea={[qs]:bo,[Zs]:_i,[Hs]:ds,[$s]:As,[Gs]:Cs,[Qs]:Li,[Ws]:Ms,[Xs]:Ds,[Ks]:bs,[Vs]:gs,[Js]:Ns,[Ys]:hs,[Fs]:ps};var ta=new Ve.Schema({nodes:ea,marks:{}}).spec.nodes.append(Us);var na=new Ve.Schema({nodes:ta,marks:cs});function ra(e,t){return!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0)}function oa(e,t){for(;e;e=\"start\"==t?e.firstChild:e.lastChild)if(e.isTextblock)return!0;return!1}function ia(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function sa(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){var n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}function aa(e){for(var t=0;t<e.edgeCount;t++){var n=e.edge(t).type;if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function ca(e,t){var n=e.selection,r=n.$from,o=n.$to;if(e.selection instanceof Ye.NodeSelection&&e.selection.node.isBlock)return!(!r.parentOffset||!Object(io.h)(e.doc,r.pos))&&(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(t){var i=o.parentOffset==o.parent.content.size,s=e.tr;e.selection instanceof Ye.TextSelection&&s.deleteSelection();var a=0==r.depth?null:aa(r.node(-1).contentMatchAt(r.indexAfter(-1))),c=i&&a?[{type:a}]:null,l=Object(io.h)(s.doc,s.mapping.map(r.pos),1,c);c||l||!Object(io.h)(s.doc,s.mapping.map(r.pos),1,a&&[{type:a}])||(c=[{type:a}],l=!0),l&&(s.split(s.mapping.map(r.pos),1,c),i||r.parentOffset||r.parent.type==a||!r.node(-1).canReplace(r.index(-1),r.indexAfter(-1),Ve.Fragment.from(a.create(),r.parent))||s.setNodeMarkup(s.mapping.map(r.before()),a)),t(s.scrollIntoView())}return!0}function la(e,t,n){var r,o,i=t.nodeBefore,s=t.nodeAfter;if(i.type.spec.isolating||s.type.spec.isolating)return!1;if(function(e,t,n){var r=t.nodeBefore,o=t.nodeAfter,i=t.index();return!!(r&&o&&r.type.compatibleContent(o.type))&&(!r.content.size&&t.parent.canReplace(i-1,i)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!(!t.parent.canReplace(i,i+1)||!o.isTextblock&&!Object(io.g)(e.doc,t.pos))&&(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),!0))}(e,t,n))return!0;if(t.parent.canReplace(t.index(),t.index()+1)&&(r=(o=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&o.matchType(r[0]||s.type).validEnd){if(n){for(var a=t.pos+s.nodeSize,c=Ve.Fragment.empty,l=r.length-1;l>=0;l--)c=Ve.Fragment.from(r[l].create(null,c));c=Ve.Fragment.from(i.copy(c));var u=e.tr.step(new io.b(t.pos-1,a,t.pos,a,new Ve.Slice(c,1,0),r.length,!0)),d=a+2*r.length;Object(io.g)(u.doc,d)&&u.join(d),n(u.scrollIntoView())}return!0}var p=Ye.Selection.findFrom(t,1),f=p&&p.$from.blockRange(p.$to),h=f&&Object(io.l)(f);return null!=h&&h>=t.depth&&(n&&n(e.tr.lift(f,h).scrollIntoView()),!0)}function ua(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return function(t,n,r){for(var o=0;o<e.length;o++)if(e[o](t,n,r))return!0;return!1}}var da=ua(ra,(function(e,t,n){var r=e.selection.$cursor;if(!r||(n?!n.endOfTextblock(\"backward\",e):r.parentOffset>0))return!1;var o=ia(r);if(!o){var i=r.blockRange(),s=i&&Object(io.l)(i);return null!=s&&(t&&t(e.tr.lift(i,s).scrollIntoView()),!0)}var a=o.nodeBefore;if(!a.type.spec.isolating&&la(e,o,t))return!0;if(0==r.parent.content.size&&(oa(a,\"end\")||Ye.NodeSelection.isSelectable(a))){if(t){var c=e.tr.deleteRange(r.before(),r.after());c.setSelection(oa(a,\"end\")?Ye.Selection.findFrom(c.doc.resolve(c.mapping.map(o.pos,-1)),-1):Ye.NodeSelection.create(c.doc,o.pos-a.nodeSize)),t(c.scrollIntoView())}return!0}return!(!a.isAtom||o.depth!=r.depth-1)&&(t&&t(e.tr.delete(o.pos-a.nodeSize,o.pos).scrollIntoView()),!0)}),(function(e,t,n){var r=e.selection,o=r.$head,i=o;if(!r.empty)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock(\"backward\",e):o.parentOffset>0)return!1;i=ia(o)}var s=i&&i.nodeBefore;return!(!s||!Ye.NodeSelection.isSelectable(s))&&(t&&t(e.tr.setSelection(Ye.NodeSelection.create(e.doc,i.pos-s.nodeSize)).scrollIntoView()),!0)})),pa=ua(ra,(function(e,t,n){var r=e.selection.$cursor;if(!r||(n?!n.endOfTextblock(\"forward\",e):r.parentOffset<r.parent.content.size))return!1;var o=sa(r);if(!o)return!1;var i=o.nodeAfter;if(la(e,o,t))return!0;if(0==r.parent.content.size&&(oa(i,\"start\")||Ye.NodeSelection.isSelectable(i))){if(t){var s=e.tr.deleteRange(r.before(),r.after());s.setSelection(oa(i,\"start\")?Ye.Selection.findFrom(s.doc.resolve(s.mapping.map(o.pos)),1):Ye.NodeSelection.create(s.doc,s.mapping.map(o.pos))),t(s.scrollIntoView())}return!0}return!(!i.isAtom||o.depth!=r.depth-1)&&(t&&t(e.tr.delete(o.pos,o.pos+i.nodeSize).scrollIntoView()),!0)}),(function(e,t,n){var r=e.selection,o=r.$head,i=o;if(!r.empty)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock(\"forward\",e):o.parentOffset<o.parent.content.size)return!1;i=sa(o)}var s=i&&i.nodeAfter;return!(!s||!Ye.NodeSelection.isSelectable(s))&&(t&&t(e.tr.setSelection(Ye.NodeSelection.create(e.doc,i.pos)).scrollIntoView()),!0)})),fa={Enter:ua((function(e,t){var n=e.selection,r=n.$head,o=n.$anchor;return!(!r.parent.type.spec.code||!r.sameParent(o))&&(t&&t(e.tr.insertText(\"\\n\").scrollIntoView()),!0)}),(function(e,t){var n=e.selection,r=n.$from,o=n.$to;if(r.parent.inlineContent||o.parent.inlineContent)return!1;var i=aa(r.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(t){var s=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,a=e.tr.insert(s,i.createAndFill());a.setSelection(Ye.TextSelection.create(a.doc,s+1)),t(a.scrollIntoView())}return!0}),(function(e,t){var n=e.selection.$cursor;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){var r=n.before();if(Object(io.h)(e.doc,r))return t&&t(e.tr.split(r).scrollIntoView()),!0}var o=n.blockRange(),i=o&&Object(io.l)(o);return null!=i&&(t&&t(e.tr.lift(o,i).scrollIntoView()),!0)}),ca),\"Mod-Enter\":function(e,t){var n=e.selection,r=n.$head,o=n.$anchor;if(!r.parent.type.spec.code||!r.sameParent(o))return!1;var i=r.node(-1),s=r.indexAfter(-1),a=aa(i.contentMatchAt(s));if(!i.canReplaceWith(s,s,a))return!1;if(t){var c=r.after(),l=e.tr.replaceWith(c,c,a.createAndFill());l.setSelection(Ye.Selection.near(l.doc.resolve(c),1)),t(l.scrollIntoView())}return!0},Backspace:da,\"Mod-Backspace\":da,Delete:pa,\"Mod-Delete\":pa,\"Mod-a\":function(e,t){return t&&t(e.tr.setSelection(new Ye.AllSelection(e.doc))),!0}},ha={\"Ctrl-h\":fa.Backspace,\"Alt-Backspace\":fa[\"Mod-Backspace\"],\"Ctrl-d\":fa.Delete,\"Ctrl-Alt-Backspace\":fa[\"Mod-Delete\"],\"Alt-Delete\":fa[\"Mod-Delete\"],\"Alt-d\":fa[\"Mod-Delete\"]};for(var ma in fa)ha[ma]=fa[ma];var ga=(\"undefined\"!=typeof navigator?/Mac/.test(navigator.platform):\"undefined\"!=typeof os&&\"darwin\"==os.platform())?ha:fa;var ya=function(e,t){var n=this;this.editorView=e,this.width=t.width||1,this.color=t.color||\"black\",this.class=t.class,this.cursorPos=null,this.element=null,this.timeout=null,this.handlers=[\"dragover\",\"dragend\",\"drop\",\"dragleave\"].map((function(t){var r=function(e){return n[t](e)};return e.dom.addEventListener(t,r),{name:t,handler:r}}))};ya.prototype.destroy=function(){var e=this;this.handlers.forEach((function(t){var n=t.name,r=t.handler;return e.editorView.dom.removeEventListener(n,r)}))},ya.prototype.update=function(e,t){null!=this.cursorPos&&t.doc!=e.state.doc&&this.updateOverlay()},ya.prototype.setCursor=function(e){e!=this.cursorPos&&(this.cursorPos=e,null==e?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())},ya.prototype.updateOverlay=function(){var e,t=this.editorView.state.doc.resolve(this.cursorPos);if(!t.parent.inlineContent){var n=t.nodeBefore,r=t.nodeAfter;if(n||r){var o=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0)).getBoundingClientRect(),i=n?o.bottom:o.top;n&&r&&(i=(i+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),e={left:o.left,right:o.right,top:i-this.width/2,bottom:i+this.width/2}}}if(!e){var s=this.editorView.coordsAtPos(this.cursorPos);e={left:s.left-this.width/2,right:s.left+this.width/2,top:s.top,bottom:s.bottom}}var a=this.editorView.dom.offsetParent;this.element||(this.element=a.appendChild(document.createElement(\"div\")),this.class&&(this.element.className=this.class),this.element.style.cssText=\"position: absolute; z-index: 50; pointer-events: none; background-color: \"+this.color);var c=!a||a==document.body&&\"static\"==getComputedStyle(a).position?{left:-pageXOffset,top:-pageYOffset}:a.getBoundingClientRect();this.element.style.left=e.left-c.left+\"px\",this.element.style.top=e.top-c.top+\"px\",this.element.style.width=e.right-e.left+\"px\",this.element.style.height=e.bottom-e.top+\"px\"},ya.prototype.scheduleRemoval=function(e){var t=this;clearTimeout(this.timeout),this.timeout=setTimeout((function(){return t.setCursor(null)}),e)},ya.prototype.dragover=function(e){if(this.editorView.editable){var t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY});if(t){var n=t.pos;this.editorView.dragging&&this.editorView.dragging.slice&&null==(n=Object(io.i)(this.editorView.state.doc,n,this.editorView.dragging.slice))&&(n=t.pos),this.setCursor(n),this.scheduleRemoval(5e3)}}},ya.prototype.dragend=function(){this.scheduleRemoval(20)},ya.prototype.drop=function(){this.scheduleRemoval(20)},ya.prototype.dragleave=function(e){e.target!=this.editorView.dom&&this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)};var ba=n(25),va=function(e){function t(t){e.call(this,t,t)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(n,r){var o=n.resolve(r.map(this.head));return t.valid(o)?new t(o):e.near(o)},t.prototype.content=function(){return Ve.Slice.empty},t.prototype.eq=function(e){return e instanceof t&&e.head==this.head},t.prototype.toJSON=function(){return{type:\"gapcursor\",pos:this.head}},t.fromJSON=function(e,n){if(\"number\"!=typeof n.pos)throw new RangeError(\"Invalid input for GapCursor.fromJSON\");return new t(e.resolve(n.pos))},t.prototype.getBookmark=function(){return new _a(this.anchor)},t.valid=function(e){var t=e.parent;if(t.isTextblock||!function(e){for(var t=e.depth;t>=0;t--){var n=e.index(t);if(0!=n)for(var r=e.node(t).child(n-1);;r=r.lastChild){if(0==r.childCount&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}(e)||!function(e){for(var t=e.depth;t>=0;t--){var n=e.indexAfter(t),r=e.node(t);if(n!=r.childCount)for(var o=r.child(n);;o=o.firstChild){if(0==o.childCount&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}(e))return!1;var n=t.type.spec.allowGapCursor;if(null!=n)return n;var r=t.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock},t.findFrom=function(e,n,r){e:for(;;){if(!r&&t.valid(e))return e;for(var o=e.pos,i=null,s=e.depth;;s--){var a=e.node(s);if(n>0?e.indexAfter(s)<a.childCount:e.index(s)>0){i=a.child(n>0?e.indexAfter(s):e.index(s)-1);break}if(0==s)return null;o+=n;var c=e.doc.resolve(o);if(t.valid(c))return c}for(;;){var l=n>0?i.firstChild:i.lastChild;if(!l){if(i.isAtom&&!i.isText&&!Ye.NodeSelection.isSelectable(i)){e=e.doc.resolve(o+i.nodeSize*n),r=!1;continue e}break}i=l,o+=n;var u=e.doc.resolve(o);if(t.valid(u))return u}return null}},t}(Ye.Selection);va.prototype.visible=!1,Ye.Selection.jsonID(\"gapcursor\",va);var _a=function(e){this.pos=e};_a.prototype.map=function(e){return new _a(e.map(this.pos))},_a.prototype.resolve=function(e){var t=e.resolve(this.pos);return va.valid(t)?new va(t):Ye.Selection.near(t)};var wa=Object(ba.a)({ArrowLeft:Ea(\"horiz\",-1),ArrowRight:Ea(\"horiz\",1),ArrowUp:Ea(\"vert\",-1),ArrowDown:Ea(\"vert\",1)});function Ea(e,t){var n=\"vert\"==e?t>0?\"down\":\"up\":t>0?\"right\":\"left\";return function(e,r,o){var i=e.selection,s=t>0?i.$to:i.$from,a=i.empty;if(i instanceof Ye.TextSelection){if(!o.endOfTextblock(n)||0==s.depth)return!1;a=!1,s=e.doc.resolve(t>0?s.after():s.before())}var c=va.findFrom(s,t,a);return!!c&&(r&&r(e.tr.setSelection(new va(c))),!0)}}function Sa(e,t,n){if(!e.editable)return!1;var r=e.state.doc.resolve(t);if(!va.valid(r))return!1;var o=e.posAtCoords({left:n.clientX,top:n.clientY}).inside;return!(o>-1&&Ye.NodeSelection.isSelectable(e.state.doc.nodeAt(o)))&&(e.dispatch(e.state.tr.setSelection(new va(r))),!0)}function Oa(e){if(!(e.selection instanceof va))return null;var t=document.createElement(\"div\");return t.className=\"ProseMirror-gapcursor\",so.b.create(e.doc,[so.a.widget(e.selection.head,t,{key:\"gapcursor\"})])}var xa=function(){};xa.prototype.append=function(e){return e.length?(e=xa.from(e),!this.length&&e||e.length<200&&this.leafAppend(e)||this.length<200&&e.leafPrepend(this)||this.appendInner(e)):this},xa.prototype.prepend=function(e){return e.length?xa.from(e).append(this):this},xa.prototype.appendInner=function(e){return new Ca(this,e)},xa.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?xa.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},xa.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},xa.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},xa.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(t,n){return r.push(e(t,n))}),t,n),r},xa.from=function(e){return e instanceof xa?e:e&&e.length?new ka(e):xa.empty};var ka=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,r){for(var o=t;o<n;o++)if(!1===e(this.values[o],r+o))return!1},t.prototype.forEachInvertedInner=function(e,t,n,r){for(var o=t-1;o>=n;o--)if(!1===e(this.values[o],r+o))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=200)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=200)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(xa);xa.empty=new ka([]);var Ca=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,r){var o=this.left.length;return!(t<o&&!1===this.left.forEachInner(e,t,Math.min(n,o),r))&&(!(n>o&&!1===this.right.forEachInner(e,Math.max(t-o,0),Math.min(this.length,n)-o,r+o))&&void 0)},t.prototype.forEachInvertedInner=function(e,t,n,r){var o=this.left.length;return!(t>o&&!1===this.right.forEachInvertedInner(e,t-o,Math.max(n,o)-o,r+o))&&(!(n<o&&!1===this.left.forEachInvertedInner(e,Math.min(t,o),n,r))&&void 0)},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(xa),Aa=xa,Ta=function(e,t){this.items=e,this.eventCount=t};Ta.prototype.popEvent=function(e,t){var n=this;if(0==this.eventCount)return null;for(var r,o,i=this.items.length;;i--){if(this.items.get(i-1).selection){--i;break}}t&&(r=this.remapping(i,this.items.length),o=r.maps.length);var s,a,c=e.tr,l=[],u=[];return this.items.forEach((function(e,t){if(!e.step)return r||(r=n.remapping(i,t+1),o=r.maps.length),o--,void u.push(e);if(r){u.push(new Pa(e.map));var d,p=e.step.map(r.slice(o));p&&c.maybeStep(p).doc&&(d=c.mapping.maps[c.mapping.maps.length-1],l.push(new Pa(d,null,null,l.length+u.length))),o--,d&&r.appendMap(d,o)}else c.maybeStep(e.step);return e.selection?(s=r?e.selection.map(r.slice(o)):e.selection,a=new Ta(n.items.slice(0,i).append(u.reverse().concat(l)),n.eventCount-1),!1):void 0}),this.items.length,0),{remaining:a,transform:c,selection:s}},Ta.prototype.addTransform=function(e,t,n,r){for(var o=[],i=this.eventCount,s=this.items,a=!r&&s.length?s.get(s.length-1):null,c=0;c<e.steps.length;c++){var l,u=e.steps[c].invert(e.docs[c]),d=new Pa(e.mapping.maps[c],u,t);(l=a&&a.merge(d))&&(d=l,c?o.pop():s=s.slice(0,s.length-1)),o.push(d),t&&(i++,t=null),r||(a=d)}var p,f,h,m=i-n.depth;return m>Ra&&(f=m,(p=s).forEach((function(e,t){if(e.selection&&0==f--)return h=t,!1})),s=p.slice(h),i-=m),new Ta(s.append(o),i)},Ta.prototype.remapping=function(e,t){var n=new io.a;return this.items.forEach((function(t,r){var o=null!=t.mirrorOffset&&r-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:null;n.appendMap(t.map,o)}),e,t),n},Ta.prototype.addMaps=function(e){return 0==this.eventCount?this:new Ta(this.items.append(e.map((function(e){return new Pa(e)}))),this.eventCount)},Ta.prototype.rebased=function(e,t){if(!this.eventCount)return this;var n=[],r=Math.max(0,this.items.length-t),o=e.mapping,i=e.steps.length,s=this.eventCount;this.items.forEach((function(e){e.selection&&s--}),r);var a=t;this.items.forEach((function(t){var r=o.getMirror(--a);if(null!=r){i=Math.min(i,r);var c=o.maps[r];if(t.step){var l=e.steps[r].invert(e.docs[r]),u=t.selection&&t.selection.map(o.slice(a+1,r));u&&s++,n.push(new Pa(c,l,u))}else n.push(new Pa(c))}}),r);for(var c=[],l=t;l<i;l++)c.push(new Pa(o.maps[l]));var u=this.items.slice(0,r).append(c).append(n),d=new Ta(u,s);return d.emptyItemCount()>500&&(d=d.compress(this.items.length-n.length)),d},Ta.prototype.emptyItemCount=function(){var e=0;return this.items.forEach((function(t){t.step||e++})),e},Ta.prototype.compress=function(e){void 0===e&&(e=this.items.length);var t=this.remapping(0,e),n=t.maps.length,r=[],o=0;return this.items.forEach((function(i,s){if(s>=e)r.push(i),i.selection&&o++;else if(i.step){var a=i.step.map(t.slice(n)),c=a&&a.getMap();if(n--,c&&t.appendMap(c,n),a){var l=i.selection&&i.selection.map(t.slice(n));l&&o++;var u,d=new Pa(c.invert(),a,l),p=r.length-1;(u=r.length&&r[p].merge(d))?r[p]=u:r.push(d)}}else i.map&&n--}),this.items.length,0),new Ta(Aa.from(r.reverse()),o)},Ta.empty=new Ta(Aa.empty,0);var Pa=function(e,t,n,r){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=r};Pa.prototype.merge=function(e){if(this.step&&e.step&&!e.selection){var t=e.step.merge(this.step);if(t)return new Pa(t.getMap().invert(),t,this.selection)}};var Ma=function(e,t,n,r){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=r},Ra=20;function Da(e){var t=[];return e.forEach((function(e,n,r,o){return t.push(r,o)})),t}function Ia(e,t){if(!e)return null;for(var n=[],r=0;r<e.length;r+=2){var o=t.map(e[r],1),i=t.map(e[r+1],-1);o<=i&&n.push(o,i)}return n}function Na(e,t,n,r){var o=za(t),i=Ba.get(t).spec.config,s=(r?e.undone:e.done).popEvent(t,o);if(s){var a=s.selection.resolve(s.transform.doc),c=(r?e.done:e.undone).addTransform(s.transform,t.selection.getBookmark(),i,o),l=new Ma(r?c:s.remaining,r?s.remaining:c,null,0);n(s.transform.setSelection(a).setMeta(Ba,{redo:r,historyState:l}).scrollIntoView())}}var ja=!1,La=null;function za(e){var t=e.plugins;if(La!=t){ja=!1,La=t;for(var n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){ja=!0;break}}return ja}var Ba=new Ye.PluginKey(\"history\"),Ua=new Ye.PluginKey(\"closeHistory\");function Ha(e){return e={depth:e&&e.depth||100,newGroupDelay:e&&e.newGroupDelay||500},new Ye.Plugin({key:Ba,state:{init:function(){return new Ma(Ta.empty,Ta.empty,null,0)},apply:function(t,n,r){return function(e,t,n,r){var o,i=n.getMeta(Ba);if(i)return i.historyState;n.getMeta(Ua)&&(e=new Ma(e.done,e.undone,null,0));var s=n.getMeta(\"appendedTransaction\");if(0==n.steps.length)return e;if(s&&s.getMeta(Ba))return s.getMeta(Ba).redo?new Ma(e.done.addTransform(n,null,r,za(t)),e.undone,Da(n.mapping.maps[n.steps.length-1]),e.prevTime):new Ma(e.done,e.undone.addTransform(n,null,r,za(t)),null,e.prevTime);if(!1===n.getMeta(\"addToHistory\")||s&&!1===s.getMeta(\"addToHistory\"))return(o=n.getMeta(\"rebased\"))?new Ma(e.done.rebased(n,o),e.undone.rebased(n,o),Ia(e.prevRanges,n.mapping),e.prevTime):new Ma(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),Ia(e.prevRanges,n.mapping),e.prevTime);var a=0==e.prevTime||!s&&(e.prevTime<(n.time||0)-r.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;var n=!1;return e.mapping.maps[0].forEach((function(e,r){for(var o=0;o<t.length;o+=2)e<=t[o+1]&&r>=t[o]&&(n=!0)})),n}(n,e.prevRanges)),c=s?Ia(e.prevRanges,n.mapping):Da(n.mapping.maps[n.steps.length-1]);return new Ma(e.done.addTransform(n,a?t.selection.getBookmark():null,r,za(t)),Ta.empty,c,n.time)}(n,r,t,e)}},config:e})}function Fa(e){const{doc:t}=e,{nodeSize:n}=t;if(n<2){const e=t.textContent;return!e||\" \"===e}if(n<10){let e=!0;return t.nodesBetween(0,t.nodeSize-2,(n,r)=>{if(e){const r=n.type;if(r.isText){const n=t.textContent;e=!n||\" \"===n||\"​\"===n}else r.isAtom&&(e=!1)}return e}),e}return!1}n(142);class Va{constructor(e){f()(this,\"_el\",null),f()(this,\"_focused\",null),f()(this,\"_view\",null),f()(this,\"_visible\",null),f()(this,\"_checkFocus\",()=>{const e=this._el;if(!this._view||!e)return;const t=document,n=t.activeElement,r=this._getBodyElement();!n||!r||t.hasFocus&&!t.hasFocus()?this._onBlur():n===r||r.contains(n)||n===r.parentNode?this._onFocus():this._onBlur()});const t=document.createElement(\"div\");this._el=t,this._view=e,t.className=\"czi-editor-content-placeholder\",e.dom.parentNode.appendChild(t),document.addEventListener(\"focusin\",this._checkFocus,!0),document.addEventListener(\"focusout\",this._checkFocus,!1),this.update(e),this._checkFocus()}update(e){this._view=e;const t=this._el;if(!t||!e)return;if(this._focused||!Fa(e.state))return void this._hide();const n=t.parentNode,r=this._getBodyElement(),o=e.placeholder;if(!n||!r||!o)return;this._visible=!0,e.dom.classList.add(\"czi-has-placeholder\");const i=n.getBoundingClientRect(),s=r.getBoundingClientRect(),a=window.getComputedStyle(r),l=s.left-i.left,u=s.top-i.top;t.style.left=l+\"px\",t.style.top=u+\"px\",t.style.padding=a.padding,t.style.display=\"block\",t.style.width=r.offsetWidth+\"px\",d.a.render(c.createElement(\"div\",null,o),t)}destroy(){this._hide();const e=this._el;e&&(e.parentNode&&e.parentNode.removeChild(e),d.a.unmountComponentAtNode(e)),document.removeEventListener(\"focusin\",this._checkFocus,!0),document.removeEventListener(\"focusout\",this._checkFocus,!1),this._view=null,this._el=null,this._focused=!1,this._visible=!1}_onFocus(){!0!==this._focused&&(this._focused=!0,this._hide())}_onBlur(){const e=this._view;!1!==this._focused&&(this._focused=!1,e&&Fa(e.state)?this._show():this._hide())}_getBodyElement(){const e=this._view;return e&&e.docView&&e.docView.dom&&e.docView.dom.firstChild}_show(){if(!0!==this._visible){const e=this._el,t=this._view;this._visible=!0,e&&(e.style.display=\"block\"),t&&(this.update(t),t.dom.classList.add(\"czi-has-placeholder\"))}}_hide(){if(!1!==this._visible){const e=this._el,t=this._view;this._visible=!1,e&&(e.style.display=\"none\"),t&&t.dom.classList.remove(\"czi-has-placeholder\")}}}class qa extends Ye.Plugin{constructor(){super({key:new Ye.PluginKey(\"ContentPlaceholderPlugin\"),view:e=>new Va(e)})}}var Ka=qa;n(302);const Ga={name:\"CursorPlaceholderPlugin\"};let $a=null;const Wa={key:new Ye.PluginKey(\"CursorPlaceholderPlugin\"),state:{init:()=>so.b.empty,apply(e,t){t=t.map(e.mapping,e.doc);const n=e.getMeta(this);if(!n)return t;if(n.add){const r=document.createElement(\"czi-cursor-placeholder\");r.className=\"czi-cursor-placeholder\";const o=so.a.widget(n.add.pos,r,{id:Ga});t=t.add(e.doc,[o])}else if(n.remove){const e=t.find(null,null,Xa);t=t.remove(e)}return t}},props:{decorations:e=>$a?$a.getState(e):null}};class Ya extends Ye.Plugin{constructor(){if(super(Wa),$a)return $a;$a=this}}function Xa(e){return e.id===Ga}function Ja(e){if(!$a)return null;const t=$a.getState(e).find(null,null,Xa);return(t.length?t[0].from:null)||null}function Za(e){const t=$a;let{tr:n}=e;if(!t||!n.selection)return n;return null===Ja(e)&&(n.selection.empty||(n=n.deleteSelection()),n=n.setMeta(t,{add:{pos:n.selection.from}})),n}function Qa(e){const t=$a;let{tr:n}=e;if(!t)return n;return null!==Ja(e)&&(n=n.setMeta(t,{remove:{}})),n}var ec=Ya;const tc={key:new Ye.PluginKey(\"EditorPageLayoutPlugin\"),props:{attributes:function(e){const{doc:t}=e,n={class:\"czi-prosemirror-editor\"},{width:r,padding:o,layout:i}=t.attrs;let s,a=\"\";if(r){const e=r/72,t=2.54*e;!s&&e>=10.9&&e<=11.1?s=ho:!s&&e>=8.4&&e<=8.6?s=mo:!s&&t>=29.5&&t<=30.1?s=go:!s&&t>=20.5&&t<=21.5?s=yo:a+=`width: ${r}pt;`,o&&(a+=`padding-left: ${o}pt;`,a+=`padding-right: ${o}pt;`),n.style=a}else s=i;s&&(n[\"data-layout\"]=s);return n}}};class nc extends Ye.Plugin{constructor(){super(tc)}}var rc=nc,oc=n(9),ic=n.n(oc),sc=\"undefined\"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||\"undefined\"!=typeof msCrypto&&\"function\"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),ac=new Uint8Array(16);function cc(){if(!sc)throw new Error(\"crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported\");return sc(ac)}for(var lc=[],uc=0;uc<256;++uc)lc.push((uc+256).toString(16).substr(1));var dc,pc,fc=function(e,t){var n=t||0;return(lc[e[n+0]]+lc[e[n+1]]+lc[e[n+2]]+lc[e[n+3]]+\"-\"+lc[e[n+4]]+lc[e[n+5]]+\"-\"+lc[e[n+6]]+lc[e[n+7]]+\"-\"+lc[e[n+8]]+lc[e[n+9]]+\"-\"+lc[e[n+10]]+lc[e[n+11]]+lc[e[n+12]]+lc[e[n+13]]+lc[e[n+14]]+lc[e[n+15]]).toLowerCase()},hc=0,mc=0;var gc=function(e,t,n){var r=t&&n||0,o=t||new Array(16),i=(e=e||{}).node||dc,s=void 0!==e.clockseq?e.clockseq:pc;if(null==i||null==s){var a=e.random||(e.rng||cc)();null==i&&(i=dc=[1|a[0],a[1],a[2],a[3],a[4],a[5]]),null==s&&(s=pc=16383&(a[6]<<8|a[7]))}var c=void 0!==e.msecs?e.msecs:Date.now(),l=void 0!==e.nsecs?e.nsecs:mc+1,u=c-hc+(l-mc)/1e4;if(u<0&&void 0===e.clockseq&&(s=s+1&16383),(u<0||c>hc)&&void 0===e.nsecs&&(l=0),l>=1e4)throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");hc=c,mc=l,pc=s;var d=(1e4*(268435455&(c+=122192928e5))+l)%4294967296;o[r++]=d>>>24&255,o[r++]=d>>>16&255,o[r++]=d>>>8&255,o[r++]=255&d;var p=c/4294967296*1e4&268435455;o[r++]=p>>>8&255,o[r++]=255&p,o[r++]=p>>>24&15|16,o[r++]=p>>>16&255,o[r++]=s>>>8|128,o[r++]=255&s;for(var f=0;f<6;++f)o[r+f]=i[f];return t||fc(o)};function yc(){return gc()}n(303);const bc=new Set([\"image/jpeg\",\"image/gif\",\"image/png\",\"image/jpg\"]),vc=new Array(4).join('<div class=\"czi-image-upload-placeholder-child\"></div>');function _c(e){return e instanceof Sc}function wc(e){return e&&bc.has(e.type)}function Ec(e,t,n){const{runtime:r,state:o,readOnly:i,disabled:s}=e,{schema:a,plugins:c}=o;if(i||s||!r||!r.canUploadImage)return!1;const l=a.nodes[Zo];if(!l)return!1;const{uploadImage:u,canUploadImage:d}=r;if(!u||!d)return!1;const p=Array.from(t).filter(wc);if(!p.length)return!1;const f=c.find(_c);if(!f)return!1;const h={debugId:\"image_upload_\"+yc()},m=(g=()=>{const t=t=>{const n=function(e,t,n){const r=e.getState(t).find(null,null,e=>e.id===n);return r.length?r[0].from:null}(f,e.state,h);let r=e.state.tr;if(!n||e.readOnly||e.disabled)p.length=0;else{const e=l.create(t);r=r.replaceWith(n,n,e)}p.length?m():r=r.setMeta(f,{remove:{id:h}}),e.dispatch(r)},n=ic()(p.shift());u(n).then(t).catch(t.bind(null,{src:null}))},()=>{setTimeout(g,0)});var g;m();let{tr:y}=o,b=0;if(n){const t=e.posAtCoords({left:n.x,top:n.y});if(!t)return!1;b=t.pos,y=y.setSelection(Ye.TextSelection.create(y.doc,b,b))}else b=y.selection.to,y=y.setSelection(Ye.TextSelection.create(y.doc,b,b));const v={add:{id:h,pos:b}};return y=y.setMeta(f,v),e.dispatch(y),!0}class Sc extends Ye.Plugin{constructor(){super({key:new Ye.PluginKey(\"ImageUploadPlaceholderPlugin\"),state:{init:()=>so.b.empty,apply(e,t){t=t.map(e.mapping,e.doc);const n=e.getMeta(this);if(n&&n.add){const r=document.createElement(\"div\");r.title=\"Uploading...\",r.className=\"czi-image-upload-placeholder\",r.innerHTML=vc;const o=so.a.widget(n.add.pos,r,{id:n.add.id});t=t.add(e.doc,[o])}else if(n&&n.remove){const e=e=>e.id==n.remove.id;t=t.remove(t.find(null,null,e))}return t}},props:{decorations(e){return this.getState(e)}}})}}var Oc=Sc;n(304);const xc={name:\"SelectionPlaceholderPlugin\"};let kc=null;const Cc={key:new Ye.PluginKey(\"SelectionPlaceholderPlugin\"),state:{init:()=>so.b.empty,apply(e,t){t=t.map(e.mapping,e.doc);const n=e.getMeta(this);if(!n)return t;if(n.add){const r=so.a.inline(n.add.from,n.add.to,{class:\"czi-selection-placeholder\"},{id:xc});t=t.add(e.doc,[r])}else if(n.remove){const e=t.find(null,null,Tc);t=t.remove(e)}return t}},props:{decorations:e=>kc?kc.getState(e):null}};class Ac extends Ye.Plugin{constructor(){if(super(Cc),kc)return kc;kc=this}}function Tc(e){return e.id==xc}function Pc(e){if(!kc)return null;if(!e.plugins.includes(kc))return console.warn(\"SelectionPlaceholderPlugin is not installed\"),null;const t=kc.getState(e).find(null,null,Tc);return(t.length?t[0]:null)||null}function Mc(e,t){t=t||e.tr;const n=kc;if(!n||!t.selection||t.selection.empty)return t;return null===Pc(e)&&(t=t.setMeta(n,{add:{from:t.selection.from,to:t.selection.to}})),t}function Rc(e,t){t=t||e.tr;const n=kc;if(!n)return t;return Pc(e)&&(t=t.setMeta(n,{remove:{}})),t}var Dc=Ac;function Ic(e,t,n,r){if(!e.selection||!e.doc||!n)return e;const{empty:o,$cursor:i,ranges:s}=e.selection;if(o&&!i||!function(e,t,n){for(let r=0;r<t.length;r++){const{$from:o,$to:i}=t[r];let s=0==o.depth&&e.type.allowsMarkType(n);if(e.nodesBetween(o.pos,i.pos,e=>!s&&(s=e.inlineContent&&e.type.allowsMarkType(n),!0)),s)return!0}return!1}(e.doc,s,n))return e;if(i)return e=e.removeStoredMark(n),r?e.addStoredMark(n.create(r)):e;let a=!1;for(let t=0;!a&&t<s.length;t++){const{$from:r,$to:o}=s[t];a=e.doc.rangeHasMark(r.pos,o.pos,n)}for(let t=0;t<s.length;t++){const{$from:o,$to:i}=s[t];a&&(e=e.removeMark(o.pos,i.pos,n)),r&&(e=e.addMark(o.pos,i.pos,n.create(r)))}return e}function Nc(e,t,n,r){let o=t;const i=e=>e.type===r;let s=null,a=null,c=null;for(;o<=n;){const t=e.nodeAt(o);if(!t||!t.marks)return null;const n=t.marks.find(i);if(!n)return null;if(s&&n!==s)return null;a=a||t,s=s||n,c=t,o++}let l=t,u=n,d=0;for(o=t-1;o>d;){const t=e.nodeAt(o),n=t&&t.marks.find(i);if(!n||n!==s)break;l=o,a=t,o--}for(o=n+1,d=e.nodeSize-2;o<d;){const t=e.nodeAt(o),n=t&&t.marks.find(i);if(!n||n!==s)break;u=o,c=t,o++}return{mark:s,from:{node:a,pos:l},to:{node:c,pos:u}}}function jc(e){return null!=e&&\"object\"==typeof e&&1===e.nodeType}function Lc(e,t){return(!t||\"hidden\"!==e)&&(\"visible\"!==e&&\"clip\"!==e)}function zc(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return Lc(n.overflowY,t)||Lc(n.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function Bc(e,t,n,r,o,i,s,a){return i<e&&s>t||i>e&&s<t?0:i<=e&&a<=n||s>=t&&a>=n?i-e-r:s>t&&a<n||i<e&&a>n?s-t+o:0}var Uc=function(e,t){var n=t.scrollMode,r=t.block,o=t.inline,i=t.boundary,s=t.skipOverflowHiddenElements,a=\"function\"==typeof i?i:function(e){return e!==i};if(!jc(e))throw new TypeError(\"Invalid target\");for(var c=document.scrollingElement||document.documentElement,l=[],u=e;jc(u)&&a(u);){if((u=u.parentNode)===c){l.push(u);break}u===document.body&&zc(u)&&!zc(document.documentElement)||zc(u,s)&&l.push(u)}for(var d=window.visualViewport?visualViewport.width:innerWidth,p=window.visualViewport?visualViewport.height:innerHeight,f=window.scrollX||pageXOffset,h=window.scrollY||pageYOffset,m=e.getBoundingClientRect(),g=m.height,y=m.width,b=m.top,v=m.right,_=m.bottom,w=m.left,E=\"start\"===r||\"nearest\"===r?b:\"end\"===r?_:b+g/2,S=\"center\"===o?w+y/2:\"end\"===o?v:w,O=[],x=0;x<l.length;x++){var k=l[x],C=k.getBoundingClientRect(),A=C.height,T=C.width,P=C.top,M=C.right,R=C.bottom,D=C.left;if(\"if-needed\"===n&&b>=0&&w>=0&&_<=p&&v<=d&&b>=P&&_<=R&&w>=D&&v<=M)return O;var I=getComputedStyle(k),N=parseInt(I.borderLeftWidth,10),j=parseInt(I.borderTopWidth,10),L=parseInt(I.borderRightWidth,10),z=parseInt(I.borderBottomWidth,10),B=0,U=0,H=\"offsetWidth\"in k?k.offsetWidth-k.clientWidth-N-L:0,F=\"offsetHeight\"in k?k.offsetHeight-k.clientHeight-j-z:0;if(c===k)B=\"start\"===r?E:\"end\"===r?E-p:\"nearest\"===r?Bc(h,h+p,p,j,z,h+E,h+E+g,g):E-p/2,U=\"start\"===o?S:\"center\"===o?S-d/2:\"end\"===o?S-d:Bc(f,f+d,d,N,L,f+S,f+S+y,y),B=Math.max(0,B+h),U=Math.max(0,U+f);else{B=\"start\"===r?E-P-j:\"end\"===r?E-R+z+F:\"nearest\"===r?Bc(P,R,A,j,z+F,E,E+g,g):E-(P+A/2)+F/2,U=\"start\"===o?S-D-N:\"center\"===o?S-(D+T/2)+H/2:\"end\"===o?S-M+L+H:Bc(D,M,T,N,L+H,S,S+y,y);var V=k.scrollLeft,q=k.scrollTop;E+=q-(B=Math.max(0,Math.min(q+B,k.scrollHeight-A+F))),S+=V-(U=Math.max(0,Math.min(V+U,k.scrollWidth-T+H)))}O.push({el:k,top:B,left:U})}return O};function Hc(e){return e===Object(e)&&0!==Object.keys(e).length}var Fc,Vc=function(e,t){var n=!e.ownerDocument.documentElement.contains(e);if(Hc(t)&&\"function\"==typeof t.behavior)return t.behavior(n?[]:Uc(e,t));if(!n){var r=function(e){return!1===e?{block:\"end\",inline:\"nearest\"}:Hc(e)?e:{block:\"start\",inline:\"nearest\"}}(t);return function(e,t){void 0===t&&(t=\"auto\");var n=\"scrollBehavior\"in document.body.style;e.forEach((function(e){var r=e.el,o=e.top,i=e.left;r.scroll&&n?r.scroll({top:o,left:i,behavior:t}):(r.scrollTop=o,r.scrollLeft=i)}))}(Uc(e,r),r.behavior)}},qc=function(){return Fc||(Fc=\"performance\"in window?performance.now.bind(performance):Date.now),Fc()};function Kc(e,t,n,r,o,i){var s,a,c;void 0===r&&(r=600),void 0===o&&(o=function(e){return 1+--e*e*e*e*e}),s=e,a=e.scrollLeft,c=e.scrollTop,function e(t){var n=qc(),r=Math.min((n-t.startTime)/t.duration,1),o=t.ease(r),i=t.startX+(t.x-t.startX)*o,s=t.startY+(t.y-t.startY)*o;t.method(i,s),i!==t.x||s!==t.y?requestAnimationFrame((function(){return e(t)})):t.cb()}({scrollable:s,method:function(t,n){e.scrollLeft=t,e.scrollTop=n},startTime:qc(),startX:a,startY:c,x:t,y:n,duration:r,ease:o,cb:i})}var Gc=function(e,t){var n=t||{};return function(e){return e&&!e.behavior||\"smooth\"===e.behavior}(n)?Vc(e,{block:n.block,inline:n.inline,scrollMode:n.scrollMode,boundary:n.boundary,behavior:function(e){return Promise.all(e.reduce((function(e,t){var r=t.el,o=t.left,i=t.top,s=r.scrollLeft,a=r.scrollTop;return s===o&&a===i?e:[].concat(e,[new Promise((function(e){return Kc(r,o,i,n.duration,n.ease,(function(){return e({el:r,left:[s,o],top:[a,i]})}))}))])}),[]))}}):Promise.resolve(Vc(e,t))};const $c=/^http(s?):*\\/\\//i;function Wc(e){return e?$c.test(e)?e:\"http://\"+e:\"http://\"}var Yc=n(19),Xc=n.n(Yc),Jc=n(46),Zc=n.n(Jc),Qc=(n(306),n(11)),el=n.n(Qc);function tl(e){e.preventDefault()}Oe.a.bool,Oe.a.any,Oe.a.string,Oe.a.bool,Oe.a.string,Oe.a.func,Oe.a.func,Oe.a.object,Oe.a.string,Oe.a.any;class nl extends c.PureComponent{constructor(){super(...arguments),f()(this,\"props\",void 0),f()(this,\"_clicked\",!1),f()(this,\"_mul\",!1),f()(this,\"_pressedTarget\",null),f()(this,\"_unmounted\",!1),f()(this,\"state\",{pressed:!1}),f()(this,\"_onMouseEnter\",e=>{this._pressedTarget=null,e.preventDefault();const{onMouseEnter:t,value:n}=this.props;t&&t(n,e)}),f()(this,\"_onMouseLeave\",e=>{this._pressedTarget=null;const t=e;this._onMouseUpCapture(t)}),f()(this,\"_onMouseDown\",e=>{e.preventDefault(),this._pressedTarget=null,this._clicked=!1,3!==e.which&&2!=e.button&&(this.setState({pressed:!0}),this._pressedTarget=e.currentTarget,this._clicked=!1,this._mul||(document.addEventListener(\"mouseup\",this._onMouseUpCapture,!0),this._mul=!0))}),f()(this,\"_onMouseUp\",e=>{if(e.preventDefault(),this._clicked||\"keypress\"===e.type){const{onClick:t,value:n,disabled:r}=this.props;!r&&t&&t(n,e)}this._pressedTarget=null,this._clicked=!1}),f()(this,\"_onMouseUpCapture\",e=>{this._mul&&(this._mul=!1,document.removeEventListener(\"mouseup\",this._onMouseUpCapture,!0));const t=e.target;this._clicked=this._pressedTarget instanceof HTMLElement&&t instanceof HTMLElement&&(t===this._pressedTarget||t.contains(this._pressedTarget)||this._pressedTarget.contains(t)),this.setState({pressed:!1})})}render(){const{className:e,disabled:t,active:n,id:r,style:o,title:i,children:s}=this.props,{pressed:a}=this.state,l=el()(e,{active:n,disabled:t,pressed:a});return c.createElement(\"span\",{\"aria-disabled\":t,\"aria-pressed\":a,className:l,disabled:t,id:r,onKeyPress:t?tl:this._onMouseUp,onMouseDown:t?tl:this._onMouseDown,onMouseEnter:t?tl:this._onMouseEnter,onMouseLeave:t?null:this._onMouseLeave,onMouseUp:t?tl:this._onMouseUp,role:\"button\",style:o,tabIndex:t?null:0,title:i},s)}componentWillUnmount(){this._unmounted=!0,this._mul&&(this._mul=!1,document.removeEventListener(\"mouseup\",this._onMouseUpCapture,!0))}}var rl=nl;n(307),n(308),n(309),n(77),Oe.a.number.isRequired,Oe.a.number.isRequired,Oe.a.number.isRequired,Oe.a.number.isRequired;function ol(e){return 0===e.w||0===e.h}function il(e,t,n){const r=n||0;return!(t.x-r>e.x+e.w+r||t.x+t.w+r<e.x-r||t.y-r>e.y+e.h+r||t.y+t.h+r<e.y-r)}function sl(e,t,n){return{x:e-(n=n||0),y:t-n,w:2*n,h:2*n}}function al(e){if(\"contents\"===document.defaultView.getComputedStyle(e).display&&1===e.children.length)return al(e.children[0]);const t=e.getBoundingClientRect();return{x:t.left,y:t.top,w:t.width,h:t.height}}Oe.a.func;function cl(e,t){const n={x:0,y:0,w:0,h:0};if(e&&t){n.x=e.x,n.y=e.y+e.h;const r=window.innerWidth,o=window.innerHeight;n.x+t.w>r&&(n.x=e.x-t.w+e.w),n.y+t.h>o&&(n.y=Math.max(e.y-t.h,2))}return e&&!ol(e)||(n.x=-1e4),n}function ll(e,t){const n={x:0,y:0,w:0,h:0};return e&&t&&(n.x=Math.max(e.x-(t.w-e.w)/2,10),n.y=e.y+e.h),e&&!ol(e)||(n.x=-1e4),n}function ul(e,t){const n={x:0,y:0,w:0,h:0};if(e&&t){n.x=e.x+e.w+1,n.y=e.y;const r=window.innerWidth;n.x+t.w>r&&(n.x=Math.max(2,e.x-t.w))}return e&&!ol(e)||(n.x=-1e4),n}function dl(e,t){const n={x:0,y:0,w:0,h:0};return t&&(n.x=(window.innerWidth-t.w)/2,n.y=(window.innerHeight-t.h)/2),t&&!ol(t)||(n.x=-1e4),n}function pl(e,t){const n={x:0,y:0,w:0,h:0};return e&&t&&(n.x=e.x+e.w+1-t.w,n.y=e.y),e&&!ol(e)||(n.x=-1e4),n}function fl(e,t){const n={x:0,y:0,w:0,h:0};return e&&t&&(n.x=e.x+(e.w-t.w)/2,n.y=e.y),e&&!ol(e)||(n.x=-1e4),n}Oe.a.bool.isRequired,Oe.a.func.isRequired,Oe.a.bool.isRequired,Oe.a.func.isRequired;const hl={x:-1e4,y:-1e4,w:0,h:0};var ml=new class{constructor(){f()(this,\"_bridges\",new Map),f()(this,\"_positions\",new Map),f()(this,\"_mx\",0),f()(this,\"_my\",0),f()(this,\"_rafID\",0),f()(this,\"_onScroll\",e=>{this._rafID&&cancelAnimationFrame(this._rafID),this._rafID=requestAnimationFrame(this._syncPosition)}),f()(this,\"_onResize\",e=>{this._rafID&&cancelAnimationFrame(this._rafID),this._rafID=requestAnimationFrame(this._syncPosition)}),f()(this,\"_onMouseChange\",e=>{this._mx=Math.round(e.clientX),this._my=Math.round(e.clientY),this._rafID&&cancelAnimationFrame(this._rafID),this._rafID=requestAnimationFrame(this._syncPosition)}),f()(this,\"_onClick\",e=>{const t=Date.now();let n;for(const[e,r]of this._bridges)if(t-r>350){const t=e.getDetails();t.modal&&t.autoDismiss&&(n=t)}if(!n)return;const{body:r,close:o}=n,i=sl(e.clientX,e.clientY,1),s=r?al(r):null;s&&il(i,s)||o()}),f()(this,\"_syncPosition\",()=>{this._rafID=0;const e=new Map;for(const[t,n]of this._bridges){const n=t.getDetails();e.set(t,n);const{anchor:r,body:o}=n;o instanceof HTMLElement&&(n.bodyRect=al(o)),r instanceof HTMLElement&&(n.anchorRect=al(r))}const t=sl(this._mx,this._my,2),n=new Set;for(const[r,o]of e){const{anchor:e,bodyRect:i,anchorRect:s,position:a,body:c}=o;if(!i&&!s)continue;const{x:l,y:u}=a(s,i),d=`${l}-${u}`;if(c&&i&&this._positions.get(r)!==d){const e=s?ui(0,s.x-l+s.w/2,i.w-s.w/2):0;this._positions.set(r,d);const t=c.style;t.position=\"absolute\",t.left=l+\"px\",t.top=u+\"px\",t.setProperty(\"--czi-pop-up-anchor-offset-left\",e+\"px\"),i.x=l,i.y=u}(il(t,i||hl,0)||il(t,s||hl,0))&&e&&n.add(e)}for(;;){const t=n.size;for(const[t,r]of e){const{anchor:e,body:t}=r;for(const r of n)e&&t&&!n.has(e)&&t.contains(r)&&n.add(e)}if(n.size===t)break}const r=Date.now();for(const[t,o]of this._bridges){const i=e.get(t);if(i){const{autoDismiss:e,anchor:t,close:s,modal:a}=i;e&&!a&&r-o>350&&!n.has(t)&&s()}}})}register(e){this._bridges.set(e,Date.now()),this._positions.set(e,null),1===this._bridges.size&&this._observe(),this._rafID=requestAnimationFrame(this._syncPosition)}unregister(e){this._bridges.delete(e),this._positions.delete(e),0===this._bridges.size&&this._unobserve(),this._rafID&&cancelAnimationFrame(this._rafID)}_observe(){document.addEventListener(\"mousemove\",this._onMouseChange,!1),document.addEventListener(\"mouseup\",this._onMouseChange,!1),document.addEventListener(\"click\",this._onClick,!1),window.addEventListener(\"scroll\",this._onScroll,!0),window.addEventListener(\"resize\",this._onResize,!0)}_unobserve(){document.removeEventListener(\"mousemove\",this._onMouseChange,!1),document.removeEventListener(\"mouseup\",this._onMouseChange,!1),document.removeEventListener(\"click\",this._onClick,!1),window.removeEventListener(\"scroll\",this._onScroll,!0),window.removeEventListener(\"resize\",this._onResize,!0),this._rafID&&cancelAnimationFrame(this._rafID)}};Oe.a.object,Oe.a.any,Oe.a.bool,Oe.a.bool,Oe.a.func,Oe.a.func,Oe.a.func.isRequired,Oe.a.func.isRequired,Oe.a.shape({anchor:Oe.a.any,autoDismiss:Oe.a.bool,container:function(){return(\"function\"==typeof Element?Oe.a.instanceOf(Element):Oe.a.any).apply(this,arguments)},modal:Oe.a.bool,onClose:Oe.a.func,position:Oe.a.func}).isRequired,Oe.a.object.isRequired,Oe.a.func.isRequired,Oe.a.func.isRequired;class gl extends c.PureComponent{constructor(){super(...arguments),f()(this,\"props\",void 0),f()(this,\"_bridge\",null),f()(this,\"_id\",yc()),f()(this,\"_getDetails\",()=>{const{close:e,popUpParams:t}=this.props,{anchor:n,autoDismiss:r,position:o,modal:i}=t;return{anchor:n,autoDismiss:!1!==r,body:document.getElementById(this._id),close:e,modal:!0===i,position:o||(i?dl:cl)}})}render(){const{View:e,viewProps:t,close:n}=this.props;return c.createElement(\"div\",{\"data-pop-up-id\":this._id,id:this._id},c.createElement(e,Xc()({},t||{},{close:n})))}componentDidMount(){this._bridge={getDetails:this._getDetails},ml.register(this._bridge)}componentWillUnmount(){this._bridge&&ml.unregister(this._bridge)}}var yl=gl;Oe.a.func.isRequired,Oe.a.func.isRequired;let bl=0,vl=0;const _l=\"pop-up-modal-mask-\"+yc();function wl(){const e=document.getElementById(_l);e&&e.parentElement&&e.parentElement.removeChild(e)}function El(e,t,n){const r=n&&n.container||document.body||document.documentElement;let o=document.getElementById(e);if(!o&&t&&(o=document.createElement(\"div\")),!o)return null;n&&n.modal&&o.setAttribute(\"data-pop-up-modal\",\"y\"),o.className=\"czi-pop-up-element czi-vars\",o.id=e;const i=o.style,s=n&&n.modal?1:0;return n&&n.container||(i.zIndex=9999+3*vl+s),o.setAttribute(\"role\",\"dialog\"),o.setAttribute(\"aria-modal\",\"true\"),r&&!o.parentElement&&r.appendChild(o),o}function Sl(e,t,n,r,o){const i=El(e,!0,o);if(i){const e=c.createElement(yl,{View:n,close:t,popUpParams:o,viewProps:r});d.a.render(e,i)}bl>0?function(){const e=document.body||document.documentElement;let t=document.getElementById(_l);t||(t=document.createElement(\"div\"),t.id=_l,t.className=\"czi-pop-up-modal-mask\",t.setAttribute(\"data-mask-type\",\"czi-pop-up-modal-mask\"),t.setAttribute(\"role\",\"dialog\"),t.setAttribute(\"aria-modal\",\"true\")),e&&!t.parentElement&&e.appendChild(t);const n=t.style,r=Array.from(document.querySelectorAll(\".czi-pop-up-element[data-pop-up-modal]\")).reduce((e,t)=>Math.max(e,Number(t.style.zIndex)),0);n.zIndex=r-1}():wl()}function Ol(e,t,n){const r=yc();let o=null,i=t;t=t||{};const s=(n=n||{}).modal||!n.anchor;n.modal=s,vl++,s&&bl++;const a=e=>{if(!o)return;s&&bl--,vl--,o=null,function(e){const t=El(e,!1);t&&(d.a.unmountComponentAtNode(t),t.parentElement&&t.parentElement.removeChild(t)),0===bl&&wl()}(r);const t=n&&n.onClose;t&&t(e)},c=Sl.bind(null,r,a,e),l={};return o={close:a,update:e=>{i=e,c(i||l,n||l)}},c(i||l,n||l),o}class xl extends c.PureComponent{render(){const{tooltip:e}=this.props;return c.createElement(\"div\",{className:\"czi-tooltip-view czi-animation-fade-in\"},e)}}class kl extends c.PureComponent{constructor(){super(...arguments),f()(this,\"_id\",yc()),f()(this,\"_popUp\",null),f()(this,\"props\",void 0),f()(this,\"_onMouseEnter\",()=>{if(!this._popUp){const{tooltip:e}=this.props;this._popUp=Ol(xl,{tooltip:e},{anchor:document.getElementById(this._id),onClose:this._onClose,position:ll})}}),f()(this,\"_onMouseLeave\",()=>{this._popUp&&this._popUp.close(),this._popUp=null}),f()(this,\"_onClose\",()=>{this._popUp=null})}componentWillUnmount(){this._popUp&&this._popUp.close()}render(){const{tooltip:e,children:t}=this.props;return c.createElement(\"span\",{\"aria-label\":e,className:\"czi-tooltip-surface\",\"data-tooltip\":e,id:this._id,onMouseDown:e&&this._onMouseLeave,onMouseEnter:e&&this._onMouseEnter,onMouseLeave:e&&this._onMouseLeave,role:\"tooltip\"},t)}}var Cl=kl;class Al extends c.PureComponent{constructor(){super(...arguments),f()(this,\"props\",void 0)}render(){const e=this.props,{icon:t,label:n,className:r,title:o}=e,i=Zc()(e,[\"icon\",\"label\",\"className\",\"title\"]),s=el()(r,\"czi-custom-button\",{\"use-icon\":!!t});return c.createElement(Cl,{tooltip:o},c.createElement(rl,Xc()({},i,{className:s}),t,n))}}var Tl=Al;n(310);class Pl extends c.PureComponent{constructor(){super(...arguments),f()(this,\"props\",void 0),f()(this,\"_unmounted\",!1),f()(this,\"state\",{hidden:!1}),f()(this,\"_openLink\",e=>{if(function(e){return!!e&&0===e.indexOf(\"#\")&&e.length>=2}(e)){const t=e.substr(1),n=document.getElementById(t);if(n){const{onCancel:e,editorView:t}=this.props;e(t),(async()=>{await Gc(n,{scrollMode:\"if-needed\",behavior:\"smooth\"})})()}}else e&&window.open(Wc(e))})}render(){const{href:e,editorView:t,onEdit:n,onRemove:r}=this.props;return c.createElement(\"div\",{className:\"czi-link-tooltip\"},c.createElement(\"div\",{className:\"czi-link-tooltip-body\"},c.createElement(\"div\",{className:\"czi-link-tooltip-row\"},c.createElement(Tl,{className:\"czi-link-tooltip-href\",label:e,onClick:this._openLink,target:\"new\",title:e,value:e}),c.createElement(Tl,{label:ws(\"Change\"),onClick:n,value:t}),c.createElement(Tl,{label:ws(\"Remove\"),onClick:r,value:t}))))}}var Ml=Pl;n(31),n(143);const Rl=/\\s/;class Dl extends c.PureComponent{constructor(){super(...arguments),f()(this,\"state\",{url:this.props.href}),f()(this,\"_onKeyDown\",e=>{13===e.keyCode&&(e.preventDefault(),this._apply())}),f()(this,\"_onURLChange\",e=>{const t=e.target.value;this.setState({url:t})}),f()(this,\"_cancel\",()=>{this.props.close()}),f()(this,\"_apply\",()=>{const{url:e}=this.state;e&&!Rl.test(e)&&this.props.close(Wc(e))})}render(){const{href:e}=this.props,{url:t}=this.state,n=!!t&&Rl.test(t);let r=ws(\"Apply\"),o=!!n;return e?(r=ws(t?\"Apply\":\"Remove\"),o=n):o=n||!t,c.createElement(\"div\",{className:\"czi-image-url-editor\"},c.createElement(\"form\",{className:\"czi-form\",onSubmit:tl},c.createElement(\"fieldset\",null,c.createElement(\"legend\",null,ws(\"Add a Link\")),c.createElement(\"input\",{autoFocus:!0,onChange:this._onURLChange,onKeyDown:this._onKeyDown,placeholder:ws(\"Paste a URL\"),spellCheck:!1,type:\"text\",value:t||\"\"})),c.createElement(\"div\",{className:\"czi-form-buttons\"},c.createElement(Tl,{label:ws(\"Cancel\"),onClick:this._cancel}),c.createElement(Tl,{active:!0,disabled:o,label:r,onClick:this._apply}))))}}f()(Dl,\"propsTypes\",{href:Oe.a.string,close:function(e,t){var n=e[t];if(!n.prototype||\"function\"!=typeof n.prototype.constructor&&1!==n.prototype.constructor.length)return new Error(t+\"must be a function with 1 arg of type string\")}});var Il=Dl;const Nl={key:new Ye.PluginKey(\"LinkTooltipPlugin\"),view:e=>new Ll(e)};class jl extends Ye.Plugin{constructor(){super(Nl)}}class Ll{constructor(e){f()(this,\"_anchorEl\",null),f()(this,\"_popup\",null),f()(this,\"_editor\",null),f()(this,\"_onCancel\",e=>{this.destroy(),e.focus()}),f()(this,\"_onClose\",()=>{this._anchorEl=null,this._editor=null,this._popup=null}),f()(this,\"_onEdit\",e=>{if(this._editor)return;const{state:t}=e,{schema:n,doc:r,selection:o}=t,{from:i,to:s}=o,a=Nc(r,i,s,n.marks[Ro]);if(!a)return;let{tr:c}=t;const l=Ye.TextSelection.create(c.doc,a.from.pos,a.to.pos+1);c=c.setSelection(l),c=Mc(t,c),e.dispatch(c);const u=a?a.mark.attrs.href:null;this._editor=Ol(Il,{href:u},{onClose:t=>{this._editor=null,this._onEditEnd(e,o,t)}})}),f()(this,\"_onRemove\",e=>{this._onEditEnd(e,e.state.selection,null)}),f()(this,\"_onEditEnd\",(e,t,n)=>{const{state:r,dispatch:o}=e;let i=Rc(r);if(void 0!==n){const{schema:e}=r,o=e.marks[Ro];if(o){const e=Nc(i.doc,t.from,t.to,o);if(e){const r=Ye.TextSelection.create(i.doc,e.from.pos,e.to.pos+1);i=i.setSelection(r);i=Ic(i,0,o,n?{href:n}:null);const s=Ye.TextSelection.create(i.doc,t.from,t.to);i=i.setSelection(s)}}}o(i),e.focus()}),this.update(e,null)}update(e,t){if(e.readOnly)return void this.destroy();const{state:n}=e,{doc:r,selection:o,schema:i}=n,s=i.marks[Ro];if(!s)return;const{from:a,to:c}=o,l=Nc(r,a,c,s);if(!l)return void this.destroy();const u=e.domAtPos(a);if(!u)return void this.destroy();const d=function(e,t){for(;e&&e.nodeName;){if(t(e))return e;e=e.parentElement}return null}(u.node,e=>\"A\"===e.nodeName);if(!d)return void this.destroy();const p=this._popup,f={editorState:n,editorView:e,href:l.mark.attrs.href,onCancel:this._onCancel,onEdit:this._onEdit,onRemove:this._onRemove};p&&d===this._anchorEl?p.update(f):(p&&p.close(),this._anchorEl=d,this._popup=Ol(Ml,f,{anchor:d,autoDismiss:!1,onClose:this._onClose,position:fl}))}destroy(){this._popup&&this._popup.close(),this._editor&&this._editor.close()}}var zl=jl,Bl=n(10);function Ul(e){const{doc:t,selection:n,schema:r}=e,o=r.nodes[ii],i=r.nodes[si];if(!o&&!i)return null;let s=n;if(s instanceof Ye.TextSelection){const{from:e,to:r}=n;if(e!==r)return null;const a=o&&Object(Bl.findParentNodeOfType)(o)(n)||i&&Object(Bl.findParentNodeOfType)(i)(n);if(!a)return null;s=js.CellSelection.create(t,a.pos)}return s instanceof js.CellSelection?function(e){const{$anchorCell:t}=e,n=t.start(-1),r=t.node(-1),o=js.TableMap.get(r);let i,s=null,a=null;return e.forEachCell((e,t)=>{const r=o.findCell(t-n);(!i||r.top>=i.top&&r.left>i.left)&&(i=r,s=t,a=e)}),null===s?null:{node:a,pos:s}}(s):null}n(311),n(312);class Hl extends c.Component{render(){const{children:e}=this.props;return c.createElement(\"div\",{className:\"czi-custom-menu czi-custom-scrollbar\"},e)}}var Fl=Hl;n(313);class Vl extends c.PureComponent{render(){return c.createElement(\"div\",{className:\"czi-custom-menu-item-separator\"})}}class ql extends c.PureComponent{constructor(){super(...arguments),f()(this,\"props\",void 0)}render(){return c.createElement(Tl,Xc()({},this.props,{className:\"czi-custom-menu-item\"}))}}f()(ql,\"Separator\",Vl);var Kl=ql;Oe.a.func,Oe.a.func;function Gl(e,t){const n=e[t];return\"tr\"===t&&n instanceof io.f?n.setMeta(\"dryrun\",!0):n}function $l(e,t,n){return e[t]=n,!0}class Wl{constructor(){f()(this,\"shouldRespondToUIEvent\",e=>e.type===Wl.EventType.CLICK),f()(this,\"renderLabel\",e=>null),f()(this,\"isActive\",e=>!1),f()(this,\"isEnabled\",(e,t)=>this.dryRun(e,t)),f()(this,\"dryRun\",(e,t)=>{const{Proxy:n}=window,r=n?new n(e,{get:Gl,set:$l}):e;return this.execute(r,null,t)}),f()(this,\"execute\",(e,t,n,r)=>(this.waitForUserInput(e,t,n,r).then(r=>{this.executeWithUserInput(e,t,n,r)}).catch(e=>{console.error(e)}),!1)),f()(this,\"waitForUserInput\",(e,t,n,r)=>Promise.resolve(void 0)),f()(this,\"executeWithUserInput\",(e,t,n,r)=>!1)}cancel(){}}f()(Wl,\"EventType\",{CLICK:\"mouseup\",MOUSEENTER:\"mouseenter\"});var Yl=Wl;class Xl extends c.PureComponent{constructor(){super(...arguments),f()(this,\"_activeCommand\",null),f()(this,\"props\",void 0),f()(this,\"_onUIEnter\",(e,t)=>{e.shouldRespondToUIEvent(t)&&(this._activeCommand&&this._activeCommand.cancel(),this._activeCommand=e,this._execute(e,t))}),f()(this,\"_execute\",(e,t)=>{const{dispatch:n,editorState:r,editorView:o,onCommand:i}=this.props;e.execute(r,n,o,t)&&i&&i()})}render(){const{commandGroups:e,editorState:t,editorView:n}=this.props,r=[],o=e.length-1;return e.forEach((e,i)=>{Object.keys(e).forEach(o=>{const i=e[o];let s=!0;try{s=!n||!i.isEnabled(t,n)}catch(e){s=!1}r.push(c.createElement(Kl,{active:i.isActive(t),disabled:s,key:o,label:i.renderLabel(t)||o,onClick:this._onUIEnter,onMouseEnter:this._onUIEnter,value:i}))}),i!==o&&r.push(c.createElement(Kl.Separator,{key:String(i)+\"-hr\"}))}),c.createElement(Fl,null,r)}}var Jl=Xl;n(314);function Zl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ql(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zl(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class eu extends c.PureComponent{constructor(){super(...arguments),f()(this,\"props\",void 0),f()(this,\"_menu\",null),f()(this,\"_id\",yc()),f()(this,\"state\",{expanded:!1}),f()(this,\"_onClick\",()=>{const e=!this.state.expanded;this.setState({expanded:e}),e?this._showMenu():this._hideMenu()}),f()(this,\"_hideMenu\",()=>{const e=this._menu;this._menu=null,e&&e.close()}),f()(this,\"_showMenu\",()=>{const e=this._menu,t=Ql(Ql({},this.props),{},{onCommand:this._onCommand});e?e.update(t):this._menu=Ol(Jl,t,{anchor:document.getElementById(this._id),onClose:this._onClose})}),f()(this,\"_onCommand\",()=>{this.setState({expanded:!1}),this._hideMenu()}),f()(this,\"_onClose\",()=>{this._menu&&(this.setState({expanded:!1}),this._menu=null)})}render(){const{className:e,label:t,commandGroups:n,editorState:r,editorView:o,icon:i,disabled:s,title:a}=this.props,l=!s&&n.some((e,t)=>Object.keys(e).some(t=>{const n=e[t];let i=!0;try{i=!o||!n.isEnabled(r,o)}catch(e){i=!1}return!i})),{expanded:u}=this.state,d=el()(e,{\"czi-custom-menu-button\":!0,expanded:u});return c.createElement(Tl,{className:d,disabled:!l,icon:i,id:this._id,label:t,onClick:this._onClick,title:a})}componentWillUnmount(){this._hideMenu()}}var tu=eu;function nu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ru(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nu(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class ou extends io.d{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"SetDocAttr\";super(),f()(this,\"key\",void 0),f()(this,\"stepType\",void 0),f()(this,\"value\",void 0),this.stepType=n,this.key=e,this.value=t}apply(e){this.prevValue=e.attrs[this.key];const t=ru(ru({},e.attrs),{},{[this.key]:this.value}),n=e.type.create(t,e.content,e.marks);return io.e.ok(n)}invert(){return new ou(this.key,this.prevValue,\"revertSetDocAttr\")}map(e){var t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted?null:new ou(this.key,this.value,\"SetDocAttr\")}merge(e){if(e instanceof ou&&e.mark&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new ou(this.key,this.value,\"SetDocAttr\")}toJSON(){return{stepType:this.stepType,key:this.key,value:this.value}}static fromJSON(e,t){return new ou(t.key,t.value,t.stepType)}}io.d.jsonID(\"SetDocAttr\",ou);var iu=ou;n(315);class su extends c.PureComponent{constructor(){super(...arguments),f()(this,\"props\",void 0),f()(this,\"_name\",yc())}render(){const e=this.props,{title:t,className:n,checked:r,label:o,inline:i,name:s,onSelect:a,disabled:l}=e,u=Zc()(e,[\"title\",\"className\",\"checked\",\"label\",\"inline\",\"name\",\"onSelect\",\"disabled\"]),d=el()(n,\"czi-custom-radio-button\",{checked:r,inline:i});return c.createElement(rl,Xc()({},u,{className:d,disabled:l,onClick:a,title:t||o}),c.createElement(\"input\",{checked:r,className:\"czi-custom-radio-button-input\",disabled:l,name:s||this._name,onChange:tl,tabIndex:l?null:0,type:\"radio\"}),c.createElement(\"span\",{className:\"czi-custom-radio-button-icon\"}),c.createElement(\"span\",{className:\"czi-custom-radio-button-label\"},o))}}var au=su;n(316),Oe.a.string,Oe.a.number;class cu extends c.PureComponent{constructor(e,t){super(e,t),f()(this,\"_unmounted\",!1),f()(this,\"state\",void 0),f()(this,\"_onSelect\",e=>{this.setState({selectedValue:e})}),f()(this,\"_cancel\",()=>{this.props.close()}),f()(this,\"_apply\",()=>{const{selectedValue:e}=this.state;\"string\"==typeof e?this.props.close({width:null,layout:e}):this.props.close({width:e,layout:null})});const{width:n,layout:r}=this.props.initialValue||{};this.state={width:n,layout:r,selectedValue:n||r||yo}}render(){const{width:e,selectedValue:t}=this.state,n=e?c.createElement(au,{checked:t===e,key:\"c\",label:`Custom width: ${e}pt`,onSelect:this._onSelect,value:e}):null;return c.createElement(\"div\",{className:\"czi-body-layout-editor\"},c.createElement(\"form\",{className:\"czi-form\",onSubmit:tl},c.createElement(\"fieldset\",null,c.createElement(\"legend\",null,ws(\"Page Layout\")),c.createElement(au,{checked:t===yo,label:ws(\"A4 - Portrait\"),onSelect:this._onSelect,value:yo}),c.createElement(au,{checked:t===go,label:ws(\"A4 - Landscape\"),onSelect:this._onSelect,value:go}),c.createElement(au,{checked:t===mo,label:ws(\"US Letter - Portrait\"),onSelect:this._onSelect,value:mo}),c.createElement(au,{checked:t===ho,label:ws(\"US Letter - Landscape\"),onSelect:this._onSelect,value:ho}),c.createElement(au,{checked:t===po,label:\"4:3 Desktop Screen\",onSelect:this._onSelect,value:po}),c.createElement(au,{checked:t===fo,label:\"16:9 Desktop Screen\",onSelect:this._onSelect,value:fo}),n),c.createElement(\"hr\",null),c.createElement(\"div\",{className:\"czi-form-buttons\"},c.createElement(Tl,{label:ws(\"Cancel\"),onClick:this._cancel}),c.createElement(Tl,{active:!0,label:ws(\"Apply\"),onClick:this._apply}))))}}f()(cu,\"propsTypes\",{close:function(e,t){var n=e[t];if(!n.prototype||\"function\"!=typeof n.prototype.constructor&&1!==n.prototype.constructor.length)return new Error(t+\"must be a function with 1 arg of type DocLayoutEditorValue\")}});var lu=cu;var uu=class extends Yl{constructor(){super(...arguments),f()(this,\"_popUp\",null),f()(this,\"isEnabled\",e=>!0),f()(this,\"isActive\",e=>!!this._popUp),f()(this,\"waitForUserInput\",(e,t,n,r)=>{if(this._popUp)return Promise.resolve(void 0);const{doc:o}=e;return new Promise(e=>{const t={initialValue:o.attrs};this._popUp=Ol(lu,t,{modal:!0,onClose:t=>{this._popUp&&(this._popUp=null,e(t))}})})}),f()(this,\"executeWithUserInput\",(e,t,n,r)=>{if(t){const{selection:o,schema:i}=e;let{tr:s}=e;if(s=s.setSelection(o),r){const{width:e,layout:t}=r;s=function(e,t,n,r){const{doc:o}=e;return o?e=(e=e.step(new iu(\"width\",n||null))).step(new iu(\"layout\",r||null)):e}(s,0,e,t)}t(s),n&&n.focus()}return!1})}};var du=function(){};function pu(e,t){return e>t?1:e<t?-1:0}function fu(e,t){if(e.nodeSize<2||t<2)return!1;const n=e.nodeAt(t-1);return n&&n.type.name===ei}function hu(e){return e.type.name===ni}function mu(e){return e instanceof Ve.Node&&(function(e){return e.type.name===Go}(e)||hu(e))}function gu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gu(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bu(e,t,n){const{selection:r,doc:o}=e;if(!r||!o)return e;const{from:i,to:s}=r,{nodes:a}=t,c=a[qo],l=a[ei],u=a[Xo],d=a[ri],p=[];n=n||null;const f=new Set([c,u,l,d]);return o.nodesBetween(i,s,(e,t,r)=>{const o=e.type;return(e.attrs.align||null)!==n&&f.has(o)&&p.push({node:e,pos:t,nodeType:o}),!0}),p.length?(p.forEach(t=>{const{node:r,pos:o,nodeType:i}=t;let{attrs:s}=r;s=yu(yu({},s),{},n?{align:n}:{align:null}),e=e.setNodeMarkup(o,i,s,r.marks)}),e):e}var vu=class extends Yl{constructor(e){super(),f()(this,\"_alignment\",void 0),f()(this,\"isActive\",e=>{const{selection:t,doc:n}=e,{from:r,to:o}=t;let i=!0,s=!1;return n.nodesBetween(r,o,(e,t)=>(i&&e.attrs.align===this._alignment&&(i=!1,s=!0),i)),s}),f()(this,\"isEnabled\",e=>{const{selection:t}=e;return t instanceof Ye.TextSelection||t instanceof Ye.AllSelection}),f()(this,\"execute\",(e,t,n)=>{const{schema:r,selection:o}=e,i=bu(e.tr.setSelection(o),r,this._alignment);return!!i.docChanged&&(t&&t(i),!0)}),this._alignment=e}};const{MARK_EM:_u,MARK_FONT_SIZE:wu,MARK_FONT_TYPE:Eu,MARK_STRIKE:Su,MARK_STRONG:Ou,MARK_TEXT_COLOR:xu,MARK_TEXT_HIGHLIGHT:ku,MARK_UNDERLINE:Cu,MARK_CUSTOMSTYLES:Au}=r,Tu=[_u,wu,Eu,Su,Ou,xu,ku,Cu,Au];function Pu(e,t){const{doc:n,selection:r}=e;if(!r||!n)return e;const{from:o,to:i,empty:s}=r;if(s)return e;const a=new Set(Tu.map(e=>t.marks[e]).filter(Boolean));if(!a.size)return e;const c=[];return n.nodesBetween(o,i,(e,t)=>!e.marks||!e.marks.length||(e.marks.some(n=>{a.has(n.type)&&c.push({node:e,pos:t,mark:n})}),!0)),c.length?(c.forEach(t=>{const{node:n,mark:r,pos:o}=t;e=e.removeMark(o,o+n.nodeSize,r.type)}),e=bu(e,t,null)):e}function Mu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ru(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mu(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Du(e){if(e.getMeta(\"dryrun\"))return e;let t;for(;;){const n=ju(e.doc,t);if(!n){e=Iu(e);break}{const{deleteFrom:r,deleteTo:o,insertAt:i,content:s}=n;e=(e=e.delete(r,o)).insert(i,s),t=n}}return e}function Iu(e){const t=e.doc.nodeSize-2;if(1>=t)return e;const n=new Set;let r=null;return e.doc.nodesBetween(1,t,(t,o,i)=>{let s=!0;if(mu(t)){s=!1;const a=t.attrs.indent||0,c=t.attrs.start||1,{name:l,following:u}=t.attrs;if(l&&n.add(l),r){if(1===c&&hu(t)){let n;r.some((e,r)=>e.node.type!==t.type&&e.indent===a||e.indent<a?(n=!1,!0):e.indent===a&&(n=!0,!0)),void 0!==n&&(e=Nu(e,o,n))}}else if(r=[],hu(t)){const t=n.has(u);e=Nu(e,o,t)}r.unshift({parentNode:i,indent:a,node:t})}else r=null;return s}),e}function Nu(e,t,n){const r=e.doc.nodeAt(t),o=n?\"none\":null;if(o!==(r.attrs.counterReset||null)){const n=Ru(Ru({},r.attrs),{},{counterReset:o});e=e.setNodeMarkup(t,r.type,n,r.marks)}return e}function ju(e,t){const n=t?Math.max(1,t.firstListNodePos):1,r=e.nodeSize-2;if(r<=n)return null;let o=null,i=null,s=0;return e.nodesBetween(n,r,(e,t)=>!i&&(mu(e)?(s=0===s?t:s,i=function(e,t,n,r){if(!n||(o=e,i=n,o.type!==i.type||o.attrs.indent!==i.attrs.indent||!mu(o)||!mu(i)))return null;var o,i;return{deleteFrom:t,deleteTo:t+e.nodeSize,insertAt:t-1,content:e.content,firstListNodePos:r}}(e,t,o,s),o=e,!1):(o=e,!0))),i&&(i.firstListNodePos=s),i}const Lu=`[​⠀PLACEHOLDER_TEXT_${yc()}⠀​]`;function zu(e,t,n){if(e.getMeta(\"dryrun\"))return n({tr:e,schema:t});const{selection:r,doc:o}=e,i=t.marks[Uo];if(!i||!r||!o)return e;if(!(r instanceof Ye.TextSelection))return e;const{from:s,to:a}=r;let c,l=0,u=0;if(s===a){if(0===s)return e;const n=e.doc.nodeAt(s),r=e.doc.nodeAt(s-1),o=e.doc.nodeAt(s+1);if(n||!r||r.type.name!==ri||r.firstChild)if(!n&&r&&r.type.name===ci)l=-1;else if(r&&n&&n.type===r.type)l=-1;else if(o&&n&&n.type===o.type)u=1;else if(o)u=1;else{if(!r)return e;l=-1}else c=t.text(Lu),e=e.insert(s,Ve.Fragment.from(c)),u=1;e=e.setSelection(Ye.TextSelection.create(e.doc,s+l,a+u))}const d={},p=e=>e.attrs.id===d;e=n({tr:e=Ic(e,0,i,{id:d}),schema:t});const f=(()=>{let t=0,n=0;return e.doc.descendants((e,r)=>(e.marks&&e.marks.find(p)&&(t=0===t?r:t,n=r+e.nodeSize),!0)),{from:t,to:n}})(),h={from:Math.max(0,f.from-l),to:Math.max(0,f.to-u)};return h.to=Math.max(0,h.from,h.to),e=e.removeMark(f.from,f.to,i),c&&e.doc.descendants((t,n)=>t.type.name!==ci||t.text!==Lu||(e=e.delete(n,n+Lu.length),c=null,!1)),e=e.setSelection(Ye.TextSelection.create(e.doc,h.from,h.to))}function Bu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Uu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bu(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hu(e,t,n,r){return zu(e,t,e=>Du(function(e,t,n){const{schema:r}=e;let{tr:o}=e;if(!o.doc||!o.selection)return o;const{nodes:i}=r,s=i[ri];if(!i[ei]||!s)return o;if(!mu(o.doc.nodeAt(t)))return o;const a=o.selection,{from:c,to:l}=a,u=[];if(o.doc.nodesBetween(c,l,(e,t)=>{mu(e)&&u.push(t)}),c===l&&c<1)return o;return u.sort(pu).reverse().forEach(e=>{o=function(e,t,n,r,o,i){const s=[],a=[],c=[],l=n[ri],u=n[ei],d=e.doc.nodeAt(t);if(e.doc.nodesBetween(t,t+d.nodeSize,(e,t,n,r)=>{if(e.type!==l)return!0;const u={node:e,pos:t,parentNode:n,index:r};return t+e.nodeSize<=o?s.push(u):t>i?c.push(u):a.push(u),!1}),!a.length)return e;e=e.delete(t,t+d.nodeSize);const p=d.type,f={indent:d.attrs.indent,start:1};if(c.length){const n=c.map(e=>u.create({},Ve.Fragment.from(e.node))),r=Ve.Fragment.from(p.create(f,Ve.Fragment.from(n)));e=e.insert(t,r)}if(a.length){const n=a.map(e=>r?r(e.node):e.node),o=Ve.Fragment.from(n);e=e.insert(t,o)}if(s.length){const n=s.map(e=>u.create({},Ve.Fragment.from(e.node))),r=Ve.Fragment.from(p.create(f,Ve.Fragment.from(n)));e=e.insert(t,r)}return e}(o,e,i,n,c,l)}),o}(e,n,r)))}function Fu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return zu(e,t,e=>Du(Vu(e,n,r)))}function Vu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const{schema:r}=e;let{tr:o}=e;const{doc:i,selection:s}=o;let{from:a,to:c}=s;if(!o||!s)return o;n&&(a=n.from,c=n.to);const l=r.nodes[ri],u=r.nodes[Xo];let d=null,p=[];return i.nodesBetween(a,c,(e,n)=>{const r=e.type,i=r.name;if(mu(e)){if(e.type!==t){const r=Uu(Uu({},e.attrs),{},{listNodeType:null});o=o.setNodeMarkup(n,t,r,e.marks)}return d&&p.push(d),d=null,!1}return/table/.test(i)?(d&&p.push(d),d=null,!0):(r===u||r===l?(d=d||[],d.push({node:e,pos:n})):(d&&d.length&&p.push(d),d=null),!0)}),d&&d.length&&p.push(d),p=p.filter(e=>e.length>0),p.length?(p=p.sort((e,t)=>ic()(e[0]).pos>=ic()(t[0]).pos?1:-1),p.reverse(),p.forEach(e=>{o=qu(o,r,t,e)}),o):o}function qu(e,t,n,r){const o=e,i=t.nodes[ri],s=t.nodes[ei];if(!i||!s)return e;const a=[];r.forEach(t=>{const{node:n,pos:r}=t,o=Uu(Uu({},n.attrs),{},{id:{}});e=e.setNodeMarkup(r,i,o,n.marks),a.push(e.doc.nodeAt(r))});const c=a[0],l=a[a.length-1];if(!c||!l)return o;const u=c.attrs.id,d=l.attrs.id;if(!u||!d)return o;let p=null,f=null;if(e.doc.descendants((e,t)=>{const n=e.attrs.id;return n===u&&(p=t),n===d&&(f=t+e.nodeSize),null===p||null===f}),null===p||null===f)return o;const h=[];r.forEach(e=>{const{node:t}=e,n=i.create(t.attrs,t.content,t.marks),r=s.create(t.attrs,Ve.Fragment.from(n));h.push(r)});const m={indent:0,start:1},g=e.doc.resolve(p),y=e.doc.resolve(f),b=g.nodeBefore&&g.nodeBefore.type===n&&0===g.nodeBefore.attrs.indent,v=y.nodeAfter&&y.nodeAfter.type===n&&0===y.nodeAfter.attrs.indent;if(b)e=(e=e.delete(p,f)).insert(p-1,Ve.Fragment.from(h)),v&&(e=e.delete(f+1,f+3));else if(v)e=(e=e.delete(p,f)).insert(p+1,Ve.Fragment.from(h));else{const t=n.create(m,Ve.Fragment.from(h));e=(e=e.delete(p,f)).insert(p,Ve.Fragment.from(t))}return e}function Ku(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ku(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ku(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $u(e,t,n){const{nodes:r}=t,{selection:o,doc:i}=e,s=r[qo],a=r[Xo],c=r[ei],l=r[ri];if(!(o&&i&&a&&l&&c&&s))return e;const{from:u,to:d}=e.selection;let p=null;const f=[];return i.nodesBetween(u,d,(e,t,r)=>{const o=e.type,i=r.type;return null===p&&(p=o===a&&e.attrs.level===n),i!==c&&f.push(t),!mu(e)}),f.sort(pu).reverse().forEach(r=>{e=function(e,t,n,r){const{nodes:o}=t,i=o[Xo],s=o[ri],a=o[qo];if(n>=e.doc.content.size)return e;const c=e.doc.nodeAt(n);if(!(c&&i&&s&&a))return e;const l=c.type;if(fu(e.doc,n))return e;mu(c)?i&&null!==r&&(e=Hu(e,t,n,e=>{const{content:t,marks:n,attrs:o}=e,s=Gu(Gu({},o),{},{level:r});return i.create(s,t,n)})):l===i?e=null===r?e.setNodeMarkup(n,s,c.attrs,c.marks):e.setNodeMarkup(n,i,Gu(Gu({},c.attrs),{},{level:r}),c.marks):(r&&l===s||l===a)&&(e=(e=Pu(e,t)).setNodeMarkup(n,i,Gu(Gu({},c.attrs),{},{level:r}),c.marks));return e}(e,t,r,p?null:n)}),e}var Wu=class extends Yl{constructor(e){super(),f()(this,\"_level\",void 0),f()(this,\"isActive\",e=>{const t=this._findHeading(e);return!!(t&&t.node&&t.node.attrs&&t.node.attrs.level===this._level)}),f()(this,\"execute\",(e,t,n)=>{const{schema:r,selection:o}=e,i=$u(e.tr.setSelection(o),r,this._level);return!!i.docChanged&&(t&&t(i),!0)}),this._level=e}_findHeading(e){const t=e.schema.nodes[Xo];return(t?Object(Bl.findParentNodeOfType)(t):du)(e.selection)}};var Yu=class extends Yl{constructor(){super(...arguments),f()(this,\"execute\",(e,t,n)=>function(e,t){var n=Ba.getState(e);return!(!n||0==n.undone.eventCount)&&(t&&Na(n,e,t,!0),!0)}(e,t))}};var Xu=class extends Yl{constructor(){super(...arguments),f()(this,\"execute\",(e,t,n)=>function(e,t){var n=Ba.getState(e);return!(!n||0==n.done.eventCount)&&(t&&Na(n,e,t,!1),!0)}(e,t))}};var Ju=class extends Yl{constructor(){super(...arguments),f()(this,\"execute\",(e,t,n)=>{const{selection:r,schema:o}=e,i=function(e,t){const{selection:n}=e;if(!n)return e;const{from:r,to:o}=n;if(r!==o)return e;const i=t.nodes[Jo];if(!i)return e;const s=i.create({},null,null),a=Ve.Fragment.from(s);return e=e.insert(r,a)}(e.tr.setSelection(r),o);return!!i.docChanged&&(t&&t(i),!0)})}};var Zu=class extends Yl{constructor(){super(...arguments),f()(this,\"_popUp\",null),f()(this,\"isEnabled\",(e,t)=>this.__isEnabled(e,t)),f()(this,\"waitForUserInput\",(e,t,n,r)=>this._popUp?Promise.resolve(void 0):(t&&t(Za(e)),new Promise(e=>{const t={runtime:n?n.runtime:null};this._popUp=Ol(this.getEditor(),t,{modal:!0,onClose:t=>{this._popUp&&(this._popUp=null,e(t))}})}))),f()(this,\"executeWithUserInput\",(e,t,n,r)=>{if(t){const{selection:o,schema:i}=e;let{tr:s}=e;if(s=n?Qa(n.state):s,s=s.setSelection(o),r){const{src:e}=r;s=function(e,t,n){const{selection:r}=e;if(!r)return e;const{from:o,to:i}=r;if(o!==i)return e;const s=t.nodes[Zo];if(!s)return e;const a={src:n||\"\",alt:\"\",title:\"\"},c=s.create(a,null,null),l=Ve.Fragment.from(c);return e=e.insert(o,l)}(s,i,e)}t(s),n&&n.focus()}return!1}),f()(this,\"__isEnabled\",(e,t)=>{const n=e,{selection:r}=n;return r instanceof Ye.TextSelection&&r.from===r.to})}getEditor(){throw new Error(\"Not implemented\")}},Qu=n(36),ed=n.n(Qu);function td(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}Oe.a.bool.isRequired,Oe.a.number.isRequired,Oe.a.number.isRequired,Oe.a.number.isRequired,Oe.a.string.isRequired,Oe.a.number.isRequired;const nd={},rd=[];function od(e){return new Promise((t,n)=>{const r={src:e,resolve:t,reject:n};rd.push(r),id()})}function id(){const e=rd.shift();e&&function(e,t,n){const r={complete:!1,height:0,naturalHeight:0,naturalWidth:0,src:e||\"\",width:0};if(window.navigator.hasOwnProperty(\"onLine\")&&!window.navigator.onLine)return void t(r);const o=e||\"\";if(!o)return void t(r);if(nd[o]){const e=Object.assign({},nd[o]);return void t(e)}const i=ed.a.parse(o),{protocol:s}=i;if(!/(http:|https:|data:)/.test(s||window.location.protocol))return void t(r);let a;const c=()=>{a&&(r.width=a.width,r.height=a.height,r.naturalWidth=a.width,r.naturalHeight=a.height,r.complete=!0),t(r),u(),nd[o]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?td(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):td(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r)},l=()=>{t(r),u()},u=()=>{if(a){if(a instanceof HTMLElement){const e=a.parentNode;e&&e.removeChild(a)}a.onload=null,a.onerror=null,a=null}id()},{body:d}=document;d?(a=document.createElement(\"img\"),a.style.cssText=\"position:fixed;left:-10000000000px;width:auto;height:auto;\",a.onload=c,a.onerror=l,a.src=o,d.appendChild(a)):(a=new Image,a.onload=c,a.onerror=l,a.src=o)}(e.src,e.resolve,e.reject)}function sd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ad(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sd(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class cd extends c.PureComponent{constructor(){super(...arguments),f()(this,\"_img\",null),f()(this,\"_unmounted\",!1),f()(this,\"state\",ad(ad({},this.props.initialValue||{}),{},{validValue:null})),f()(this,\"_onSrcChange\",e=>{const t=e.target.value;this.setState({src:t,validValue:null},this._didSrcChange)}),f()(this,\"_didSrcChange\",()=>{od(this.state.src).then(e=>{if(this.state.src===e.src&&!this._unmounted){const t=e.complete?e:null;this.setState({validValue:t})}})}),f()(this,\"_cancel\",()=>{this.props.close()}),f()(this,\"_insert\",()=>{const{validValue:e}=this.state;this.props.close(e)})}componentWillUnmount(){this._unmounted=!0}render(){const{src:e,validValue:t}=this.state,n=t?c.createElement(\"div\",{className:\"czi-image-url-editor-input-preview\",style:{backgroundImage:\"url(\"+String(t.src)}}):null;return c.createElement(\"div\",{className:\"czi-image-url-editor\"},c.createElement(\"form\",{className:\"czi-form\",onSubmit:tl},c.createElement(\"fieldset\",null,c.createElement(\"legend\",null,ws(\"Insert Image\")),c.createElement(\"div\",{className:\"czi-image-url-editor-src-input-row\"},c.createElement(\"input\",{autoFocus:!0,className:\"czi-image-url-editor-src-input\",onChange:this._onSrcChange,placeholder:ws(\"Type Something...\"),type:\"text\",value:e||\"\"}),n),c.createElement(\"em\",null,ws(\"Only select image that you have confirmed the license to use\"))),c.createElement(\"div\",{className:\"czi-form-buttons\"},c.createElement(Tl,{label:ws(\"Cancel\"),onClick:this._cancel}),c.createElement(Tl,{active:!!t,disabled:!t,label:ws(\"Insert\"),onClick:this._insert}))))}}f()(cd,\"propsTypes\",{initialValue:Oe.a.object,close:function(e,t){var n=e[t];if(!n.prototype||\"function\"!=typeof n.prototype.constructor&&1!==n.prototype.constructor.length)return new Error(t+\"must be a function with 1 arg of type ImageLike\")}});var ld=cd;var ud=class extends Zu{getEditor(){return ld}};n(317);class dd extends c.PureComponent{render(){return c.createElement(\"div\",{className:\"czi-loading-indicator\"},c.createElement(\"div\",{className:\"frag czi-loading-indicator-frag-1\"}),c.createElement(\"div\",{className:\"frag czi-loading-indicator-frag-2\"}),c.createElement(\"div\",{className:\"frag czi-loading-indicator-frag-3\"}),c.createElement(\"div\",{className:\"frag czi-loading-indicator-frag-4\"}))}}var pd=dd;n(318);class fd extends c.PureComponent{constructor(){super(...arguments),f()(this,\"_img\",null),f()(this,\"_unmounted\",!1),f()(this,\"props\",void 0),f()(this,\"state\",{error:null,id:yc(),pending:!1}),f()(this,\"_onSelectFile\",e=>{const t=e.target.files&&e.target.files[0];t&&\"object\"==typeof t&&this._upload(t)}),f()(this,\"_onSuccess\",e=>{this._unmounted||this.props.close(e)}),f()(this,\"_onError\",e=>{this._unmounted||this.setState({error:e,id:yc(),pending:!1})}),f()(this,\"_upload\",async e=>{try{const t=this.props.runtime||{},{canUploadImage:n,uploadImage:r}=t;if(!n||!r||!n())throw new Error(\"feature is not available\");this.setState({pending:!0,error:null});const o=await r(e);this._onSuccess(o)}catch(e){this._onError(e)}}),f()(this,\"_cancel\",()=>{this.props.close()})}componentWillUnmount(){this._unmounted=!0}render(){const{id:e,error:t,pending:n}=this.state,r=el()(\"czi-image-upload-editor\",{pending:n,error:t});let o=\"Choose an image file...\";return n?o=c.createElement(pd,null):t&&(o=\"Something went wrong, please try again\"),c.createElement(\"div\",{className:r},c.createElement(\"form\",{className:\"czi-form\",onSubmit:tl},c.createElement(\"fieldset\",null,c.createElement(\"legend\",null,\"Upload Image\"),c.createElement(\"div\",{className:\"czi-image-upload-editor-body\"},c.createElement(\"div\",{className:\"czi-image-upload-editor-label\"},o),c.createElement(\"input\",{accept:\"image/png,image/gif,image/jpeg,image/jpg\",className:\"czi-image-upload-editor-input\",disabled:n,id:e,key:e,onChange:this._onSelectFile,type:\"file\"}))),c.createElement(\"div\",{className:\"czi-form-buttons\"},c.createElement(Tl,{label:\"Cancel\",onClick:this._cancel}))))}}var hd=fd;var md=class extends Zu{constructor(){super(...arguments),f()(this,\"isEnabled\",(e,t)=>{if(!t)return!1;const{runtime:n}=t;if(!n)return!1;const{canUploadImage:r,uploadImage:o}=n;return!(!r||!o)&&(!!r()&&this.__isEnabled(e,t))})}getEditor(){return hd}};function gd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gd(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bd(e,t,n){const{doc:r,selection:o}=e;if(!r||!o)return e;if(!(o instanceof Ye.TextSelection||o instanceof Ye.AllSelection))return e;const{nodes:i}=t,{from:s,to:a}=o,c=[],l=i[qo],u=i[Xo],d=i[ri];return r.nodesBetween(s,a,(r,o)=>{const i=r.type;return i===d||i===u||i===l?(e=vd(e,t,o,n),!1):!mu(r)||(c.push(o),!1)}),c.length?e=zu(e,t,e=>{const{schema:t}=e;let r=e.tr;return c.sort(pu).reverse().forEach(e=>{r=function(e,t,n,r){const o=t.nodes[ei];if(!o)return e;const{doc:i,selection:s}=e;if(!i)return e;const a=i.nodeAt(n);if(!a)return e;const c=ui(0,a.attrs.indent+r,7);if(c===a.attrs.indent)return e;const{from:l,to:u}=s;if(l<=n&&u>=n)return vd(e,t,n,r);const d=a.type,p=[],f=[],h=[];if(i.nodesBetween(n,n+a.nodeSize,(e,t)=>{if(e.type===d)return!0;if(e.type===o){const n=o.create(e.attrs,e.content,e.marks);return t+e.nodeSize<=l?p.push(n):t>u?h.push(n):f.push(n),!1}return!0}),e=e.delete(n,n+a.nodeSize),h.length){const t=d.create(a.attrs,Ve.Fragment.from(h));e=e.insert(n,Ve.Fragment.from(t))}if(f.length){const t=yd(yd({},a.attrs),{},{indent:c}),r=d.create(t,Ve.Fragment.from(f));e=e.insert(n,Ve.Fragment.from(r))}if(p.length){const t=d.create(a.attrs,Ve.Fragment.from(p));e=e.insert(n,Ve.Fragment.from(t))}return e}(r,t,e,n)}),r=Du(r),r}):e}function vd(e,t,n,r){if(!e.doc)return e;const o=e.doc.nodeAt(n);if(!o)return e;const i=ui(0,(o.attrs.indent||0)+r,7);if(i===o.attrs.indent)return e;const s=yd(yd({},o.attrs),{},{indent:i});return e.setNodeMarkup(n,o.type,s,o.marks)}var _d=class extends Yl{constructor(e){super(),f()(this,\"_delta\",void 0),f()(this,\"isActive\",e=>!1),f()(this,\"execute\",(e,t,n)=>{const{selection:r,schema:o}=e;let{tr:i}=e;return i=i.setSelection(r),i=bd(i,o,this._delta),!!i.docChanged&&(t&&t(i),!0)}),this._delta=e}};var wd=class extends Yl{constructor(){super(...arguments),f()(this,\"_popUp\",null),f()(this,\"isEnabled\",e=>{if(!(e.selection instanceof Ye.TextSelection))return!1;if(!e.schema.marks[Ro])return!1;const{from:t,to:n}=e.selection;return t<n}),f()(this,\"waitForUserInput\",(e,t,n,r)=>{if(this._popUp)return Promise.resolve(void 0);t&&t(Mc(e));const{doc:o,schema:i,selection:s}=e,a=i.marks[Ro];if(!a)return Promise.resolve(void 0);const{from:c,to:l}=s,u=Nc(o,c,l,a),d=u?u.mark.attrs.href:null;return new Promise(e=>{this._popUp=Ol(Il,{href:d},{modal:!0,onClose:t=>{this._popUp&&(this._popUp=null,e(t))}})})}),f()(this,\"executeWithUserInput\",(e,t,n,r)=>{if(t){const{selection:o,schema:i}=e;let{tr:s}=e;if(s=n?Rc(n.state):s,s=s.setSelection(o),void 0!==r){const t=i.marks[Ro],n=r?{href:r}:null;s=Ic(s.setSelection(e.selection),0,t,n)}t(s)}return n&&n.focus(),!0})}};var Ed=class extends Yl{constructor(){super(...arguments),f()(this,\"execute\",(e,t,n)=>{const{schema:r,selection:o}=e,i=function(e,t){const{selection:n}=e;if(!n)return e;const{from:r,empty:o}=n;if(!o)return e;const i=t.nodes[Yo];if(!i)return e;const s=t.nodes[ei];return Object(Bl.findParentNodeOfType)(s)(n)?e=(e=e.insert(r,Ve.Fragment.from(i.create()))).setSelection(Ye.TextSelection.create(e.doc,r+1,r+1)):e}(e.tr.setSelection(o),r);return!!i.docChanged&&(t&&t(i),!0)})}};function Sd(e,t){return t<0||t>e.content.size?null:e.nodeAt(t)}var Od=class extends Yl{constructor(e){super(),f()(this,\"_direction\",\"\"),f()(this,\"isActive\",e=>!1),f()(this,\"execute\",(e,t,n)=>{const{selection:r,schema:o}=e;let{tr:i}=e;const s=this._direction;return\"down\"===s?i=function(e,t){const{selection:n}=e;if(!n)return e;const r=t.nodes[ei];if(!r)return e;const{from:o,empty:i}=n;if(!i)return e;const s=Object(Bl.findParentNodeOfType)(r)(n);if(!s)return e;const{pos:a,node:c}=s;if(o!==a+c.content.size)return e;const l=e.doc.resolve(a).parent.type,u=Object(Bl.findParentNodeOfType)(l)(n);if(!u)return e;const d=a+c.nodeSize;let p,f=Sd(e.doc,d),h=d;if(u.start+u.node.content.size===d&&(f=Sd(e.doc,d+1),h+=1),!f)return e;switch(f.type){case r:const e=ic()(f.firstChild);p=Ve.Fragment.from(e.content);break;case t.nodes[Xo]:case t.nodes[ri]:p=Ve.Fragment.from(f.content)}if(!p)return e;const m=t.text(\" \");return e=(e=(e=(e=e.delete(h,h+f.nodeSize)).insert(d-2,p)).insert(d-2,Ve.Fragment.from(m))).setSelection(Ye.TextSelection.create(e.doc,d-2,d-2))}(i.setSelection(r),o):\"up\"===s&&(i=function(e,t){const{selection:n}=e;if(!n)return e;const r=t.nodes[ei];if(!r)return e;const{from:o,empty:i}=n;if(!i)return e;const s=Object(Bl.findParentNodeOfType)(r)(n);if(!s)return e;const{pos:a,node:c}=s;if(o!==a+2)return e;const l=e.doc.resolve(a).nodeBefore;if(!l||l.type!==r)return e;if(1!==c.childCount)return e;const u=c.firstChild,d=t.text(\" \");return e=(e=(e=(e=e.delete(a-2,a+c.nodeSize)).insert(a-2,Ve.Fragment.from(d))).insert(a-1,Ve.Fragment.from(u.content))).setSelection(Ye.TextSelection.create(e.doc,a-1,a-1))}(i.setSelection(r),o)),!!i.docChanged&&(t&&t(i),!0)}),this._direction=e}};function xd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xd(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cd(e,t){const n=t.nodes[ei];if(!n)return e;const{selection:r}=e;if(!r)return e;const{$from:o,$to:i,node:s}=r;if(s&&s.isBlock||o.depth<2||!o.sameParent(i))return e;const a=o.node(-1);if(a.type!==n)return e;if(0==o.parent.content.size)return function(e,t){const n=t.nodes[ei],r=t.nodes[ni],o=t.nodes[Go],i=t.nodes[ri];if(!n||!i)return e;const s=Object(Bl.findParentNodeOfType)(n)(e.selection);if(!s||\"\"!==s.node.textContent)return e;const a=r&&Object(Bl.findParentNodeOfType)(r)(e.selection)||o&&Object(Bl.findParentNodeOfType)(o)(e.selection);if(!a)return e;const c=e.doc.resolve(s.pos),l=c.index(c.depth),u=a.node;if(u.childCount<3||l<1||l>=u.childCount-1)return e;let{name:d}=u.attrs;d||(d=yc(),e=e.setNodeMarkup(a.pos,u.type,kd(kd({},u.attrs),{},{name:d}),u.marks));const p=s.pos+s.node.nodeSize,f=a.pos+a.node.nodeSize-1,h=e.doc.slice(p,f,!1),m=s.pos,g=a.pos+a.node.nodeSize;e=e.delete(m,g);const y=a.node,b=kd({},y.attrs);r===y.type&&(b.counterReset=\"none\",b.following=d);const v=m+1,_=y.type.create(b,h.content);e=e.insert(v,_);const w=i.create({},Ve.Fragment.empty);return e=(e=e.insert(v,w)).setSelection(Ye.TextSelection.create(e.doc,v))}(e,t);const c=i.pos==o.end()?a.contentMatchAt(o.indexAfter(-1)).defaultType:null;e=e.delete(o.pos,i.pos);const l=c&&[null,{type:c}];return Object(io.h)(e.doc,o.pos,2,l)?e.split(o.pos,2,l):e}var Ad=class extends Yl{constructor(e){super(),f()(this,\"execute\",(e,t,n)=>{const{selection:r,schema:o}=e,i=Cd(e.tr.setSelection(r),o);return!!i.docChanged&&(t&&t(i),!0)})}};var Td=class extends Yl{constructor(e){super(),f()(this,\"_ordered\",void 0),f()(this,\"isActive\",e=>this._ordered?!!this._findList(e,ni):!!this._findList(e,Go)),f()(this,\"execute\",(e,t,n)=>{const{selection:r,schema:o}=e,i=o.nodes[this._ordered?ni:Go];let{tr:s}=e;return s=s.setSelection(r),i?(s=function(e,t,n){const{selection:r,doc:o}=e;if(!r||!o)return e;let{from:i,to:s}=r,a=null;0===i&&(i=1,a=Ye.TextSelection.create(o,i,s),e=e.setSelection(a));const c=Ye.TextSelection.create(o,i,i),l=t.nodes[ri],u=t.nodes[Xo],d=Object(Bl.findParentNodeOfType)(n)(c),p=Object(Bl.findParentNodeOfType)(l)(c),f=Object(Bl.findParentNodeOfType)(u)(c);return d?e=Hu(e,t,d.pos):(l&&p||u&&f)&&(e=Fu(e,t,n,a)),e}(s,o,i),!!s.docChanged&&(t&&t(s),!0)):s}),this._ordered=e}_findList(e,t){const{nodes:n}=e.schema,r=n[t];return(r?Object(Bl.findParentNodeOfType)(r):du)(e.selection)}};var Pd=class extends Yl{constructor(e){super(),f()(this,\"_markName\",void 0),f()(this,\"isActive\",e=>{const{schema:t,doc:n,selection:r}=e,{from:o,to:i}=r,s=t.marks[this._markName];return!!(s&&o<i)&&!!Nc(n,o,i-1,s)}),f()(this,\"execute\",(e,t,n)=>{const{schema:r,selection:o,tr:i}=e,s=r.marks[this._markName];if(!s)return!1;if(o.empty&&!(o instanceof Ye.TextSelection))return!1;const{from:a,to:c}=o;if(i&&c===a+1){const e=i.doc.nodeAt(a);if(e.isAtom&&!e.isText&&e.isLeaf)return!1}return function(e,t){return function(n,r){var o=n.selection,i=o.empty,s=o.$cursor,a=o.ranges;if(i&&!s||!function(e,t,n){for(var r=function(r){var o=t[r],i=o.$from,s=o.$to,a=0==i.depth&&e.type.allowsMarkType(n);if(e.nodesBetween(i.pos,s.pos,(function(e){if(a)return!1;a=e.inlineContent&&e.type.allowsMarkType(n)})),a)return{v:!0}},o=0;o<t.length;o++){var i=r(o);if(i)return i.v}return!1}(n.doc,a,e))return!1;if(r)if(s)e.isInSet(n.storedMarks||s.marks())?r(n.tr.removeStoredMark(e)):r(n.tr.addStoredMark(e.create(t)));else{for(var c=!1,l=n.tr,u=0;!c&&u<a.length;u++){var d=a[u],p=d.$from,f=d.$to;c=n.doc.rangeHasMark(p.pos,f.pos,e)}for(var h=0;h<a.length;h++){var m=a[h],g=m.$from,y=m.$to;c?l.removeMark(g.pos,y.pos,e):l.addMark(g.pos,y.pos,e.create(t))}r(l.scrollIntoView())}return!0}}(s)(e,t,n)}),this._markName=e}};var Md=class extends Yl{constructor(){super(...arguments),f()(this,\"isActive\",e=>!1),f()(this,\"isEnabled\",e=>{const{selection:t}=e;return!t.empty&&(t instanceof Ye.TextSelection||t instanceof Ye.AllSelection)}),f()(this,\"execute\",(e,t,n)=>{let r=Pu(e.tr.setSelection(e.selection),e.schema);return r=function(e,t){const{doc:n,selection:r}=e;if(!r||!n)return e;const{from:o,to:i,empty:s}=r;if(s)return e;const{nodes:a}=t,c=a[Xo],l=a[ri],u=[];return n.nodesBetween(o,i,(e,t)=>(c===e.type&&u.push({node:e,pos:t}),!0)),u.length?(u.forEach(t=>{const{node:n,pos:r}=t;e=e.setNodeMarkup(r,l,n.attrs,n.marks)}),e):e}(r,e.schema),!(!t||!r.docChanged)&&(t(r),!0)})}};n(319),Oe.a.string.isRequired,Oe.a.string.isRequired,Oe.a.string.isRequired,Oe.a.string.isRequired,Oe.a.string.isRequired,Oe.a.string.isRequired,Oe.a.oneOf([\"cmd\",\"write\"]).isRequired,Oe.a.string.isRequired;const Rd={title:[ws(\"Operators\")],symbols:[{label:\"+\",latex:\"+\",description:\"Addition\",cmd:\"cmd\"},{label:\"-\",latex:\"-\",description:\"Subtraction\",cmd:\"cmd\"},{label:\"\\\\times\",latex:\"\\\\times\",description:\"Multiplication\",cmd:\"cmd\"},{label:\"\\\\cdot\",latex:\"\\\\cdot\",description:\"Dot for Multiplication\",cmd:\"write\"},{label:\"÷\",latex:\"\\\\divide\",description:\"Division\",cmd:\"cmd\"},{label:\"=\",latex:\"=\",description:\"Equal\",cmd:\"cmd\"},{label:\"\\\\approx\",latex:\"\\\\approx\",description:\"Approximation\",cmd:\"cmd\"},{label:\"\\\\sim\",latex:\"\\\\sim\",description:\"Similarity\",cmd:\"write\"},{label:\"\\\\simeq\",latex:\"\\\\simeq\",description:\"Approximately Equal\",cmd:\"write\"},{label:\"\\\\cong\",latex:\"\\\\cong\",description:\"Congruent To\",cmd:\"write\"},{label:\"\\\\neq\",latex:\"\\\\neq\",description:\"Not Equal\",cmd:\"write\"},{label:\"\\\\pm\",latex:\"\\\\pm\",description:\"Plus-Minus\",cmd:\"cmd\"},{label:\"<\",latex:\"<\",description:\"Less Than\",cmd:\"cmd\"},{label:\">\",latex:\">\",description:\"Greater Than\",cmd:\"cmd\"},{label:\"\\\\le\",latex:\"le\",description:\"Less Than or Equal To\",cmd:\"cmd\"},{label:\"\\\\ge\",latex:\"\\\\ge\",description:\"Greater Than or Equal To\",cmd:\"cmd\"},{label:\"\\\\cup\",latex:\"\\\\cup\",description:\"Union\",cmd:\"write\"},{label:\"\\\\cap\",latex:\"\\\\cap\",description:\"Intersection\",cmd:\"write\"},{label:\"\\\\sub\",latex:\"\\\\sub\",description:\"Subset\",cmd:\"write\"},{label:\"\\\\sube\",latex:\"\\\\sube\",description:\"Subset or Equal\",cmd:\"write\"},{label:\"\\\\supset\",latex:\"\\\\supset\",description:\"Superset\",cmd:\"write\"},{label:\"\\\\supe\",latex:\"\\\\supe\",description:\"Superset or Equal\",cmd:\"write\"},{label:\"\\\\vert\",latex:\"\\\\vert\",description:\"Vertical Line\",cmd:\"write\"},{label:\"\\\\otimes\",latex:\"\\\\otimes\",description:\"Tensor Product\",cmd:\"write\"}]},Dd={title:[ws(\"Structure\")],symbols:[{label:\"\\\\sum\",latex:\"\\\\sum\",description:\"Summation\",cmd:\"cmd\"},{label:\"\\\\frac {x}{y}\",latex:\"\\\\frac\",description:\"Fraction\",cmd:\"cmd\"},{label:\"(x)\",latex:\"(\",description:\"Parentheses\",cmd:\"cmd\"},{label:\"[x]\",latex:\"[\",description:\"Brackets\",cmd:\"cmd\"},{label:\"x^{2}\",latex:\"^{2}\",description:\"Square\",cmd:\"write\"},{label:\"x_{2}\",latex:\"_{2}\",description:\"Subscript\",cmd:\"write\"},{label:\"|x|\",latex:\"|\",description:\"Absolute Value\",cmd:\"cmd\"},{label:\"\\\\int_{x}^{y}\",latex:\"\\\\int_{x}^{y}\",description:\"Integral\",cmd:\"write\"},{label:\"\\\\overline　\",latex:\"\\\\overline\",description:\"Overline\",cmd:\"cmd\"},{label:\"\\\\underline　\",latex:\"\\\\underline\",description:\"Underline\",cmd:\"cmd\"},{label:\"x^{y}\",latex:\"^\",description:\"Power\",cmd:\"cmd\"},{label:\"\\\\int\",latex:\"\\\\int\",description:\"Integral\",cmd:\"cmd\"},{label:\"\\\\sqrt x\",latex:\"\\\\sqrt\",description:\"Square Root\",cmd:\"cmd\"},{label:\"\\\\sqrt[x]{y}\",latex:\"\\\\sqrt[x]{y}\",description:\"Square Root Alt\",cmd:\"write\"},{label:\"\\\\log\",latex:\"\\\\log\",description:\"Log\",cmd:\"cmd\"}]},Id={title:[ws(\"Symbols\")],symbols:[{label:\"ℯ\",latex:\"ℯ\",description:\"Script Small E\",cmd:\"write\"},{label:\"\\\\angle\",latex:\"\\\\angle\",description:\"Angle\",cmd:\"write\"},{label:\"\\\\pi\",latex:\"\\\\pi\",description:\"Pi\",cmd:\"write\"},{label:\"i\",latex:\"i\",description:\"Imaginary Number\",cmd:\"write\"},{label:\"\\\\deg\",latex:\"\\\\deg\",description:\"Degrees\",cmd:\"write\"},{label:\"\\\\theta\",latex:\"\\\\theta\",description:\"Theta\",cmd:\"write\"},{label:\"\\\\phi\",latex:\"\\\\phi\",description:\"Phi\",cmd:\"write\"},{label:\"\\\\bigtriangleup\",latex:\"\\\\bigtriangleup\",description:\"Triangle\",cmd:\"write\"},{label:\"\\\\infty\",latex:\"\\\\infty\",description:\"Infinity\",cmd:\"write\"},{label:\"$\",latex:\"$\",description:\"Dollar\",cmd:\"write\"},{label:\"¢\",latex:\"¢\",description:\"Cent\",cmd:\"write\"},{label:\"\\\\vdash\",latex:\"\\\\vdash\",description:\"Vertical and Dash Line\",cmd:\"write\"},{label:\"\\\\perp\",latex:\"\\\\perp\",description:\"Perpendicular Lines\",cmd:\"write\"},{label:\"\\\\Longleftarrow\",latex:\"\\\\Longleftarrow\",description:\"Long Left Arrow\",cmd:\"write\"},{label:\"\\\\Longrightarrow\",latex:\"\\\\Longrightarrow\",description:\"Long Right Arrow\",cmd:\"write\"},{label:\"\\\\Longleftrightarrow\",latex:\"\\\\Longleftrightarrow\",description:\"Long Left Right Arrow\",cmd:\"write\"}]},Nd={title:[ws(\"Trigonometry\")],symbols:[{label:\"\\\\sin\",latex:\"\\\\sin\",description:\"Sin\",cmd:\"write\"},{label:\"\\\\cos\",latex:\"\\\\cos\",description:\"Cos\",cmd:\"write\"},{label:\"\\\\tan\",latex:\"\\\\tan\",description:\"Tan\",cmd:\"write\"},{label:\"\\\\arcsin\",latex:\"\\\\arcsin\",description:\"Arc Sin\",cmd:\"write\"},{label:\"\\\\arccos\",latex:\"\\\\arccos\",description:\"Arc Cos\",cmd:\"write\"},{label:\"\\\\arctan\",latex:\"\\\\arctan\",description:\"Arc Tan\",cmd:\"write\"}]},jd={};function Ld(e){const t=document;return jd.hasOwnProperty(e)?Promise.resolve(jd[e]):t.fonts&&t.fonts.check&&t.fonts.ready&&t.fonts.status&&t.fonts.values?new Promise(n=>{const r=()=>{if(\"loaded\"!==t.fonts.status)return void setTimeout(r,350);const o=!!Array.from(t.fonts.values()).find(t=>t.family===e);jd[e]=o,n(o)};t.fonts.ready.then(r)}):(console.log(\"FontFaceSet is not supported\"),Promise.resolve(!1))}var zd=n(151),Bd=n.n(zd);n(320);const Ud=document.createElement(\"div\"),Hd={};function Fd(e){if(Hd.hasOwnProperty(e))return Hd[e];const t=e||\"\";if(Ud.innerHTML=\"\",!t)return t;try{Bd.a.render(e,Ud)}catch(n){console.warn(n.message,e),Ud.innerHTML=\"\",Ud.appendChild(document.createTextNode(t))}const n=Ud.innerHTML;return Ud.innerHTML=\"\",Hd[e]=n,n}!async function(){await Ld(\"KaTeX_Main\")||console.info(\"Add CSS from \",\"//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.1/katex.min.css\")}();n(381);class Vd extends c.PureComponent{constructor(){super(...arguments),f()(this,\"props\",void 0),f()(this,\"_renderButton\",e=>{const{label:t,latex:n,description:r}=e,o=Fd(t),i=c.createElement(\"span\",{dangerouslySetInnerHTML:{__html:o}});return c.createElement(Tl,{className:\"czi-mathquill-editor-symbols-panel-button\",icon:i,key:t+n,onClick:this.props.onSelect,title:r,value:e})})}render(){const{title:e,symbols:t}=this.props.symbols,n=t.map(this._renderButton);return c.createElement(\"div\",{className:\"czi-mathquill-editor-symbols-panel\"},c.createElement(\"div\",{className:\"czi-mathquill-editor-symbols-panel-title\"},e),c.createElement(\"div\",{className:\"czi-mathquill-editor-symbols-panel-body\"},n))}}var qd=Vd;n(382),n(144);const Kd=n(388).default.getInterface(2);!async function(){await Ld(\"Symbola\")||console.info(\"Add CSS from \",\"//cdnjs.cloudflare.com/ajax/libs/mathquill/0.10.1/mathquill.css\")}();class Gd extends c.Component{shouldComponentUpdate(){return!1}render(){return c.createElement(\"div\",{className:\"czi-mathquill-editor-element\",dangerouslySetInnerHTML:{__html:this.props.value}})}}class $d extends c.PureComponent{constructor(){super(...arguments),f()(this,\"props\",void 0),f()(this,\"_element\",null),f()(this,\"_ignoreEditEvents\",4),f()(this,\"_mathField\",null),f()(this,\"_latex\",\"\"),f()(this,\"_renderPanel\",(e,t)=>c.createElement(qd,{key:\"s\"+t,onSelect:this._onSymbolSelect,symbols:e})),f()(this,\"_onSymbolSelect\",e=>{const{latex:t,cmd:n}=e,r=this._mathField;r&&n&&t&&(\"write\"===n?r.write(t):\"cmd\"===n&&r.cmd(t),r.focus())}),f()(this,\"_onEdit\",e=>{if(this._ignoreEditEvents>0)return void(this._ignoreEditEvents-=1);const{onChange:t}=this.props,n=e.latex();this._latex=n,t&&t(n)}),f()(this,\"_onElementRef\",e=>{this._element=e?d.a.findDOMNode(e):null})}render(){const{value:e}=this.props,t=[Rd,Dd,Id,Nd].map(this._renderPanel),n=!e,r=el()(\"czi-mathquill-editor\",{empty:n});return c.createElement(\"div\",{className:r},c.createElement(\"div\",{className:\"czi-mathquill-editor-main\"},c.createElement(Gd,{ref:this._onElementRef})),c.createElement(\"div\",{className:\"czi-mathquill-editor-side\"},t))}componentDidUpdate(){const e=this._mathField;this._latex!==this.props.value&&e&&e.latex(this.props.value||\" \")}componentDidMount(){const e={autoCommands:\"pi theta sqrt sum\",autoOperatorNames:\"sin cos\",restrictMismatchedBrackets:!0,handlers:{edit:this._onEdit}},t=Kd.MathField(this._element,e);this._mathField=t;const n=(this.props.value||\"\").replace(/\\\\displaystyle/g,\"\");t.latex(n||\" \"),t.focus(),n&&!t.latex()&&console.error(\"unable to process latex\",n)}}var Wd=$d;class Yd extends c.PureComponent{constructor(){super(...arguments),f()(this,\"state\",{initialValue:this.props.initialValue,value:this.props.initialValue||\"\"}),f()(this,\"_id\",yc()),f()(this,\"_unmounted\",!1),f()(this,\"_onChange\",e=>{this.setState({value:e})}),f()(this,\"_cancel\",()=>{this.props.close()}),f()(this,\"_insert\",()=>{this.props.close(this.state.value)})}render(){const{initialValue:e,value:t}=this.state;return c.createElement(\"div\",{className:\"czi-math-editor\"},c.createElement(\"form\",{className:\"czi-form\",onSubmit:tl},c.createElement(\"fieldset\",null,c.createElement(\"legend\",null,ws(\"Insert Math\")),c.createElement(Wd,{onChange:this._onChange,value:t})),c.createElement(\"div\",{className:\"czi-form-buttons\"},c.createElement(Tl,{label:ws(\"Cancel\"),onClick:this._cancel}),c.createElement(Tl,{active:!0,disabled:!this.state.value,label:ws(e?\"Update\":\"Insert\"),onClick:this._insert}))))}}f()(Yd,\"propsTypes\",{initialValue:Oe.a.string,close:function(e,t){var n=e[t];if(!n.prototype||\"function\"!=typeof n.prototype.constructor&&1!==n.prototype.constructor.length)return new Error(t+\"must be a function with 1 arg of type string\")}});var Xd=Yd;var Jd=class extends Yl{constructor(){super(...arguments),f()(this,\"_popUp\",null),f()(this,\"isEnabled\",(e,t)=>{const n=e,{selection:r}=n;return r instanceof Ye.TextSelection&&r.from===r.to}),f()(this,\"waitForUserInput\",(e,t,n,r)=>this._popUp?Promise.resolve(void 0):(t&&t(Za(e)),new Promise(e=>{const t={runtime:n?n.runtime:null,initialValue:null};this._popUp=Ol(Xd,t,{modal:!0,onClose:t=>{this._popUp&&(this._popUp=null,e(t))}})}))),f()(this,\"executeWithUserInput\",(e,t,n,r)=>{if(t){const{selection:o,schema:i}=e;let{tr:s}=e;s=n?Qa(n.state):s,s=s.setSelection(o),r&&(s=function(e,t,n){const{selection:r}=e;if(!r)return e;const{from:o,to:i}=r;if(o!==i)return e;const s=t.nodes[ti];if(!s)return e;const a={latex:n},c=s.create(a,null,null),l=Ve.Fragment.from(c);return e=e.insert(o,l)}(s,i,r)),t(s),n&&n.focus()}return!1})}};var Zd=class extends Yl{constructor(){super(...arguments),f()(this,\"isActive\",e=>!1),f()(this,\"isEnabled\",e=>!!window.print),f()(this,\"execute\",(e,t,n)=>!(!t||!window.print)&&(window.print(),!0))}};n(389);function Qd(e,t,n){const r=[],o=360/e,i=ui(0,t,100),s=ui(0,n,100);let a=0;for(;a<360;){const e=`hsl(${a},${i}%,${s}%)`,t=Ci()(e);r.unshift(t),a+=o}return r}class ep extends c.PureComponent{constructor(){super(...arguments),f()(this,\"props\",void 0),f()(this,\"_renderColor\",(e,t)=>{const n=this.props.hex,r=e.hex().toLowerCase(),o={backgroundColor:r},i=n&&n.toLowerCase()===r;return c.createElement(Tl,{active:i,className:\"czi-color-editor-cell\",key:`${r}-${t}`,label:\"\",onClick:this._onSelectColor,style:o,value:r})}),f()(this,\"_onSelectColor\",e=>{this.props.close(e)})}render(){const e=this._renderColor,t=this.props.hex;return c.createElement(\"div\",{className:\"czi-color-editor\"},c.createElement(\"div\",{className:\"czi-color-editor-section\"},c.createElement(Tl,{active:!t,className:\"czi-color-editor-color-transparent\",label:ws(\"Transparent\"),onClick:this._onSelectColor,value:\"rgba(0,0,0,0)\"})),c.createElement(\"div\",{className:\"czi-color-editor-section\"},function(e){let t=255;const n=t/e,r=[];for(;t>0;){const e=Ci()({r:t,g:t,b:t});t-=n,t=Math.floor(t),r.unshift(e)}return r}(10).map(e)),c.createElement(\"div\",{className:\"czi-color-editor-section\"},Qd(10,90,50).map(e)),c.createElement(\"div\",{className:\"czi-color-editor-section\"},Qd(30,70,70).map(e)),c.createElement(\"div\",{className:\"czi-color-editor-section\"},Qd(30,90,30).map(e)))}}var tp=ep;const np=Object(js.setCellAttr)(\"background\",\"#000000\");var rp=class extends Yl{constructor(){super(...arguments),f()(this,\"_popUp\",null),f()(this,\"shouldRespondToUIEvent\",e=>e.type===Yl.EventType.MOUSEENTER),f()(this,\"isEnabled\",e=>np(e.tr)),f()(this,\"waitForUserInput\",(e,t,n,r)=>{if(this._popUp)return Promise.resolve(void 0);if(!(ic()(r).currentTarget instanceof HTMLElement))return Promise.resolve(void 0);const o=r?r.currentTarget:null;return new Promise(e=>{this._popUp=Ol(tp,null,{anchor:o,position:ul,onClose:t=>{this._popUp&&(this._popUp=null,e(t))}})})}),f()(this,\"executeWithUserInput\",(e,t,n,r)=>{if(t&&void 0!==r){return Object(js.setCellAttr)(\"background\",r)(e,t,n),!0}return!1})}cancel(){this._popUp&&this._popUp.close(void 0)}};const op=Object(js.setCellAttr)(\"borderColor\",\"#000000\");var ip=class extends Yl{constructor(){super(...arguments),f()(this,\"_popUp\",null),f()(this,\"shouldRespondToUIEvent\",e=>e.type===Yl.EventType.MOUSEENTER),f()(this,\"isEnabled\",e=>op(e.tr)),f()(this,\"waitForUserInput\",(e,t,n,r)=>{if(this._popUp)return Promise.resolve(void 0);if(!(ic()(r).currentTarget instanceof HTMLElement))return Promise.resolve(void 0);const o=r?r.currentTarget:null;return new Promise(e=>{this._popUp=Ol(tp,null,{anchor:o,position:ul,onClose:t=>{this._popUp&&(this._popUp=null,e(t))}})})}),f()(this,\"executeWithUserInput\",(e,t,n,r)=>{if(t&&void 0!==r){return Object(js.setCellAttr)(\"borderColor\",r)(e,t,n),!0}return!1})}cancel(){this._popUp&&this._popUp.close(void 0)}};Oe.a.number.isRequired,Oe.a.number.isRequired,Oe.a.number.isRequired,Oe.a.number.isRequired;n(390),Oe.a.number.isRequired,Oe.a.number.isRequired;class sp extends c.PureComponent{render(){const{x:e,y:t,selected:n}=this.props,r={left:e+\"px\",top:t+\"px\",width:\"16px\",height:\"16px\"},o=el()(\"czi-table-grid-size-editor-cell\",{selected:n});return c.createElement(\"div\",{className:o,style:r})}}class ap extends c.PureComponent{constructor(){super(...arguments),f()(this,\"_ex\",0),f()(this,\"_ey\",0),f()(this,\"_mx\",0),f()(this,\"_my\",0),f()(this,\"_rafID\",0),f()(this,\"_ref\",null),f()(this,\"_entered\",!1),f()(this,\"props\",void 0),f()(this,\"state\",{rows:1,cols:1}),f()(this,\"_onRef\",e=>{this._ref=e}),f()(this,\"_onMouseEnter\",e=>{const t=e.currentTarget;if(t instanceof HTMLElement){const n=al(t),r=Math.round(e.clientX),o=Math.round(e.clientY);this._ex=n.x,this._ey=n.y,this._mx=r,this._my=o,this._entered||(this._entered=!0,document.addEventListener(\"mousemove\",this._onMouseMove,!0))}}),f()(this,\"_onMouseMove\",e=>{const t=this._ref&&d.a.findDOMNode(this._ref),n=t?function(e){const t=e.getBoundingClientRect();return{x:t.left,y:t.top,w:t.width,h:t.height}}(t):null,r=sl(e.screenX,e.screenY,10);n&&r&&il(n,r,50)&&(e.preventDefault(),e.stopImmediatePropagation());const o=Math.round(e.clientX),i=Math.round(e.clientY);o===this._mx&&i===this._my||(this._mx=o,this._my=i,this._rafID&&cancelAnimationFrame(this._rafID),this._rafID=requestAnimationFrame(this._updateGridSize))}),f()(this,\"_updateGridSize\",()=>{this._rafID=0;const e=this._mx,t=this._my,n=e-this._ex,r=t-this._ey,o=ui(1,Math.ceil(r/21),7),i=ui(1,Math.ceil(n/21),7),{rows:s,cols:a}=this.state;s===o&&a===i||this.setState({rows:o,cols:i})}),f()(this,\"_onMouseDown\",e=>{e.preventDefault(),this.props.close(this.state)})}componentWillUnmount(){this._entered&&document.removeEventListener(\"mousemove\",this._onMouseMove,!0),this._rafID&&cancelAnimationFrame(this._rafID)}render(){const{rows:e,cols:t}=this.state;let n=Math.max(5,e),r=Math.max(5,t);n===e&&(n=Math.min(7,n+1)),r===t&&(r=Math.min(7,r+1));const o=[];let i=0,s=0,a=0,l=0;for(;i<n;){s+=5;let n=0,u=0;for(;n<r;){u+=5;const r=i<e&&n<t;o.push(c.createElement(sp,{key:`${String(i)}-${String(n)}`,selected:r,x:u,y:s})),u+=16,a=u+5,n++}s+=16,l=s+5,i++}const u={width:a+\"px\",height:l+\"px\"};return c.createElement(\"div\",{className:\"czi-table-grid-size-editor\",ref:this._onRef},c.createElement(\"div\",{className:\"czi-table-grid-size-editor-body\",onMouseDown:this._onMouseDown,onMouseEnter:this._onMouseEnter,style:u},o),c.createElement(\"div\",{className:\"czi-table-grid-size-editor-footer\"},e,\" X \",t))}}var cp=ap;var lp=class extends Yl{constructor(){super(...arguments),f()(this,\"_popUp\",null),f()(this,\"shouldRespondToUIEvent\",e=>e.type===Yl.EventType.MOUSEENTER),f()(this,\"isEnabled\",e=>{const t=e;let n=!1;const{selection:r}=t;if(r instanceof Ye.TextSelection){if(n=r.from===r.to,n){let e=r.$head;for(let t=e.depth;t>0;t--)if(\"row\"==e.node(t).type.spec.tableRole)return!1}return n}return n}),f()(this,\"waitForUserInput\",(e,t,n,r)=>{if(this._popUp)return Promise.resolve(void 0);if(!(ic()(r).currentTarget instanceof HTMLElement))return Promise.resolve(void 0);const o=r?r.currentTarget:null;return new Promise(e=>{this._popUp=Ol(cp,null,{anchor:o,position:ul,onClose:t=>{this._popUp&&(this._popUp=null,e(t))}})})}),f()(this,\"executeWithUserInput\",(e,t,n,r)=>{if(t){const{selection:n,schema:o}=e;let{tr:i}=e;if(r){const{rows:e,cols:t}=r;i=i.setSelection(n),i=function(e,t,n,r){if(!e.selection||!e.doc)return e;const{from:o,to:i}=e.selection;if(o!==i)return e;const{nodes:s}=t,a=s[ii],c=s[ri],l=s[ai],u=s[oi];if(!(a&&c&&l&&u))return e;const d=[];for(let e=0;e<n;e++){const e=[];for(let t=0;t<r;t++){const t=a.create(void 0,Ve.Fragment.fromArray([c.create()]));e.push(t)}const t=l.create({},Ve.Fragment.from(e));d.push(t)}const p=u.create({},Ve.Fragment.from(d));e=e.insert(o,Ve.Fragment.from(p));const f=Ye.TextSelection.create(e.doc,o+5,o+5);return e=e.setSelection(f)}(i,o,e,t)}t(i)}return!1})}};function up(e){if(!e)return!1;if(e.type.name!==ri)return!1;const{firstChild:t,lastChild:n}=e;return!t||t===n&&(t.type.name===ci&&\" \"===t.text)}var dp=class extends Yl{constructor(){super(...arguments),f()(this,\"execute\",(e,t,n)=>{const{tr:r,schema:o,selection:i}=e;let s=r;i instanceof js.CellSelection&&(Object(js.mergeCells)(e,e=>{s=e},n),s=function(e,t){const n=t.nodes[ri],r=t.nodes[ii];if(!n||!r)return e;const{doc:o,selection:i}=e;if(!i instanceof js.CellSelection)return e;const{from:s,to:a}=i,c=[];return o.nodesBetween(s,a,(t,o,i)=>{if(t.type===n&&i.type===r){if(up(t)){up(e.doc.resolve(o).nodeBefore)&&c.push(o)}return!1}return!0}),c.reverse().forEach(t=>{const n=e.doc.nodeAt(t);e=e.delete(t,t+n.nodeSize)}),e}(s,o));const a=s.docChanged||s!==r;return a&&t&&t(s),a})}};const pp=new Set([Po,zo]);function fp(e,t){const{selection:n,schema:r,tr:o}=e;if(!r.marks[t])return!1;const i=r.nodes[ti];if(i&&pp.has(t)&&function(e,t){return e instanceof Ye.NodeSelection&&e.node.type===t}(n,i))return!0;if(!(n instanceof Ye.TextSelection||n instanceof Ye.AllSelection))return!1;const{from:s,to:a}=e.selection;if(a===s+1){const e=o.doc.nodeAt(s);if(e.isAtom&&!e.isText&&e.isLeaf)return!1}return!0}var hp=class extends Yl{constructor(){super(...arguments),f()(this,\"_popUp\",null),f()(this,\"isEnabled\",e=>fp(e,zo)),f()(this,\"waitForUserInput\",(e,t,n,r)=>{if(this._popUp)return Promise.resolve(void 0);if(!(ic()(r).currentTarget instanceof HTMLElement))return Promise.resolve(void 0);const{doc:o,selection:i,schema:s}=e,a=s.marks[zo],c=r?r.currentTarget:null,{from:l,to:u}=i,d=Nc(o,l,u,a),p=d?d.mark.attrs.color:null;return new Promise(e=>{this._popUp=Ol(tp,{hex:p},{anchor:c,onClose:t=>{this._popUp&&(this._popUp=null,e(t))}})})}),f()(this,\"executeWithUserInput\",(e,t,n,r)=>{if(t&&void 0!==r){const{schema:n}=e;let{tr:o}=e;const i=n.marks[zo],s=r?{color:r}:null;if(o=Ic(e.tr.setSelection(e.selection),0,i,s),o.docChanged||o.storedMarksSet)return t&&t(o),!0}return!1})}};var mp=class extends Yl{constructor(){super(...arguments),f()(this,\"_popUp\",null),f()(this,\"isEnabled\",e=>fp(e,Bo)),f()(this,\"waitForUserInput\",(e,t,n,r)=>{if(this._popUp)return Promise.resolve(void 0);if(!(ic()(r).currentTarget instanceof HTMLElement))return Promise.resolve(void 0);const{doc:o,selection:i,schema:s}=e,a=s.marks[Bo],{from:c,to:l}=i,u=Nc(o,c,l,a),d=u?u.mark.attrs.highlightColor:null,p=r?r.currentTarget:null;return new Promise(e=>{this._popUp=Ol(tp,{hex:d},{anchor:p,onClose:t=>{this._popUp&&(this._popUp=null,e(t))}})})}),f()(this,\"executeWithUserInput\",(e,t,n,r)=>{if(t&&void 0!==r){const{schema:n}=e;let{tr:o}=e;const i=n.marks[Bo],s=r?{highlightColor:r}:null;if(o=Ic(o.setSelection(e.selection),0,i,s),o.docChanged||o.storedMarksSet)return t&&t(o),!0}return!1})}};var gp=class extends Yl{constructor(){super(...arguments),f()(this,\"execute\",(e,t,n,r)=>{const{schema:o,tr:i}=e,s=function(e,t){const{selection:n}=e;if(!(n.empty&&n instanceof Ye.TextSelection))return e;const r=t.marks[Fo];if(!r)return e;const o=t.nodes[ri],i=t.nodes[Xo],s=t.nodes[ei],a=s&&Object(Bl.findParentNodeOfType)(s)(n)||o&&Object(Bl.findParentNodeOfType)(o)(n)||i&&Object(Bl.findParentNodeOfType)(i)(n);if(!a)return e;const{from:c,to:l}=n;if(a.node.type===s&&a.pos===c-2)return e;const u=t.text(\" \"),d={size:\"tab\"};return e=(e=Ic(e=(e=e.insert(l,Ve.Fragment.from(u))).setSelection(Ye.TextSelection.create(e.doc,l,l+1)),0,r,d)).setSelection(Ye.TextSelection.create(e.doc,l+1,l+1))}(i,o);return!!s.docChanged&&(t&&t(s),!0)})}};function yp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yp(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class vp extends Yl{constructor(e){super(),f()(this,\"_lineSpacing\",void 0),f()(this,\"isActive\",e=>{const{selection:t,doc:n,schema:r}=e,{from:o,to:i}=t,s=r.nodes[ri],a=r.nodes[Xo];let c=!0,l=!1;return n.nodesBetween(o,i,(e,t)=>{const n=e.type;return!c||n!==s&&n!==a||e.attrs.lineSpacing!==this._lineSpacing||(c=!1,l=!0),c}),l}),f()(this,\"isEnabled\",e=>this.isActive(e)||this.execute(e)),f()(this,\"execute\",(e,t,n)=>{const{schema:r,selection:o}=e,i=function(e,t,n){const{selection:r,doc:o}=e;if(!r||!o)return e;if(!(r instanceof Ye.TextSelection||r instanceof Ye.AllSelection))return e;const{from:i,to:s}=r,a=t.nodes[ri],c=t.nodes[Xo],l=t.nodes[ei],u=t.nodes[qo];if(!(a||c||l||u))return e;const d=[],p=n||null;return o.nodesBetween(i,s,(e,t,n)=>{const r=e.type;if(r===a||r===c||r===l||r===u){return(e.attrs.lineSpacing||null)!==p&&d.push({node:e,pos:t,nodeType:r}),r===l}return!0}),d.length?(d.forEach(t=>{const{node:n,pos:r,nodeType:o}=t;let{attrs:i}=n;i=bp(bp({},i),{},p?{lineSpacing:p}:{lineSpacing:null}),e=e.setNodeMarkup(r,o,i,n.marks)}),e):e}(e.tr.setSelection(o),r,this._lineSpacing);return!!i.docChanged&&(t&&t(i),!0)}),this._lineSpacing=e}}f()(vp,\"createGroup\",(function(){return[{[ws(\"Single\")]:new vp(\"125%\"),1.15:new vp(\"138%\"),1.5:new vp(\"165%\"),[ws(\"Double\")]:new vp(\"232%\")}]}));var _p=vp;function wp(e){return new class extends Yl{constructor(){super(...arguments),f()(this,\"isEnabled\",e=>this.execute(e)),f()(this,\"execute\",(t,n,r)=>{const o=t.tr;let i=o;return e(t,e=>{i=e,n&&n(i)},r),i.docChanged||o!==i})}}}const{addColumnAfter:Ep,addColumnBefore:Sp,addRowAfter:Op,addRowBefore:xp,deleteColumn:kp,deleteRow:Cp,deleteTable:Ap,goToNextCell:Tp,splitCell:Pp,toggleHeaderCell:Mp,toggleHeaderColumn:Rp,toggleHeaderRow:Dp}=js,{MARK_STRONG:Ip,MARK_EM:Np,MARK_STRIKE:jp,MARK_SUPER:Lp,MARK_SUB:zp,MARK_UNDERLINE:Bp}=r;document.execCommand(\"enableObjectResizing\",!1,\"false\"),document.execCommand(\"enableInlineTableEditing\",!1,\"false\");const Up=new Md,Hp=new uu,Fp=new Pd(Np),Vp=new Wu(1),qp=new Wu(2),Kp=new Wu(3),Gp=new Wu(4),$p=new Wu(5),Wp=new Wu(6),Yp=new Yu,Xp=new Xu,Jp=new Ju,Zp=new ud,Qp=new md,ef=new _d(-1),tf=new _d(1),nf=new wd,rf=new Ed,of=new Od(\"down\"),sf=new Od(\"up\"),af=new Ad,cf=new Jd,lf=new Td(!0),uf=new Zd,df=new Pd(jp),pf=new Pd(Ip),ff=new Pd(Lp),hf=new Pd(zp),mf=wp(Ep),gf=wp(Sp),yf=wp(Op),bf=wp(xp),vf=new rp,_f=new ip,wf=wp(kp),Ef=wp(Cp),Sf=wp(Ap),Of=new lp,xf=new dp,kf=wp(Tp(1)),Cf=wp(Tp(-1)),Af=wp(Pp),Tf=wp(Mp),Pf=wp(Rp),Mf=wp(Dp),Rf=new vu(\"center\"),Df=new vu(\"justify\"),If=new vu(\"left\"),Nf=new vu(\"right\"),jf=new hp,Lf=new mp,zf=new gp,Bf=_p.createGroup(),Uf=new Td(!1),Hf=new Pd(Bp);var Ff=class extends Yl{constructor(e){super(),f()(this,\"_popUp\",null),f()(this,\"_pt\",0),f()(this,\"isEnabled\",e=>fp(e,Po)),f()(this,\"execute\",(e,t,n)=>{const{schema:r,selection:o}=e,i=function(e,t,n){const r=t.marks[Po];return r?e=Ic(e,0,r,n?{pt:n}:null):e}(e.tr.setSelection(o),r,this._pt);return!(!i.docChanged&&!i.storedMarksSet)&&(t&&t(i),!0)}),this._pt=e}};function Vf(e,t,n,r){let o=t;if(e.nodeSize<=2)return null;const i=e=>e.type===r;for(t=Math.max(2,t),n=Math.min(n,e.nodeSize-2);o<=n;){const t=e.nodeAt(o);if(!t||!t.marks){o++;continue}const n=t.marks.find(i);if(n)return n;o++}return null}const qf={1:20,2:18,3:16,4:14,5:11,6:11};const Kf=[8,9,10,11,12,14,18,24,30,36,48,60,72,90].reduce((e,t)=>(e[` ${t} `]=new Ff(t),e),{}),Gf=[{[ws(\"Default\")]:new Ff(0)},Kf];class $f extends c.PureComponent{constructor(){super(...arguments),f()(this,\"props\",void 0)}render(){const{dispatch:e,editorState:t,editorView:n}=this.props,r=function(e){const{schema:t,doc:n,selection:r,tr:o}=e,i=t.marks[Po],s=t.nodes[Xo],a=String(11);if(!i)return a;const{from:c,to:l,empty:u}=r;if(u){const t=(o.storedMarks||e.storedMarks||r.$cursor&&r.$cursor.marks&&r.$cursor.marks()||[]).find(e=>e.type===i);return t?String(t.attrs.pt||a):a}const d=i?Vf(n,c,l,i):null;if(d)return String(d.attrs.pt);if(!s)return a;const p=Object(Bl.findParentNodeOfType)(s)(e.selection);if(!p)return a;const f=String(p.node.attrs.level);return qf[f]||a}(t),o=String(r).length<=2?\"width-30\":\"width-60\";return c.createElement(tu,{className:o,disabled:!(!n||!n.disabled),commandGroups:Gf,dispatch:e,editorState:t,editorView:n,label:r})}}var Wf=$f;var Yf=class extends Yl{constructor(e){super(),f()(this,\"_label\",null),f()(this,\"_name\",\"\"),f()(this,\"_popUp\",null),f()(this,\"renderLabel\",e=>this._label),f()(this,\"isEnabled\",e=>{const{schema:t,selection:n,tr:r}=e;if(!(n instanceof Ye.TextSelection||n instanceof Ye.AllSelection))return!1;if(!t.marks[Mo])return!1;const{from:o,to:i}=n;if(i===o+1){const e=r.doc.nodeAt(o);if(e.isAtom&&!e.isText&&e.isLeaf)return!1}return!0}),f()(this,\"execute\",(e,t,n)=>{const{schema:r,selection:o}=e,i=function(e,t,n){const r=t.marks[Mo];if(!r)return e;const{selection:o}=e;return o instanceof Ye.TextSelection||o instanceof Ye.AllSelection?e=Ic(e,0,r,n?{name:n}:null):e}(e.tr.setSelection(o),r,this._name);return!(!i.docChanged&&!i.storedMarksSet)&&(t&&t(i),!0)}),this._name=e,this._label=e?c.createElement(\"span\",{style:{fontFamily:e}},e):null}};const Xf={Arial:new Yf(\"\")};So.forEach(e=>{Xf[e]=new Yf(e)});const Jf=[Xf];class Zf extends c.PureComponent{constructor(){super(...arguments),f()(this,\"props\",void 0)}render(){const{dispatch:e,editorState:t,editorView:n}=this.props,r=function(e){const{schema:t,doc:n,selection:r,tr:o}=e,i=t.marks[Mo];if(!i)return\"Arial\";const{from:s,to:a,empty:c}=r;if(c){const t=(o.storedMarks||e.storedMarks||r.$cursor&&r.$cursor.marks&&r.$cursor.marks()||[]).find(e=>e.type===i);return t&&t.attrs.name||\"Arial\"}const l=i?Vf(n,s,a,i):null,u=l&&l.attrs.name;return u||\"Arial\"}(t);return c.createElement(tu,{className:\"width-100\",disabled:!(!n||!n.disabled),commandGroups:Jf,dispatch:e,editorState:t,editorView:n,label:r})}}var Qf=Zf;function eh(e,t,n,r,o){var i=n.selection,s=i.empty,a=i.$cursor,c=i.ranges;if(s&&!a||!function(e,t,n){for(var r=function(r){var o=t[r],i=o.$from,s=o.$to,a=0==i.depth&&e.type.allowsMarkType(n);if(e.nodesBetween(i.pos,s.pos,(function(e){if(a)return!1;a=e.inlineContent&&e.type.allowsMarkType(n)})),a)return{v:!0}},o=0;o<t.length;o++){var i=r(o);if(i)return i.v}return!1}(n.doc,c,e))return!1;if(o){if(!a){for(var l=0;l<c.length;l++){var u=c[l],d=u.$from,p=u.$to;r.addMark(d.pos,p.pos,e.create(t))}return r}e.isInSet(n.storedMarks||a.marks())?o(r.removeStoredMark(e)):o(r.addStoredMark(e.create(t)))}return!0}var th=class extends Yl{constructor(e,t){super(),f()(this,\"_customStyleName\",void 0),f()(this,\"_customStyle\",[]),f()(this,\"getTheInlineStyles\",e=>{var t={},n=[];return(n=Object.assign(n,this._customStyle)).forEach(n=>{t=Object.assign(t,n),Object.entries(n).forEach(n=>{let[r,o]=n;e&&\"boolean\"==typeof o?delete t[r]:e||\"boolean\"==typeof o||delete t[r]})}),t}),f()(this,\"isEmpty\",e=>{for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}),f()(this,\"isEnabled\",e=>!0),f()(this,\"execute\",(e,t,n)=>{var{schema:r,selection:o,tr:i}=e;if(this._customStyle){var s=this.getTheInlineStyles(!0);this.isEmpty(s)||(i=function(e,t,n){const r=t.marks[Vo];if(!r)return e;const{selection:o}=e;return o instanceof Ye.TextSelection||o instanceof Ye.AllSelection?e=Ic(e,0,r,n):e}(i.setSelection(o),r,s));var a=this.getTheInlineStyles(!1);for(let n in a){i=eh(r.marks[n],void 0,e,i,t)}}return!(!i.docChanged&&!i.storedMarksSet)&&(t&&t(i),!0)}),this._customStyle=e,this._customStyleName=t}_findHeading(e){const t=e.schema.nodes[Xo];return(t?Object(Bl.findParentNodeOfType)(t):du)(e.selection)}};const nh=[ws(\"Normal\")];const rh=[ws(\"Normal\")];const oh={[nh]:new Wu(0)};xs.forEach(e=>{e.level||0===e.level?oh[e.name]=new Wu(e.level):oh[e.name]=new th(e.customstyles,e.name)});const ih=[oh];class sh extends c.PureComponent{constructor(){super(...arguments),f()(this,\"props\",void 0)}findHeadingName(e){for(var t=0;t<xs.length;t++)if(xs[t].level==e)return xs[t].name}render(){const{dispatch:e,editorState:t,editorView:n}=this.props;var r;const o=function(e){const{schema:t,doc:n,selection:r,tr:o}=e,i=t.nodes[Xo];if(!i)return nh;const s=(i?Object(Bl.findParentNodeOfType)(i):null)(e.selection);return s&&void 0!==s?s.node.attrs.level:0}(t);return r=0<o?this.findHeadingName(o):function(e){const{schema:t,doc:n,selection:r,tr:o}=e,i=t.marks[Vo];if(!i)return FONT_TYPE_NAME_DEFAULT;const{from:s,to:a,empty:c}=r;if(c){const t=(o.storedMarks||e.storedMarks||r.$cursor&&r.$cursor.marks&&r.$cursor.marks()||[]).find(e=>e.type===i);return t&&t.attrs.stylename||rh}const l=i?Vf(n,s,a,i):null,u=l&&l.attrs.stylename;return u||rh}(t),c.createElement(tu,{className:\"width-100\",disabled:!(!n||!n.disabled),commandGroups:ih,dispatch:e,editorState:t,editorView:n,label:r})}}var ah=sh;n(391),n(392);const ch=/[a-z_]+/,lh={};!async function(){await Ld(\"Material Icons\")||console.info(\"Add CSS from \",\"//fonts.googleapis.com/icon?family=Material+Icons\")}();class uh extends c.PureComponent{render(){return c.createElement(\"span\",{className:\"superscript-wrap\"},c.createElement(\"span\",{className:\"superscript-base\"},\"x\"),c.createElement(\"span\",{className:\"superscript-top\"},\"y\"))}}class dh extends c.PureComponent{render(){return c.createElement(\"span\",{className:\"subscript-wrap\"},c.createElement(\"span\",{className:\"subscript-base\"},\"x\"),c.createElement(\"span\",{className:\"subscript-bottom\"},\"y\"))}}class ph extends c.PureComponent{constructor(){super(...arguments),f()(this,\"props\",void 0)}static get(e,t){const n=`${e||\"\"}-${t||\"\"}`,r=lh[n]||c.createElement(ph,{title:t,type:e});return lh[n]=r,r}render(){const{type:e,title:t}=this.props;let n=\"\",r=\"\";return\"superscript\"==e?(n=el()(\"czi-icon\",{[e]:!0}),r=c.createElement(uh,null)):\"subscript\"==e?(n=el()(\"czi-icon\",{[e]:!0}),r=c.createElement(dh,null)):e&&ch.test(e)?(n=el()(\"czi-icon\",{[e]:!0}),r=e):(n=el()(\"czi-icon-unknown\"),r=t||e),c.createElement(\"span\",{className:n},r)}}var fh=ph;const hh=/\\[([A-Za-z_\\d]+)\\](.*)/;function mh(e){const t=e.match(hh);if(t){const[e,n,r]=t;return{icon:n?fh.get(n):null,title:r||null}}return{icon:null,title:e||null}}const{CLEAR_FORMAT:gh,DOC_LAYOUT:yh,EM:bh,H1:vh,H2:_h,H3:wh,H4:Eh,H5:Sh,H6:Oh,HISTORY_REDO:xh,HISTORY_UNDO:kh,HR:Ch,IMAGE_FROM_URL:Ah,IMAGE_UPLOAD:Th,INDENT_LESS:Ph,INDENT_MORE:Mh,LINK_SET_URL:Rh,MATH_EDIT:Dh,OL:Ih,PRINT:Nh,STRIKE:jh,STRONG:Lh,SUPER:zh,SUB:Bh,TABLE_ADD_COLUMN_AFTER:Uh,TABLE_ADD_COLUMN_BEFORE:Hh,TABLE_ADD_ROW_AFTER:Fh,TABLE_ADD_ROW_BEFORE:Vh,TABLE_BORDER_COLOR:qh,TABLE_BACKGROUND_COLOR:Kh,TABLE_DELETE_COLUMN:Gh,TABLE_DELETE_ROW:$h,TABLE_DELETE_TABLE:Wh,TABLE_INSERT_TABLE:Yh,TABLE_MERGE_CELLS:Xh,TABLE_SPLIT_ROW:Jh,TABLE_TOGGLE_HEADER_CELL:Zh,TABLE_TOGGLE_HEADER_COLUMN:Qh,TABLE_TOGGLE_HEADER_ROW:em,TEXT_ALIGN_CENTER:tm,TEXT_ALIGN_JUSTIFY:nm,TEXT_ALIGN_LEFT:rm,TEXT_ALIGN_RIGHT:om,TEXT_COLOR:im,TEXT_HIGHLIGHT:sm,TEXT_LINE_SPACINGS:am,UL:cm,UNDERLINE:lm}=i,um=[{[ws(\"Insert Table...\")]:Yh},{[ws(\"Fill Color...\")]:Kh,[ws(\"Border Color....\")]:qh},{[ws(\"Insert Column Before\")]:Hh,[ws(\"Insert Column After\")]:Uh,[ws(\"Delete Column\")]:Gh},{[ws(\"Insert Row Before\")]:Vh,[ws(\"Insert Row After\")]:Fh,[ws(\"Delete Row\")]:$h},{[ws(\"Merge Cells\")]:Xh,[ws(\"Split Row\")]:Jh},{[ws(\"Toggle Header Column\")]:Qh,[ws(\"Toggle Header Row\")]:em,[ws(\"Toggle Header Cells\")]:Zh},{[ws(\"Delete Table\")]:Wh}],dm=[{[ws(\"[print] Print\")]:Nh,[ws(\"[settings_overscan] Page layout\")]:yh},{[ws(\"[undo] Undo\")]:kh,[ws(\"[redo] Redo\")]:xh},{[ws(\"[H1] Header 1\")]:ah},{[ws(\"[font_download] Font Type\")]:Qf},{[ws(\"[format_size] Text Size\")]:Wf},{[ws(\"[format_bold] Bold\")]:Lh,[ws(\"[format_italic] Italic\")]:bh,[ws(\"[format_underline] Underline\")]:lm,[ws(\"[format_strikethrough] Strike through\")]:jh,[ws(\"[superscript] Superscript\")]:zh,[ws(\"[subscript] Subscript\")]:Bh,[ws(\"[format_color_text] Text color\")]:im,[ws(\"[border_color] Highlight color\")]:sm,[ws(\"[format_clear] Clear formats\")]:gh},{[ws(\"[format_align_left] Left align\")]:rm,[ws(\"[format_align_center] Center Align\")]:tm,[ws(\"[format_align_right] Right Align\")]:om,[ws(\"[format_align_justify] Justify\")]:nm},{[ws(\"[format_indent_increase] Indent more\")]:Mh,[ws(\"[format_indent_decrease] Indent less\")]:Ph,[ws(\"[format_line_spacing] Line spacing\")]:am},{[ws(\"[format_list_numbered] Ordered list\")]:Ih,[ws(\"[format_list_bulleted] Bulleted list\")]:cm},{[ws(\"[link] Apply link\")]:Rh,[ws(\"[image] Insert image\")]:[{[ws(\"Insert image by URL\")]:Ah}],[ws(\"[grid_on] Table...\")]:um,[ws(\"[hr] Horizontal line\")]:Ch,[ws(\"[functions] Math\")]:Dh}];n(394);class pm extends c.PureComponent{constructor(){super(...arguments),f()(this,\"_menu\",null),f()(this,\"props\",void 0)}render(){const{editorState:e,editorView:t}=this.props;return c.createElement(tu,{className:\"czi-table-cell-menu\",commandGroups:um,dispatch:t.dispatch,editorState:e,editorView:t,icon:fh.get(\"edit\"),title:\"Edit\"})}}var fm=pm;function hm(e){const{x:t,y:n,w:r,h:o}=al(e),i=r&&o?e.ownerDocument.elementFromPoint(t+1,n+1):null;return!!i&&(i===e||!!e.contains(i))}class mm{constructor(e){f()(this,\"_cellElement\",void 0),f()(this,\"_popUp\",null),f()(this,\"_scrollHandle\",null),f()(this,\"destroy\",()=>{this._popUp&&this._popUp.close(),this._popUp=null}),f()(this,\"_onOpen\",()=>{const e=this._cellElement;e&&(this._scrollHandle=function(e,t){const n=e.ownerDocument.defaultView,r=[];let o=0,i=()=>{o&&cancelAnimationFrame(o),o=requestAnimationFrame(t)},s=e;for(;s;){const e=n.getComputedStyle(s).overflow;(i&&\"auto\"===e||\"scroll\"===e)&&(s.addEventListener(\"scroll\",i,!1),r.push(s)),s=s.parentElement}return{dispose(){for(;i&&r.length;)s=r.pop(),s&&s.removeEventListener(\"scroll\",i,!1);i=null,o&&window.cancelAnimationFrame(o),o=0}}}(e,this._onScroll))}),f()(this,\"_onClose\",()=>{this._popUp=null,this._scrollHandle&&this._scrollHandle.dispose(),this._scrollHandle=null}),f()(this,\"_onScroll\",()=>{const e=this._popUp,t=this._cellElement;e&&t&&(hm(t)||e.close())}),this.update(e,null)}update(e,t){const{state:n,readOnly:r}=e,o=Ul(n);if(!o||r)return void this.destroy();const i=e.domAtPos(o.pos+1);if(!i)return void this.destroy();let s=i.node;const a=this._popUp,c={editorState:n,editorView:e};s&&!hm(s)&&(s=null),s?a&&s===this._cellElement?a.update(c):(a&&a.close(),this._cellElement=s,e.disabled||(this._popUp=Ol(fm,c,{anchor:s,autoDismiss:!1,onClose:this._onClose,position:pl}),this._onOpen())):(a&&a.close(),this._cellElement=null)}}const gm={key:new Ye.PluginKey(\"TableCellMenuPlugin\"),view:e=>new mm(e)};class ym extends Ye.Plugin{constructor(){super(gm)}}var bm=ym;class vm extends js.TableView{constructor(e,t,n){super(e,t,n),this._updateMargin(e)}update(e){const t=super.update(e);return t&&this._updateMargin(e),t}_updateMargin(e){const t=e.attrs&&e.attrs.marginLeft||0;this.table.style.marginLeft=t?t+\"px\":\"\"}}function _m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_m(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Em=new Ye.PluginKey(\"tableColumnResizing\");let Sm=null,Om=!0;class xm{constructor(e,t,n){f()(this,\"cellPos\",void 0),f()(this,\"forMarginLeft\",void 0),f()(this,\"draggingInfo\",void 0),this.cellPos=e,this.draggingInfo=n,this.forMarginLeft=t}apply(e){let t=this;const n=e.getMeta(Em);if(n&&\"number\"==typeof n.setCellPos)return new xm(n.setCellPos,n.setForMarginLeft,null);if(n&&void 0!==n.setDraggingInfo)return new xm(t.cellPos,t.forMarginLeft,n.setDraggingInfo);if(t.cellPos&&t.cellPos>-1&&e.docChanged){let n=e.mapping.map(t.cellPos,-1);Object(js.pointsAtCell)(e.doc.resolve(n))||(n=null),t=new xm(n,!!n&&t.forMarginLeft,t.draggingInfo)}return t}}function km(e,t){const n=Em.getState(e.state);if(n.draggingInfo)return;const r=function(e){for(;e&&\"TD\"!==e.nodeName&&\"TH\"!==e.nodeName;)e=e.classList.contains(\"ProseMirror\")?null:e.parentElement;return e}(t.target);let o=!1,i=-1;if(r instanceof HTMLTableCellElement){const{left:n,right:s}=r.getBoundingClientRect();t.clientX-n<=5?0===r.cellIndex?(o=!0,i=Mm(e,t,\"right\")):i=Mm(e,t,\"left\"):s-t.clientX<=5&&(i=Mm(e,t,\"right\"))}if(i!==n.cellPos||o!==n.forMarginLeft){if(-1!==i){if(!e.state.doc.resolve(i))return}Rm(e,i,o)}}function Cm(e){const t=Em.getState(e.state),{cellPos:n,draggingInfo:r}=t;n>-1&&!r&&Rm(e,-1,!1)}function Am(e,t){Sm&&Sm(t);const n=Em.getState(e.state);if(-1===n.cellPos||n.draggingInfo)return!1;let r=!1,o=null;const i=t=>{window.removeEventListener(\"mouseup\",i,!0),window.removeEventListener(\"mousemove\",s,!0),r&&function(e,t){const n=Em.getState(e.state),{cellPos:r,draggingInfo:o}=n;if(!o)return;const{columnElements:i,tableElement:s}=o,a=i.map(e=>parseFloat(e.style.width)),c=e.state.doc.resolve(r),l=c.start(-1),u=c.node(-1),d=js.TableMap.get(u);let p=e.state.tr;for(let e=0;e<d.height;e++)for(let t=0;t<a.length;t++){const n=e*d.width+t;if(e&&d.map[n]==d.map[n-d.width])continue;const r=d.map[n],{attrs:o}=u.nodeAt(r),i=o.colspan||1,s=a.slice(t,t+i);i>1&&(t+=i-1),o.colwidth&&Nm(o.colwidth,s)||(p=p.setNodeMarkup(l+r,null,Object(js.setAttr)(o,\"colwidth\",s)))}const f=parseFloat(s.style.marginLeft)||null;if(u.attrs.marginLeft!==f){const t=u.type,n=wm(wm({},u.attrs),{},{marginLeft:f}),r=Object(Bl.findParentNodeOfTypeClosestToPos)(c,e.state.schema.nodes[t.name]),o=ic()(r&&r.pos);p=p.setNodeMarkup(o,t,n)}p.docChanged&&e.dispatch(p);e.dispatch(e.state.tr.setMeta(Em,{setDraggingInfo:null}))}(e),Sm=null},s=t=>{t.which?(r||(!function(e,t){const n=Em.getState(e.state);if(-1===n.cellPos||n.draggingInfo)return;e.dispatch(e.state.tr.setMeta(Em,{setDraggingInfo:Pm(e,t,n)}))}(e,t),r=!0),o=o||Im(Tm),o(e,t)):i(t)};return Sm=i,window.addEventListener(\"mouseup\",i,!0),window.addEventListener(\"mousemove\",s,!0),t.preventDefault(),!0}function Tm(e,t){const n=Em.getState(e.state),{draggingInfo:r,forMarginLeft:o}=n;if(!r)return;const{startX:i,columnWidths:s,taregtColumnIndex:a,columnElements:c,tableElement:l,tableMarginLeft:u,tableMarginRight:d}=r;let p=0,f=u;const h=t.clientX-i,m=s.length-1,g=s.map((e,t)=>{let n;return o?0===t?(n=Math.min(Math.max(30,e-h),e+u),f=Math.max(0,u+e-n)):n=e:n=t===a&&t===m?Math.min(e+d,Math.max(30,e+h)):t===a?Math.min(Math.max(30,e+h),e+(s[t+1]||0)-30):t===a+1?Math.min(Math.max(30,e-h),e+(s[t-1]||0)-30):e,p+=n,n}),y=l.style;y.marginLeft=f+\"px\",y.width=Math.round(p-f)+\"px\",y.minWidth=\"\",c.forEach((e,t)=>{e.style.width=Math.round(g[t])+\"px\"})}function Pm(e,t,n){const{cellPos:r,forMarginLeft:o}=n,i=e.domAtPos(r).node.closest(\"table\"),s=i.closest(\".tableWrapper\"),a=i.querySelector(\"colgroup\"),c=a?Array.from(a.querySelectorAll(\"col\")):[],l=s.getBoundingClientRect(),u=i.getBoundingClientRect(),d=l.width/c.length,p=t.clientX,f=p-u.left;let h=0,m=-1;const g=i.style.marginLeft,y=g&&/\\d+px/.test(g)?parseFloat(g):0,b=l.right-u.right,v=Array.from(c).map((e,t)=>{const n=e.style.width;let r=Math.max(30,n&&parseFloat(n)||d);if(h+r>l.width){r-=Math.abs(l.width-(h+r))}return f>=h+r-10&&f<=h+r+10&&-1===m&&(m=t),h+=r,r});return o&&(m=0),m<0?null:{columnElements:c,taregtColumnIndex:m,columnWidths:v,startX:p,tableElement:i,tableMarginLeft:y,tableMarginRight:b,tableWidth:h,tableWrapperWidth:l.width}}function Mm(e,t,n){const{pos:r}=e.posAtCoords({left:t.clientX,top:t.clientY}),o=Object(js.cellAround)(e.state.doc.resolve(r));if(!o)return-1;if(\"right\"==n)return o.pos;const i=js.TableMap.get(o.node(-1)),s=o.start(-1),a=i.map.indexOf(o.pos-s);return a%i.width==0?-1:s+i.map[a-1]}function Rm(e,t,n){e.dispatch(e.state.tr.setMeta(Em,{setCellPos:t,setForMarginLeft:n}))}function Dm(e,t){return Om=t.editable,new vm(e,30,t)}function Im(e){let t=null,n=0,r=0,o=null;const i=()=>{if(o&&t){let i;i={target:t,clientX:n,clientY:r},e(o,i)}};return function(e,s){t=s.target,n=s.clientX,r=s.clientY,o=e,requestAnimationFrame(i)}}function Nm(e,t){return e.length===t.length&&!e.some((e,n)=>t[n]!==e)}class jm extends Ye.Plugin{constructor(){super({key:Em,state:{init(e,t){return this.spec.props.nodeViews[Object(js.tableNodeTypes)(t.schema).table.name]=Dm,new xm(-1,null)},apply:(e,t)=>t.apply(e)},props:{attributes:e=>Em.getState(e).cellPos>-1?{class:\"resize-cursor\"}:null,handleDOMEvents:{mousemove:Im(km),mouseleave:Cm,mousedown:Am},decorations(e){const t=Em.getState(e);return t.cellPos>-1&&Om?function(e,t){if(!t.cellPos)return so.b.create(e.doc,[]);const n=[],r=e.doc.resolve(t.cellPos),o=r.node(-1),i=js.TableMap.get(o),s=r.start(-1),a=i.colCount(r.pos-s)+r.nodeAfter.attrs.colspan;for(let e=0;e<i.height;e++){const r=a+e*i.width-1;if(!(a!==i.width&&i.map[r]===i.map[r+1]||0!==e&&i.map[r-1]===i.map[r-1-i.width])){const e=i.map[r],a=s+e+o.nodeAt(e).nodeSize-1,c=document.createElement(\"div\");let l=\"column-resize-handle\";t.forMarginLeft&&(l+=\" for-margin-left\"),c.className=l,n.push(so.a.widget(a,c))}}return so.b.create(e.doc,n)}(e,t):void 0},nodeViews:{}}})}}var Lm=[new bm,new jm,Object(js.tableEditing)()],zm=function(e,t){var n;this.match=e,this.handler=\"string\"==typeof t?(n=t,function(e,t,r,o){var i=n;if(t[1]){var s=t[0].lastIndexOf(t[1]);i+=t[0].slice(s+t[1].length);var a=(r+=s)-o;a>0&&(i=t[0].slice(s-a,s)+i,r=o)}return e.tr.insertText(i,r,o)}):t};function Bm(e,t,n,r,o,i){if(e.composing)return!1;var s=e.state,a=s.doc.resolve(t);if(a.parent.type.spec.code)return!1;for(var c=a.parent.textBetween(Math.max(0,a.parentOffset-500),a.parentOffset,null,\"￼\")+r,l=0;l<o.length;l++){var u=o[l].match.exec(c),d=u&&o[l].handler(s,u,t-(u[0].length-r.length),n);if(d)return e.dispatch(d.setMeta(i,{transform:d,from:t,to:n,text:r})),!0}return!1}var Um=new zm(/--$/,\"—\"),Hm=new zm(/\\.\\.\\.$/,\"…\"),Fm=[new zm(/(?:^|[\\s\\{\\[\\(\\<'\"\\u2018\\u201C])(\")$/,\"“\"),new zm(/\"$/,\"”\"),new zm(/(?:^|[\\s\\{\\[\\(\\<'\"\\u2018\\u201C])(')$/,\"‘\"),new zm(/'$/,\"’\")];function Vm(e,t,n,r){return new zm(e,(function(e,o,i,s){var a=n instanceof Function?n(o):n,c=e.tr.delete(i,s),l=c.doc.resolve(i).blockRange(),u=l&&Object(io.j)(l,t,a);if(!u)return null;c.wrap(l,u);var d=c.doc.resolve(i-1).nodeBefore;return d&&d.type==t&&Object(io.g)(c.doc,i-1)&&(!r||r(o,d))&&c.join(i-1),c}))}function qm(e,t,n){return new zm(e,(function(e,r,o,i){var s=e.doc.resolve(o),a=n instanceof Function?n(r):n;return s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t)?e.tr.delete(o,i).setBlockType(o,o,t,a):null}))}function Km(e,t){const{nodes:n}=t,{selection:r,doc:o}=e,i=n[Xo],s=n[qo],a=n[ri],c=n[ei];if(!(r&&o&&i&&a&&c&&i))return e;const{from:l,to:u}=e.selection;let d=null;const p=[];return o.nodesBetween(l,u,(e,t,n)=>{const r=e.type,o=n.type;return null===d&&(d=r===s),o!==c&&p.push(t),!mu(e)}),p.sort(pu).reverse().forEach(n=>{e=function(e,t,n){const{nodes:r}=t,o=r[Xo],i=r[ri],s=r[qo];if(n>=e.doc.content.size)return e;const a=e.doc.nodeAt(n);if(!a||!o||!i)return e;const c=a.type;if(fu(e.doc,n))return e;mu(a)?s&&(e=Hu(e,t,n,e=>{const{content:t,marks:n,attrs:r}=e;return s.create(r,t,n)})):c===s?e=e.setNodeMarkup(n,i,a.attrs,a.marks):c!==i&&c!==o||(e=e.setNodeMarkup(n,s,a.attrs,a.marks));return e}(e,t,n)}),e}const Gm=/^\\s*>\\s$/;function $m(e,t,n,r){const{schema:o}=e;let{tr:i}=e;return o.nodes[qo]?(i=Km(i,o),i.docChanged&&(i=i.delete(n,r)),i):i}function Wm(e){const t=Fm.concat(Hm,Um);let n;return(n=e.nodes.blockquote)&&t.push(new zm(Gm,$m)),(n=e.nodes.ordered_list)&&t.push(Vm(/^(\\d+)\\.\\s$/,n,e=>({order:+e[1]}),(e,t)=>t.childCount+t.attrs.order==+e[1])),(n=e.nodes.bullet_list)&&t.push(function(e){return Vm(/^\\s*([-+*])\\s$/,e)}(n)),(n=e.nodes.code_block)&&t.push(function(e){return qm(/^```$/,e)}(n)),(n=e.nodes.heading)&&t.push(function(e,t){return qm(new RegExp(\"^(#{1,\"+t+\"})\\\\s$\"),e,e=>({level:e[1].length}))}(n,6)),function(e){var t=e.rules,n=new Ye.Plugin({state:{init:function(){return null},apply:function(e,t){var n=e.getMeta(this);return n||(e.selectionSet||e.docChanged?null:t)}},props:{handleTextInput:function(e,r,o,i){return Bm(e,r,o,i,t,n)},handleDOMEvents:{compositionend:function(e){setTimeout((function(){var r=e.state.selection.$cursor;r&&Bm(e,r.pos,r.pos,\"\",t,n)}))}}},isInputRules:!0});return n}({rules:t})}n(395);var Ym={isMac:()=>!0};function Xm(e){if(e){let t;return t=Ym.isMac()?e.mac.replace(/Cmd/i,\"⌘\").replace(/Shift/i,\"⇧\").replace(/Ctrl/i,\"^\").replace(/Alt/i,\"⌥\"):e.windows,`${e.description} (${t})`}return null}function Jm(e){return Pg.filter(t=>t.description.toUpperCase()===e.toUpperCase())[0]}function Zm(e){const t=Jm(e);return t?Qm(t):null}function Qm(e){return Ym.isMac()?e.mac:e.windows}function eg(e,t,n,r){return{description:e,windows:t,mac:n,common:r}}function tg(e,t){return eg(e,t.replace(/Mod/i,\"Ctrl\"),t.replace(/Mod/i,\"Cmd\"),t)}const ng=tg(\"\",\"Backspace\"),rg=tg(\"\",\"Delete\"),og=tg(\"Insert horizontal rule\",\"Mod-Shift--\"),ig=tg(\"Insert new line\",\"Shift-Enter\"),sg=tg(\"Insert new line in list item\",\"Shift-Enter\"),ag=tg(\"Redo\",\"Mod-Shift-z\"),cg=eg(\"Normal text\",\"Ctrl-0\",\"Cmd-Alt-0\"),lg=tg(\"Shift Backspace\",\"Shift-Backspace\"),ug=tg(\"Split code block\",\"Enter\"),dg=tg(\"Split list item\",\"Enter\"),pg=tg(\"\",\"Tab\"),fg=tg(\"\",\"Shift-Tab\"),hg=eg(\"Block quote\",\"Ctrl-7\",\"Cmd-Alt-7\"),mg=tg(\"Toggle bold\",\"Mod-b\"),gg=tg(\"Toggle bullet list\",\"Mod-Shift-b\"),yg=eg(\"Code block\",\"Ctrl-8\",\"Cmd-Alt-8\"),bg=eg(\"Heading 1\",\"Ctrl-1\",\"Cmd-Alt-1\"),vg=eg(\"Heading 2\",\"Ctrl-2\",\"Cmd-Alt-2\"),_g=eg(\"Heading 3\",\"Ctrl-3\",\"Cmd-Alt-3\"),wg=eg(\"Heading 4\",\"Ctrl-4\",\"Cmd-Alt-4\"),Eg=eg(\"Heading 5\",\"Ctrl-5\",\"Cmd-Alt-5\"),Sg=eg(\"Heading 5\",\"Ctrl-6\",\"Cmd-Alt-6\"),Og=tg(\"Toggle italic\",\"Mod-i\"),xg=tg(\"Toggle monospace\",\"Mod-Shift-m\"),kg=tg(\"Toggle ordered list\",\"Mod-Shift-l\"),Cg=tg(\"Toggle strikethrough\",\"Mod-Shift-s\"),Ag=tg(\"Toggle underline\",\"Mod-u\"),Tg=tg(\"Undo\",\"Mod-z\"),Pg=[ng,rg,og,ig,sg,cg,lg,dg,fg,pg,hg,mg,gg,gg,yg,bg,vg,_g,wg,Eg,Sg,Og,xg,kg,Cg,Ag,Tg],{KEY_BACK_DELETE:Mg,KEY_FORWARD_DELETE:Rg,KEY_INSERT_NEW_LINE_IN_LIST_ITEM:Dg,KEY_REDO:Ig,KEY_SPLIT_LIST_ITEM:Ng,KEY_TAB_SHIFT:jg,KEY_TAB:Lg,KEY_TOGGLE_BOLD:zg,KEY_TOGGLE_ITALIC:Bg,KEY_TOGGLE_UNDERLINE:Ug,KEY_UNDO:Hg}=s,{EM:Fg,HISTORY_REDO:Vg,HISTORY_UNDO:qg,INDENT_LESS:Kg,INDENT_MORE:Gg,LIST_ITEM_INSERT_NEW_LINE:$g,LIST_ITEM_MERGE_DOWN:Wg,LIST_ITEM_MERGE_UP:Yg,LIST_SPLIT:Xg,TABLE_MOVE_TO_NEXT_CELL:Jg,TABLE_MOVE_TO_PREV_CELL:Zg,TEXT_INSERT_TAB_SPACE:Qg,STRONG:ey,UNDERLINE:ty}=i;function ny(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n,r){return t.some(t=>!!t.isEnabled(e,r)&&(t.execute(e,n,r),!0))}}function ry(e,t){return e.spec.key=new Ye.PluginKey(t+\"Plugin\"),e.key=e.spec.key.key,e}var oy,iy,sy=(oy=na,[new Ka,new ec,new rc,new Oc,new zl,new Dc,ry(Wm(oy),\"InputRules\"),ry((void 0===iy&&(iy={}),new Ye.Plugin({view:function(e){return new ya(e,iy)}})),\"DropCursor\"),ry(new Ye.Plugin({props:{decorations:Oa,createSelectionBetween:function(e,t,n){if(t.pos==n.pos&&va.valid(n))return new va(n)},handleClick:Sa,handleKeyDown:wa}}),\"GapCursor\"),Ha(),ry(Object(ba.b)({[Mg.common]:Yg.execute,[Rg.common]:Wg.execute,[Ig.common]:Vg.execute,[Ng.common]:Xg.execute,[Lg.common]:ny(Jg,Qg,Gg),[jg.common]:ny(Zg,Qg,Kg),[zg.common]:ey.execute,[Bg.common]:Fg.execute,[Ug.common]:ty.execute,[Hg.common]:qg.execute,[Dg.common]:$g.execute}),\"EditorKeyMap\"),ry(Object(ba.b)(ga),\"BaseKeymap\")].concat(Lm));const ay={type:\"doc\",content:[{type:\"paragraph\",content:[{type:\"text\",text:\" \"}]}]};function cy(e,t){return ly(ay,e,t)}function ly(e,t,n){let r=t||na,o=sy;if(n)for(let e of n)o.includes(e)||(o.push(e),e.getEffectiveSchema&&(r=e.getEffectiveSchema(r)));if(\"string\"==typeof e)try{e=JSON.parse(e)}catch(e){return console.error(\"convertFromJSON:\",e),cy(t,n)}if(!e||\"object\"!=typeof e)return console.error(\"convertFromJSON: invalid object\",e),cy(t,n);let i=null;try{i=r.nodeFromJSON(e)}catch(e){return null}return Ye.EditorState.create({doc:i,schema:r,plugins:o})}var uy=n(152),dy=n.n(uy);n(396),n(397);class py extends so.c{constructor(e,t){super(e,t),f()(this,\"disabled\",void 0),f()(this,\"placeholder\",void 0),f()(this,\"readOnly\",void 0),f()(this,\"runtime\",void 0),this.runtime=null,this.readOnly=!0,this.disabled=!0,this.placeholder=null}destroy(){super.destroy(),this._props={}}}var fy=py;new Map;const hy=new Map;function my(){return Array.from(hy.keys())}const gy=/(P|H1|H2|H3|H4|H5|H6)/;function yy(e){const{id:t}=e;if(t&&0===e.childElementCount){e.setAttribute(\"data-bookmark-id\",t);0!==e.id.indexOf(\"t.\")&&e.setAttribute(\"data-bookmark-visible\",\"true\")}const n=e.nextElementSibling;n&&gy.test(n.nodeName)&&n.insertBefore(e,n.firstChild)}function by(e){const{ownerDocument:t,parentElement:n}=e;if(!t||!n)return;const r=e.parentElement&&e.parentElement.parentElement;if(!r)return;const o=t.createElement(\"p\");r.parentElement&&r.parentElement.replaceChild(o,r)}function vy(e){return e[0]+\"-\"+e[1].toLowerCase()}const _y={};const wy=\"p,h1,h2,h3,h4,h5,h6,li\".replace(/\\w+/g,e=>e+\"[style]\");const Ey=[\"backgroundColor\",\"color\",\"fontFamily\",\"fontSize\",\"fontStyle\",\"fontWeight\",\"textDecoration\",\"textIndent\"],Sy=new Set([\"A\",\"B\",\"EM\",\"I\",\"SPAN\",\"STRONG\",\"U\"]);function Oy(e){Ey.forEach(t=>function(e,t){const n=e,r=n.style,o=r&&r[t];if(\"textIndent\"===t&&o){const e=r.marginLeft||\"\";o!==\"-\"+e&&e!==\"-\"+o||(r.marginLeft=\"\",r.textIndent=\"\")}if(!o)return;r[t]=\"\";Array.from(n.childNodes).forEach(e=>{const{nodeType:n,style:r,nodeName:i,ownerDocument:s,parentElement:a}=e;if(1===n){if(Sy.has(i)){const e=`${function(e){if(_y.hasOwnProperty(e))return _y[e];const t=e.replace(/[a-z][A-Z]/g,vy);return _y[e]=t,t}(t)}: ${o};`+r.cssText;r.cssText=e}}else if(3===n&&s&&a){const n=s.createElement(\"span\");n.style[t]=o,a.insertBefore(n,e),n.appendChild(e)}})}(e,t))}class xy{constructor(e){f()(this,\"_doc\",void 0),f()(this,\"_htmls\",void 0),this._doc=e,this._htmls=new Map}insertHTMLBefore(e,t){return this._insertHTML(e,\"before\",t)}insertHTMLAfter(e,t){return this._insertHTML(e,\"after\",t)}execute(){const e=this._doc,t=ic()(e.body||e.documentElement);let n=t.innerHTML;this._htmls.forEach((e,t)=>{n=n.replace(t,e)}),t.innerHTML=n}_insertHTML(e,t,n){if(n.ownerDocument!==this._doc)throw new Error(\"element does not belong to the document\");const r=`​_HTMLMutator_token_${yc()}_​`,o=this._doc.createComment(r),i=ic()(n.parentElement);if(\"before\"===t)i.insertBefore(o,n);else{if(\"after\"!==t)throw new Error(\"Invalid position \"+t);i.insertBefore(o,n.nextSibling)}return this._htmls.set(\"\\x3c!--\"+r+\"--\\x3e\",e),this}}var ky=n(153),Cy=n.n(ky);const Ay=/li:+before/,Ty=/^[a-zA-Z]+\\d*$/,Py=/:+[a-z]+/,My=/\\.title/;function Ry(e){const t=Array.from(e.querySelectorAll(\"style\"));if(!t.length)return;const n=[];t.forEach(e=>{const t=e.sheet;if(!t)return void console.error(\"styleEl.sheet undefined\",e);const r=t.cssRules;r?Array.from(r).forEach((e,t)=>{const r=String(e.selectorText||\"\");if(!r)return;if(!e.styleMap)return void console.error(\"rule.styleMap undefined\",e);let o=\"\";e.styleMap.forEach((e,t)=>{let n=String(e);if(\"color\"===t){if(!Ri(n))return}else if(\"background-color\"===t){if(!Ri(n))return}else\"line-height\"===t&&(n=pi(n));n&&(o+=`${t}: ${n};`)}),r.indexOf(\",\")>-1?r.split(/\\s*,\\s*/).forEach(e=>{Ny(n,e,o)}):Ny(n,r,o)}):console.error(\"sheet.cssRules undefined\",t)}),Cy()(n,Iy).reduce(Dy.bind(null,e),new Map).forEach(jy)}function Dy(e,t,n){const{selectorText:r,cssText:o,beforeContent:i}=n;return Array.from(e.querySelectorAll(r)).forEach(e=>{if(e.style&&e instanceof HTMLElement){if(o){const n=t.get(e)||[];n.push(o),t.set(e,n)}i&&e.setAttribute(\"data-attribute-css-before-content\",i)}}),t}function Iy(e,t){let n=Ty.test(e.selectorText),r=Ty.test(t.selectorText);return n&&!r?-1:!n&&r?1:(n=My.test(e.selectorText),r=My.test(t.selectorText),n&&!r?-1:!n&&r?1:0)}function Ny(e,t,n){let r;if(Ay.test(t))r=n.replace(/^content:\\s*\"\\s*/,\"\").replace(/\";*$/,\"\"),t=t.replace(/:+before/,\"\"),n=\"\";else if(Py.test(t))return;e.push({selectorText:t,cssText:n,afterContent:void 0,beforeContent:r})}function jy(e,t){e.length&&(t.style.cssText=e.join(\";\")+\";\"+t.style.cssText)}function Ly(e){!function(e){const t=Array.from(e.querySelectorAll(\"li > ol, li > ul\")),n=new xy(e);t.forEach(e=>{const t=function(e){let t=0,n=e.parentElement;for(;n;){const{nodeName:e}=n;if(\"OL\"===e||\"UL\"===e)t++;else if(\"LI\"!==e)break;n=n.parentElement}return t}(e);e.setAttribute(\"data-indent\",String(t));const r=ic()(e.parentElement),o=ic()(r.parentElement),i=o.nodeName.toLowerCase(),s=o.lastElementChild===r,a=o.getAttribute(\"style\")||\"\",c=o.getAttribute(\"name\")||yc();o.setAttribute(\"name\",c),n.insertHTMLBefore(`</${i}>`,e),n.insertHTMLAfter(`<${i}\\n          style=\"${a}\"\\n          class=\"${o.className}\"\\n          data-counter-reset=\"none\"\\n          data-following=\"${c}\">`,e),s&&n.insertHTMLAfter(\"\\x3c!--\",e).insertHTMLAfter(\"--\\x3e\",o)}),n.execute()}(e),Array.from(e.querySelectorAll(\"ol, ul\")).forEach(By)}const zy=/^(#text)|(A|SPAN|B|STRONG)$/;function By(e){let t=void 0,n=void 0;const{parentElement:r,children:o}=e;if(r&&\"BODY\"===r.nodeName&&r.firstChild===e){const t=r.ownerDocument.createTextNode(\"​\");r.insertBefore(t,e)}if(Array.from(o).forEach(e=>{const{style:r}=e;!function(e){const{style:t,childNodes:n}=e,{paddingTop:r,paddingBottom:o,lineHeight:i}=t;if(!fi.has(o)&&!fi.has(r)&&!fi.has(i))return;const s=e.ownerDocument,a=s.createDocumentFragment();let c=!0;if(Array.from(n).forEach(e=>{c=c&&zy.test(e.nodeName),a.appendChild(e)}),c){const t=s.createElement(\"p\");Object.assign(t.style,{lineHeight:i,paddingBottom:o,paddingTop:r}),t.appendChild(a),e.appendChild(t)}else e.appendChild(a)}(e);const o=e.getAttribute(\"data-attribute-css-before-content\")||\"\";void 0===n&&(n=o),n!==o&&(n=null);const i=r&&r.marginLeft||\"\";void 0===t&&(t=i),i!==t&&(t=null)}),t){const n=vi(t);n&&e.setAttribute(\"data-indent\",String(n))}if(n){let t;switch(n=String(n),!0){case n.indexOf(\"●\")>-1:t=\"disc\";break;case n.indexOf(\"○\")>-1:t=\"circle\";break;case n.indexOf(\"■\")>-1:t=\"square\";break;case n.indexOf(\"❏\")>-1:t=\"box\";break;case n.indexOf(\"lower-latin\")>-1:t=\"lower-latin\";break;case n.indexOf(\"upper-latin\")>-1:t=\"upper-latin\";break;case n.indexOf(\"lower-roman\")>-1:t=\"lower-roman\";break;case n.indexOf(\"upper-roman\")>-1:t=\"upper-roman\";break;case n.indexOf(\"-\")>-1:t=\"dash\";break;default:console.log(\"unknown list style type\",n)}t&&e.setAttribute(\"data-list-style-type\",t)}}var Uy=n(154),Hy=n.n(Uy);function Fy(e){const{ownerDocument:t,parentElement:n}=e;if(!t||!n)return;const r=function(e){if(!e)return null;const{host:t,pathname:n,query:r}=ed.a.parse(e);if(\"www.google.com\"!==t||\"/chart\"!==n)return null;const o=Hy.a.parse(r),i=o.cht,s=o.chl;if(\"tx\"!==i||!s)return null;return s}(e.getAttribute(\"src\"));if(!r)return;const o=t.createElement(\"math\");o.setAttribute(\"data-latex\",r),n.insertBefore(o,e),n.removeChild(e)}function Vy(e){const{marginLeft:t}=e.style;if(t){const n=vi(t);n&&e.setAttribute(\"data-indent\",String(n))}}const qy={transparent:\"\",inherit:\"\"};function Ky(e){if(!e)return\"\";if(e in qy)return qy[e];let t=\"\";try{t=Ci()(e).hex().toLowerCase(),qy[e]=t}catch(t){console.warn(\"unable to convert to hex\",e),qy[e]=\"\"}return t}function Gy(e){const{style:t}=e;if(!t)return;const{backgroundColor:n,width:r}=t;if(n){const t=Ky(n),r=\"span[style*=background-color]\";Array.from(e.querySelectorAll(r)).some(e=>{const n=e.style;if(!n||!n.backgroundColor)return;Ky(n.backgroundColor)===t&&(n.backgroundColor=\"\")})}if(r){const t=uo(r);if(!t)return;const n=t*(1/.75292857);e.setAttribute(\"data-colwidth\",String(Math.round(n)))}}function $y(e){const t=e.ownerDocument;if(!t)return;const n=e.style.height;if(!n)return;const r=e.querySelector(\"td, th\");if(!r)return;const o=uo(n);if(!o)return;const i=o-15.81149997*r.querySelectorAll(\"p\").length;if(i<0)return;let s=Math.round(i/15.81149997);if(s<=0)return;const a=t.createDocumentFragment(),c=t.createElement(\"p\");for(;s>0;)s--,a.appendChild(c.cloneNode(!1));r.appendChild(a)}const Wy=/<body[\\s>]/i,Yy=/_+/g,Xy=/(\\&nbsp;){6}/g,Jy=new Array(6).join('<span data-spacer-size=\"tab\"> </span>');function Zy(e){return e&&e.length>=20&&(e=`<nobr>${String(e)}</nobr> `),e}const Qy=Object.freeze({from:0,to:0});function eb(e){if(!window.getSelection)return console.warn(\"window.getSelection() is not supported\"),Qy;const t=window.getSelection();if(!t.containsNode)return console.warn(\"selection.containsNode() is not supported\"),Qy;if(!t.rangeCount)return Qy;const n=t.getRangeAt(0);if(!n)return Qy;const{startContainer:r,endContainer:o,startOffset:i,endOffset:s}=n;return r===e||o===e||r&&e.contains(r)||o&&e.contains(o)?{from:i,to:s}:Qy}function tb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tb(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Oe.a.func.isRequired,Oe.a.bool.isRequired,Oe.a.bool.isRequired;const rb=new Set,ob=new Set;const ib=new class{constructor(e){f()(this,\"_observables\",[]),f()(this,\"_callback\",null),f()(this,\"_onClick\",()=>{const e=this._callback;this._observables=this._observables.map(e=>{const{target:t}=e;return{target:t,selection:eb(t)}}),e&&e(this.takeRecords(),this)}),f()(this,\"_check\",()=>{let e=!1;const t=this._callback;this._observables=this._observables.map(t=>{const{target:n,selection:r}=t,o=eb(n);return r===o||r.from===o.from&&r.to===o.to?t:(e=!0,{target:n,selection:o})}),e&&t&&t(this.takeRecords(),this)}),this._callback=e}disconnect(){this._observables.forEach(e=>{const t=e.target;t.removeEventListener(\"click\",this._check,!1),t.removeEventListener(\"selectionchange\",this._check,!1)}),this._observables=[]}observe(e){if(!window.getSelection)return void console.warn(\"window.getSelection() is not supported\");if(this._observables.some(t=>t.target===e))return;const t={target:e,selection:eb(e)};e.addEventListener(\"click\",this._check,!1),e.addEventListener(\"selectionchange\",this._check,!1),this._observables.push(t)}takeRecords(){return this._observables.slice(0)}}((function(e,t){if(!window.getSelection)return console.warn(\"window.getSelection() is not supported\"),void t.disconnect();const n=window.getSelection();if(!n.containsNode)return console.warn(\"selection.containsNode() is not supported\"),void t.disconnect();for(const e of rb){const t=e.dom;n.containsNode(t)?e.selectNode():e.deselectNode()}0===rb.size&&t.disconnect()})),sb=new MutationObserver((function(e,t){const n=document.body;if(!n)return;const r=[];for(const e of ob){const t=e.dom;n.contains(t)&&(ob.delete(e),r.push(e),e.__renderReactComponent())}for(const e of rb){const t=e.dom;n.contains(t)||(rb.delete(t),d.a.unmountComponentAtNode(t))}r.forEach(e=>rb.add(e)),0===rb.size&&t.disconnect()}));var ab=class{constructor(e,t,n,r){f()(this,\"dom\",void 0),f()(this,\"props\",void 0),f()(this,\"_selected\",void 0),this.props={decorations:r,editorView:t,getPos:n,node:e,selected:!1,focused:!1},ob.add(this);const o=this.createDOMElement();this.dom=o,o.onClick=this._onClick,1===ob.size&&(sb.observe(t.dom,{childList:!0,subtree:!0}),ib.observe(t.dom))}update(e,t){return this.props=nb(nb({},this.props),{},{node:e}),this.__renderReactComponent(),!0}stopEvent(){return!1}selectNode(){this._selected=!0,this.dom.classList.add(\"ProseMirror-selectednode\"),this.__renderReactComponent()}deselectNode(){this._selected=!1,this.dom.classList.remove(\"ProseMirror-selectednode\"),this.__renderReactComponent()}createDOMElement(){throw new Error(\"not implemented\")}renderReactComponent(){throw new Error(\"not implemented\")}destroy(){}__renderReactComponent(){const{editorView:e,getPos:t}=this.props;if(e.state&&e.state.selection){const{from:n}=e.state.selection,r=t();this.props.selected=this._selected,this.props.focused=e.focused&&r===n}else this.props.selected=!1,this.props.focused=!1;d.a.render(this.renderReactComponent(),this.dom)}};n(401);class cb extends c.PureComponent{constructor(){super(...arguments),f()(this,\"props\",void 0),f()(this,\"_onClick\",e=>{e.preventDefault();const{id:t}=this.props.node.attrs,n=\"#\"+t;window.location.hash!==n&&(window.location.hash=n)})}render(){const{id:e,visible:t}=this.props.node.attrs,n=e&&t?fh.get(\"bookmark\"):null;return c.createElement(\"span\",{onClick:this._onClick},n)}}var lb=class extends ab{createDOMElement(){const e=document.createElement(\"a\");return e.className=\"czi-bookmark-view\",this._updateDOM(e),e}update(e,t){return super.update(e,t),!0}renderReactComponent(){return c.createElement(cb,this.props)}_updateDOM(e){const{id:t,visible:n}=this.props.node.attrs;e.setAttribute(\"id\",t),e.setAttribute(\"title\",t),e.setAttribute(\"data-bookmark-id\",t),n&&e.setAttribute(\"data-bookmark-visible\",\"true\")}};n(402),Oe.a.node,Oe.a.string,Oe.a.bool,Oe.a.node,Oe.a.oneOfType([Oe.a.string,Oe.a.number]),Oe.a.oneOf([\"header\",\"body\"]),Oe.a.node,Oe.a.oneOfType([Oe.a.string,Oe.a.number]);function ub(e){if(e&&\"auto\"!==e)return isNaN(e)?\"\"+e:e+\"px\"}class db extends c.PureComponent{constructor(){super(...arguments),f()(this,\"props\",void 0)}render(){const{body:e,className:t,embedded:n,header:r,height:o,toolbarPlacement:i,toolbar:s,width:a}=this.props,l={width:ub(a),height:ub(o)},u=el()(t,{\"czi-editor-frameset\":!0,\"with-fixed-layout\":l.width||l.height,embedded:n}),d=\"header\"!==i&&i?null:s,p=\"body\"===i&&s;return c.createElement(\"div\",{className:u,style:l},c.createElement(\"div\",{className:\"czi-editor-frame-main\"},c.createElement(\"div\",{className:\"czi-editor-frame-head\"},r,d),c.createElement(\"div\",{className:\"czi-editor-frame-body\"},p,c.createElement(\"div\",{className:\"czi-editor-frame-body-scroll\"},e)),c.createElement(\"div\",{className:\"czi-editor-frame-footer\"})))}}var pb=db;n(145);const fb={NONE:{value:null,text:ws(\"Inline\")},LEFT:{value:\"left\",text:ws(\"Float left\")},CENTER:{value:\"center\",text:ws(\"Break text\")},RIGHT:{value:\"right\",text:ws(\"Float right\")}};Oe.a.string;class hb extends c.PureComponent{constructor(){super(...arguments),f()(this,\"props\",void 0),f()(this,\"_onClick\",e=>{this.props.onSelect({align:e})})}render(){const e=this.props.value?this.props.value.align:null,t=this._onClick,n=Object.keys(fb).map(n=>{const{value:r,text:o}=fb[n];return c.createElement(Tl,{active:e===r,key:n,label:o,onClick:t,value:r})});return c.createElement(\"div\",{className:\"czi-inline-editor\"},n)}}var mb=hb;n(403);function gb(e,t,n){e.style.width=t+\"px\"}function yb(e,t,n){e.style.height=n+\"px\"}function bb(e,t,n){e.style.width=Math.round(t)+\"px\",e.style.height=Math.round(n)+\"px\"}const vb={top:yb,top_right:bb,right:gb,bottom_right:bb,bottom:yb,bottom_left:bb,left:gb,top_left:bb};class _b extends c.PureComponent{constructor(){super(...arguments),f()(this,\"props\",void 0),f()(this,\"_active\",!1),f()(this,\"_el\",null),f()(this,\"_h\",\"\"),f()(this,\"_rafID\",0),f()(this,\"_w\",\"\"),f()(this,\"_x1\",0),f()(this,\"_x2\",0),f()(this,\"_y1\",0),f()(this,\"_y2\",0),f()(this,\"_ww\",0),f()(this,\"_hh\",0),f()(this,\"_syncSize\",()=>{if(!this._active)return;const{direction:e,width:t,height:n}=this.props,r=(this._x2-this._x1)*(/left/.test(e)?-1:1),o=(this._y2-this._y1)*(/top/.test(e)?-1:1),i=ic()(this._el),s=ic()(vb[e]),a=t/n;let c=ui(20,t+Math.round(r),1e4),l=ui(20,n+Math.round(o),1e4);s===bb&&(l=Math.max(c/a,20),c=l*a),s(i,Math.round(c),Math.round(l)),this._ww=c,this._hh=l}),f()(this,\"_onMouseDown\",e=>{e.preventDefault(),e.stopPropagation(),this._end(),this._start(e)}),f()(this,\"_onMouseMove\",e=>{e.preventDefault(),e.stopPropagation(),this._x2=e.clientX,this._y2=e.clientY,this._rafID=requestAnimationFrame(this._syncSize)}),f()(this,\"_onMouseUp\",e=>{e.preventDefault(),e.stopPropagation(),this._x2=e.clientX,this._y2=e.clientY;const{direction:t}=this.props;ic()(this._el).classList.remove(t),this._end(),this.props.onResizeEnd(this._ww,this._hh)})}componentWillUnmount(){this._end()}render(){const{direction:e}=this.props,t=el()({\"czi-image-resize-box-control\":!0,[e]:!0});return c.createElement(\"span\",{className:t,onMouseDown:this._onMouseDown})}_start(e){this._active&&this._end(),this._active=!0;const{boxID:t,direction:n,width:r,height:o}=this.props,i=ic()(document.getElementById(t));i.className+=\" \"+n,this._el=i,this._x1=e.clientX,this._y1=e.clientY,this._x2=this._x1,this._y2=this._y1,this._w=this._el.style.width,this._h=this._el.style.height,this._ww=r,this._hh=o,document.addEventListener(\"mousemove\",this._onMouseMove,!0),document.addEventListener(\"mouseup\",this._onMouseUp,!0)}_end(){if(!this._active)return;this._active=!1,document.removeEventListener(\"mousemove\",this._onMouseMove,!0),document.removeEventListener(\"mouseup\",this._onMouseUp,!0);const e=ic()(this._el);e.style.width=this._w,e.style.height=this._h,e.className=\"czi-image-resize-box\",this._el=null,this._rafID&&cancelAnimationFrame(this._rafID),this._rafID=null}}class wb extends c.PureComponent{constructor(){super(...arguments),f()(this,\"props\",void 0),f()(this,\"_id\",yc())}render(){const{onResizeEnd:e,width:t,height:n,src:r}=this.props,o={height:n+\"px\",width:t+\"px\"},i=this._id,s=Object.keys(vb).map(r=>c.createElement(_b,{boxID:i,config:vb[r],direction:r,height:n,key:r,onResizeEnd:e,width:t}));return c.createElement(\"span\",{className:\"czi-image-resize-box\",id:i,style:o},s,c.createElement(\"img\",{className:\"czi-image-resize-box-image\",src:r}))}}var Eb=wb,Sb=n(155);Oe.a.shape({x:Oe.a.number.isRequired,y:Oe.a.number.isRequired,width:Oe.a.number.isRequired,height:Oe.a.number.isRequired,top:Oe.a.number.isRequired,right:Oe.a.number.isRequired,bottom:Oe.a.number.isRequired,left:Oe.a.number.isRequired}).isRequired;let Ob=null;const xb=new Map;function kb(e){e.forEach(Cb)}function Cb(e){const t=e.target,n=xb.get(t);n&&n.forEach(t=>t(e))}var Ab={observe:function(e,t){const n=e,r=Ob||(Ob=new Sb.a(kb));if(xb.has(n)){ic()(xb.get(n)).push(t)}else{const e=[t];xb.set(n,e),r.observe(n)}},unobserve:function(e,t){const n=Ob;if(!n)return;const r=e;if(n.unobserve(r),t){const e=xb.has(r)?ic()(xb.get(r)).filter(e=>e!==t):null;e&&e.length?xb.set(r,e):xb.delete(r)}else xb.delete(r);xb.size||(n.disconnect(),Ob=null)}};n(404);function Tb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tb(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Mb={src:\"\",complete:!1,height:0,width:0};class Rb extends c.PureComponent{constructor(){super(...arguments),f()(this,\"props\",void 0),f()(this,\"_body\",null),f()(this,\"_id\",yc()),f()(this,\"_inlineEditor\",null),f()(this,\"_mounted\",!1),f()(this,\"state\",{maxSize:{width:1e5,height:1e5,complete:!1},originalSize:Mb}),f()(this,\"_resolveOriginalSize\",async()=>{if(!this._mounted)return;this.setState({originalSize:Mb});const e=this.props.node.attrs.src,t=function(e,t){if(!e)return t;const{canProxyImageSrc:n,getProxyImageSrc:r}=e;return t&&n&&r&&n(t)?r(t):t}(this.props.editorView.runtime,e),n=await od(t);if(!this._mounted)return;if(this.props.node.attrs.src!==e)return;const r=document.getElementsByClassName(\"czi-prosemirror-editor\")[0].offsetHeight;n.height>r&&(n.height=r-100),n.complete||(n.width=20,n.height=20),this.setState({originalSize:n})}),f()(this,\"_onKeyDown\",e=>{console.log(e.keyCode)}),f()(this,\"_onResizeEnd\",(e,t)=>{const{getPos:n,node:r,editorView:o}=this.props,i=n(),s=Pb(Pb({},r.attrs),{},{crop:null,width:e,height:t});let a=o.state.tr;const{selection:c}=o.state;a=a.setNodeMarkup(i,null,s);const l=Ye.NodeSelection.create(a.doc,c.from);a=a.setSelection(l),o.dispatch(a)}),f()(this,\"_onChange\",e=>{if(!this._mounted)return;const t=e?e.align:null,{getPos:n,node:r,editorView:o}=this.props,i=n(),s=Pb(Pb({},r.attrs),{},{align:t});let a=o.state.tr;const{selection:c}=o.state;a=a.setNodeMarkup(i,null,s);const l=Ye.NodeSelection.create(a.doc,c.from);a=a.setSelection(l),o.dispatch(a)}),f()(this,\"_onBodyRef\",e=>{if(e){this._body=e;const t=d.a.findDOMNode(e);t instanceof HTMLElement&&Ab.observe(t,this._onBodyResize)}else{const e=this._body&&d.a.findDOMNode(this._body);e instanceof HTMLElement&&Ab.unobserve(e),this._body=null}}),f()(this,\"_onBodyResize\",e=>{const t=this._body?function(e){let t=e.parentElement;for(;t&&!t.offsetParent;)t=t.parentElement;if(t&&t.offsetParent&&t.offsetParent.offsetWidth&&t.offsetParent.offsetWidth>0){const{offsetParent:n}=t,r=e.ownerDocument.defaultView.getComputedStyle(n);let o=n.clientWidth-4;if(\"border-box\"===r.boxSizing){o-=parseInt(r.paddingLeft,10)+parseInt(r.paddingRight,10)}return Math.max(o,20)}return 1e5}(d.a.findDOMNode(this._body)):1e5;this.setState({maxSize:{width:t,height:1e5,complete:!!this._body}})})}componentDidMount(){this._mounted=!0,this._resolveOriginalSize(),this._renderInlineEditor()}componentWillUnmount(){this._mounted=!1,this._inlineEditor&&this._inlineEditor.close(),this._inlineEditor=null}componentDidUpdate(e){const t=e.node.attrs.src,{node:n}=this.props,{src:r}=n.attrs;t!==r&&this._resolveOriginalSize(),this._renderInlineEditor()}render(){const{originalSize:e,maxSize:t}=this.state,{editorView:n,node:r,selected:o,focused:i}=this.props,{readOnly:s}=n,{attrs:a}=r,{align:l,crop:u,rotate:d}=a,p=e===Mb,f=!p&&i&&!s&&e.complete,h=e.complete?e.src:\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\",m=p?1:e.width/e.height,g=!p&&!e.complete;let{width:y,height:b}=a;p&&(y=y||24,b=b||24),y&&!b?b=y/m:b&&!y?y=b*m:y||b||(y=e.width,b=e.height);let v=1;y>t.width&&(!u||u.width>t.width)&&(y=t.width,b=y/m,v=t.width/y);const _=el()(\"czi-image-view-body\",{active:f,error:g,focused:i,loading:p,selected:o}),w=!f||u||d?null:c.createElement(Eb,{height:b,onResizeEnd:this._onResizeEnd,src:h,width:y}),E={display:\"inline-block\",height:b+\"px\",left:\"0\",top:\"0\",width:y+\"px\",position:\"relative\"},S={};if(u){const e=Pb({},u);1!==v&&(v=t.width/e.width,e.width*=v,e.height*=v,e.left*=v,e.top*=v),S.width=e.width+\"px\",S.height=e.height+\"px\",E.left=e.left+\"px\",E.top=e.top+\"px\"}d&&(S.transform=`rotate(${d}rad)`);const O=g?fh.get(\"error\"):null,x=g?\"Unable to load image from \"+(a.src||\"\"):void 0;return c.createElement(\"span\",{className:_,\"data-active\":f?\"true\":void 0,\"data-original-src\":String(a.src),id:this._id,onKeyDown:this._onKeyDown,ref:this._onBodyRef,title:x},c.createElement(\"span\",{className:\"czi-image-view-body-img-clip\",style:S},c.createElement(\"span\",{style:E},c.createElement(\"img\",{alt:\"\",className:\"czi-image-view-body-img\",\"data-align\":l,height:b,id:this._id+\"-img\",src:h,width:y}),O)),w)}_renderInlineEditor(){const e=document.getElementById(this._id);if(!e||\"true\"!==e.getAttribute(\"data-active\"))return void(this._inlineEditor&&this._inlineEditor.close());const{node:t}=this.props,n={value:t.attrs,onSelect:this._onChange};this._inlineEditor?this._inlineEditor.update(n):this._inlineEditor=Ol(mb,n,{anchor:e,autoDismiss:!1,container:e.closest(\".czi-editor-frame-body\"),position:ll,onClose:()=>{this._inlineEditor=null}})}}var Db=class extends ab{createDOMElement(){const e=document.createElement(\"span\");return e.className=\"czi-image-view\",this._updateDOM(e),e}update(e,t){return super.update(e,t),this._updateDOM(this.dom),!0}renderReactComponent(){return c.createElement(Rb,this.props)}_updateDOM(e){const{align:t}=this.props.node.attrs;let n=\"czi-image-view\";t&&(n+=\" align-\"+t),e.className=n}};var Ib=class{constructor(e,t,n,r){f()(this,\"dom\",void 0),f()(this,\"contentDOM\",void 0),f()(this,\"_nodeUpdated\",void 0);const o=document.createElement(\"li\");this.dom=o,this.contentDOM=o,this._updateDOM(e)}update(e,t){return this._updateDOM(e)}_updateDOM(e){if(this._nodeUpdated===e)return!1;this._nodeUpdated=e;const t=this.dom,n=e.firstChild,r=n?n.firstChild:null,o=r&&r.isText&&r.textContent?r.marks:null;let i,s,a=\"\";Array.isArray(o)&&o.forEach(e=>{const{attrs:t,type:n}=e;switch(n.name){case zo:i=t.color;break;case Po:s=t.pt}}),i&&(a+=`--czi-list-style-color: ${i};`),s&&(a+=`--czi-list-style-font-size: ${s}pt;`),t.style.cssText=a;const{align:c}=e.attrs;return c?t.setAttribute(\"data-align\",c):t.removeAttribute(\"data-align\"),!0}};n(405);function Nb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nb(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Lb={NONE:{value:null,text:ws(\"Inline\")},CENTER:{value:\"center\",text:ws(\"Break text\")}};Oe.a.string,Oe.a.string.isRequired;class zb extends c.PureComponent{constructor(){super(...arguments),f()(this,\"props\",void 0),f()(this,\"_popUp\",null),f()(this,\"_onClick\",e=>{const t=this.props.value||{};this.props.onSelect(jb(jb({},t),{},{align:e}))}),f()(this,\"_editLatex\",e=>{if(this._popUp)return;const{editorView:t,value:n}=this.props,r={runtime:t?t.runtime:null,initialValue:n&&n.latex||\"\"};this._popUp=Ol(Xd,r,{autoDismiss:!1,modal:!0,onClose:e=>{if(this._popUp){if(this._popUp=null,void 0!==e){const t=this.props.value||{};this.props.onSelect(jb(jb({},t),{},{latex:e}))}this.props.onEditEnd()}}}),this.props.onEditStart()})}componentWillUnmount(){this._popUp&&this._popUp.close()}render(){const{align:e,latex:t}=this.props.value||{},n=this._onClick,r=Object.keys(Lb).map(t=>{const{value:r,text:o}=Lb[t];return c.createElement(Tl,{active:e===r,key:t,label:o,onClick:n,value:r})});return c.createElement(\"div\",{className:\"czi-inline-editor\"},r,c.createElement(Tl,{key:\"edit\",label:ws(\"Edit\"),onClick:this._editLatex,value:t||\"\"}))}}var Bb=zb;function Ub(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ub(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ub(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class Fb extends c.PureComponent{constructor(){super(...arguments),f()(this,\"props\",void 0),f()(this,\"state\",{isEditing:!1}),f()(this,\"_inlineEditor\",null),f()(this,\"_id\",yc()),f()(this,\"_mounted\",!1),f()(this,\"_onEditStart\",()=>{this.setState({isEditing:!0})}),f()(this,\"_onEditEnd\",()=>{this.setState({isEditing:!1})}),f()(this,\"_onChange\",e=>{if(!this._mounted)return;const t=e?e.align:null,n=e?e.latex:null,{getPos:r,node:o,editorView:i}=this.props,s=r(),a=Hb(Hb({},o.attrs),{},{latex:n,align:t});let c=i.state.tr;const{selection:l}=i.state;c=c.setNodeMarkup(s,null,a);const u=Ye.NodeSelection.create(c.doc,l.from);c=c.setSelection(u),i.dispatch(c)})}componentDidMount(){this._mounted=!0,this._renderInlineEditor()}componentWillUnmount(){this._mounted=!1}componentDidUpdate(e){this._renderInlineEditor()}render(){const{node:e,selected:t,focused:n}=this.props,{attrs:r}=e,{latex:o}=r,{isEditing:i}=this.state,s=(n||i)&&!0,a=el()(\"czi-math-view-body\",{active:s,selected:t}),l=Fd(o);return c.createElement(\"span\",{className:a,\"data-active\":s?\"true\":null,\"data-latex\":o||\"\",id:this._id,title:o},c.createElement(\"img\",{alt:o,className:\"czi-math-view-body-img\",src:\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\",title:o}),c.createElement(\"span\",{className:\"czi-math-view-body-content\",dangerouslySetInnerHTML:{__html:l}}))}_renderInlineEditor(){const e=document.getElementById(this._id);if(!e||\"true\"!==e.getAttribute(\"data-active\"))return void(this._inlineEditor&&this._inlineEditor.close());const{node:t}=this.props,n={value:t.attrs,onSelect:this._onChange,onEditStart:this._onEditStart,onEditEnd:this._onEditEnd};this._inlineEditor?this._inlineEditor.update(n):this._inlineEditor=Ol(Bb,n,{anchor:e,autoDismiss:!1,container:e.closest(\".czi-editor-frame-body\"),position:ll,onClose:()=>{this._inlineEditor=null}})}}var Vb=class extends ab{createDOMElement(){const e=document.createElement(\"span\");return e.className=\"czi-math-view\",this._updateDOM(e),e}update(e,t){return super.update(e,t),this._updateDOM(this.dom),!0}renderReactComponent(){return c.createElement(Fb,this.props)}_updateDOM(e){const{align:t}=this.props.node.attrs;let n=\"czi-math-view\";t&&(n+=\" align-\"+t),e.className=n}};const qb=new Set([8,46,40,37,39,38]);n(406),Oe.a.bool,Oe.a.bool,Oe.a.func,Oe.a.bool,Oe.a.func,Oe.a.func,Oe.a.func,Oe.a.objectOf((function(){return(\"function\"==typeof ab?Oe.a.instanceOf(ab).isRequired:Oe.a.any.isRequired).apply(this,arguments)})),Oe.a.oneOfType([Oe.a.string,Oe.a.node]),Oe.a.bool,Oe.a.func;window.CZIProseMirror={exportJSON:function(e){!e&&hy.size&&(e=my()[0],console.log(`use default editor id \"${e}\"`));const t=hy.get(String(e));if(!t)throw new Error(\"view ${id} does not exist\");return t.state.doc.toJSON()},registeryKeys:my};const Kb=Object.freeze({[Zo]:Db,[ti]:Vb,[Ko]:lb,[ei]:Ib}),Gb=Object.freeze(cy()),$b=Ye.Transaction.prototype.scrollIntoView;Ye.Transaction.prototype.scrollIntoView=function(e){return!0===e&&$b?$b.call(this):this},Eo.setImplementation(dy.a),So.forEach(e=>{Oo(e)});const Wb={drop:function(e,t){const{dataTransfer:n}=t;if(!n)return!1;const{files:r}=n;return!(!r||!r.length)&&(!!Ec(e,Array.from(r),{x:t.clientX,y:t.clientY})&&(t.preventDefault(),!0))},keydown:function(e,t){const{selection:n,tr:r}=e.state,{from:o,to:i}=n;if(o===i-1){const e=r.doc.nodeAt(o);if(e.isAtom&&!e.isText&&e.isLeaf)return!qb.has(t.keyCode)}return!1},paste:function(e,t){const{clipboardData:n}=t;if(!n)return!1;const{files:r}=n;return!(!r||!r.length)&&(!!Ec(e,Array.from(r))&&(t.preventDefault(),!0))}};function Yb(e){return e?e.schema:Gb.schema}class Xb extends c.PureComponent{constructor(){super(...arguments),f()(this,\"_autoFocusTimer\",0),f()(this,\"_id\",yc()),f()(this,\"_editorView\",null),f()(this,\"props\",void 0),f()(this,\"state\",{isPrinting:!1}),f()(this,\"_onBlur\",()=>{const{onBlur:e}=this.props,t=this._editorView;t&&!t.disabled&&!t.readOnly&&e&&e()}),f()(this,\"focus\",()=>{const e=this._editorView;!e||e.disabled||e.readOnly||e.focus()}),f()(this,\"_dispatchTransaction\",e=>{const{editorState:t,readOnly:n,onChange:r}=this.props;!0!==n&&r&&r({transaction:e,state:t||Gb})}),f()(this,\"_isEditable\",()=>{const{disabled:e,readOnly:t}=this.props,{isPrinting:n}=this.state;return!(n||!this._editorView||t||e)}),f()(this,\"_onPrintStart\",()=>{this.setState({isPrinting:!0})}),f()(this,\"_onPrintEnd\",()=>{this.setState({isPrinting:!1})})}componentDidMount(){const{onReady:e,editorState:t,readOnly:n,runtime:r,placeholder:o,disabled:i,dispatchTransaction:s,nodeViews:a,transformPastedHTML:c}=this.props,l=document.getElementById(this._id);if(l){const u=Object.assign({},Kb,a),d={},p=Yb(t),{nodes:f}=p;Object.keys(u).forEach(e=>{const t=u[e];var n;f[e]&&(d[e]=(n=t,(e,t,r,o)=>new n(e,t,r,o)))});const h=this._editorView=new fy(l,{clipboardSerializer:Ve.DOMSerializer.fromSchema(p),dispatchTransaction:s,editable:this._isEditable,nodeViews:d,state:t||Gb,transformPastedHTML:c,handleDOMEvents:Wb});h.runtime=r,h.placeholder=o,h.readOnly=!!n,h.disabled=!!i,h.updateState(t||Gb),function(e,t){if(hy.has(e))throw new Error(\"view ${id} already registered\");if(!(t instanceof fy))throw new Error(\"invalid view \"+e);if(!e)throw new Error(\"id is required\");hy.set(e,t)}(this._id,h),e&&e(h),this._autoFocusTimer&&clearTimeout(this._autoFocusTimer),this._autoFocusTimer=this.props.autoFocus?setTimeout(this.focus,350):0}window.addEventListener(\"beforeprint\",this._onPrintStart,!1),window.addEventListener(\"afterprint\",this._onPrintEnd,!1)}componentDidUpdate(e){const t=this._editorView;if(t){Yb(e.editorState)!==Yb(this.props.editorState)&&console.error(\"editor schema changed.\");const{runtime:n,editorState:r,placeholder:o,readOnly:i,disabled:s}=this.props,{isPrinting:a}=this.state,c=r||Gb;t.runtime=n,t.placeholder=o,t.readOnly=!!i||a,t.disabled=!!s,t.updateState(c),this._autoFocusTimer&&clearTimeout(this._autoFocusTimer),this._autoFocusTimer=!e.autoFocus&&this.props.autoFocus?setTimeout(this.focus,350):0}}componentWillUnmount(){this._autoFocusTimer&&clearTimeout(this._autoFocusTimer),this._editorView&&this._editorView.destroy(),this._editorView=null,function(e){if(!hy.has(e))throw new Error(\"view ${id} was released\");hy.delete(e)}(this._id),window.removeEventListener(\"beforeprint\",this._onPrintStart,!1),window.removeEventListener(\"afterprint\",this._onPrintEnd,!1)}render(){const{embedded:e,readOnly:t}=this.props,n=el()(\"prosemirror-editor-wrapper\",{embedded:e,readOnly:t});return c.createElement(\"div\",{className:n,\"data-czi-prosemirror-editor-id\":this._id,id:this._id,onBlur:this._onBlur})}}f()(Xb,\"EDITOR_EMPTY_STATE\",Gb),f()(Xb,\"defaultProps\",{transformPastedHTML:function(e){let t=null;const n=Wy.test(e),r=function(e){return(new window.DOMParser).parseFromString(e,\"text/html\")}(e=(e=e.replace(Yy,Zy)).replace(Xy,Jy));if(r&&(Ry(r),function(e){Array.from(e.querySelectorAll(wy)).forEach(Oy)}(r),function(e){Array.from(e.querySelectorAll(\"a[id]\")).forEach(yy)}(r),function(e){Array.from(e.querySelectorAll(\"div > span:only-child > br:only-child\")).forEach(by)}(r),Ly(r),function(e){Array.from(e.querySelectorAll(\"p\")).forEach(Vy)}(r),function(e){Array.from(e.querySelectorAll(\"td\")).forEach(Gy),Array.from(e.querySelectorAll(\"tr[style^=height]\")).forEach($y)}(r),function(e){Array.from(e.querySelectorAll(\"img\")).forEach(Fy)}(r),t=r.getElementsByTagName(\"body\")[0],t&&n)){const e=r.createElement(\"html\");return e.appendChild(t),e.innerHTML}return t?\"<body>\"+t.innerHTML+\"</body>\":\"Unsupported HTML content\"}});var Jb=Xb;class Zb extends c.PureComponent{constructor(){super(...arguments),f()(this,\"props\",void 0),f()(this,\"_onUIEnter\",(e,t)=>{e.shouldRespondToUIEvent(t)&&this._execute(e,t)}),f()(this,\"_execute\",(e,t)=>{const{command:n,editorState:r,dispatch:o,editorView:i}=this.props;n.execute(r,o,i,t)})}render(){const{label:e,className:t,command:n,editorState:r,editorView:o,icon:i,title:s}=this.props;let a=this.props.disabled;return!1==!!a&&(a=!o||!n.isEnabled(r,o)),c.createElement(Tl,{active:n.isActive(r),className:t,disabled:a,icon:i,label:e,onClick:this._onUIEnter,onMouseEnter:this._onUIEnter,title:s,value:n})}}var Qb=Zb;n(447);class ev extends c.PureComponent{constructor(){super(...arguments),f()(this,\"_body\",null),f()(this,\"props\",void 0),f()(this,\"state\",{expanded:!1,wrapped:null}),f()(this,\"_renderButtonsGroup\",(e,t)=>{const n=Object.keys(e).map(t=>{const n=e[t];if(function(e){if(\"function\"!=typeof e)return!1;const t=e.prototype;return!!t&&!!t.isReactComponent}(n)){const e=n,{editorState:r,editorView:o,dispatchTransaction:i}=this.props;return c.createElement(e,{dispatch:i,editorState:r,editorView:o,key:t})}return n instanceof Yl?this._renderButton(t,n):Array.isArray(n)?this._renderMenuButton(t,n):null}).filter(Boolean);return c.createElement(\"div\",{className:\"czi-custom-buttons\",key:\"g\"+String(t)},n)}),f()(this,\"_renderMenuButton\",(e,t)=>{const{editorState:n,editorView:r,disabled:o,dispatchTransaction:i}=this.props,{icon:s,title:a}=mh(e);return c.createElement(tu,{commandGroups:t,disabled:o,dispatch:i,editorState:n,editorView:r,icon:s,key:e,label:s?null:a,title:a})}),f()(this,\"_renderButton\",(e,t)=>{const{disabled:n,editorState:r,editorView:o,dispatchTransaction:i}=this.props,{icon:s,title:a}=mh(e);return c.createElement(Qb,{command:t,disabled:n,dispatch:i,editorState:r,editorView:o,icon:s,key:e,label:s?null:a,title:a})}),f()(this,\"_onBodyRef\",e=>{if(e){this._body=e;const t=d.a.findDOMNode(e);t instanceof HTMLElement&&Ab.observe(t,this._checkIfContentIsWrapped)}else{const e=this._body&&d.a.findDOMNode(this._body);e instanceof HTMLElement&&Ab.unobserve(e),this._body=null}}),f()(this,\"_checkIfContentIsWrapped\",()=>{const e=this._body,t=e&&d.a.findDOMNode(e),n=t&&t.firstChild,r=t&&t.lastChild;if(n&&r){const e=n.offsetTop<r.offsetTop;this.setState({wrapped:e})}}),f()(this,\"_toggleExpansion\",e=>{this.setState({expanded:!e})})}render(){const{wrapped:e,expanded:t}=this.state,n=el()(\"czi-editor-toolbar\",{expanded:t,wrapped:e}),r=e?c.createElement(Tl,{active:t,className:\"czi-editor-toolbar-expand-button\",icon:fh.get(\"more_horiz\"),key:\"expand\",onClick:this._toggleExpansion,title:\"More\",value:t}):null;return c.createElement(\"div\",{className:n},c.createElement(\"div\",{className:\"czi-editor-toolbar-flex\"},c.createElement(\"div\",{className:\"czi-editor-toolbar-body\"},c.createElement(\"div\",{className:\"czi-editor-toolbar-body-content\",ref:this._onBodyRef},c.createElement(\"i\",{className:\"czi-editor-toolbar-wrapped-anchor\"}),dm.map(this._renderButtonsGroup),c.createElement(\"div\",{className:\"czi-editor-toolbar-background\"},c.createElement(\"div\",{className:\"czi-editor-toolbar-background-line\"}),c.createElement(\"div\",{className:\"czi-editor-toolbar-background-line\"}),c.createElement(\"div\",{className:\"czi-editor-toolbar-background-line\"}),c.createElement(\"div\",{className:\"czi-editor-toolbar-background-line\"}),c.createElement(\"div\",{className:\"czi-editor-toolbar-background-line\"})),c.createElement(\"i\",{className:\"czi-editor-toolbar-wrapped-anchor\"})),r),c.createElement(\"div\",{className:\"czi-editor-toolbar-footer\"})))}}var tv=ev;n(448);class nv extends c.PureComponent{render(){return c.createElement(\"div\",{className:\"czi-frag\"},this.props.children)}}var rv=nv;const ov={};class iv extends c.PureComponent{constructor(e,t){super(e,t),f()(this,\"props\",void 0),f()(this,\"state\",void 0),f()(this,\"_id\",void 0),f()(this,\"_dispatchTransaction\",e=>{const{onChange:t,editorState:n,readOnly:r}=this.props;!0!==r&&t&&t({state:n||Jb.EDITOR_EMPTY_STATE,transaction:e})}),f()(this,\"_onReady\",e=>{if(e!==this.state.editorView){this.setState({editorView:e});const{onReady:t}=this.props;t&&t(e)}}),this._id=yc(),this.state={contentHeight:NaN,contentOverflowHidden:!1,editorView:null}}render(){const{autoFocus:e,children:t,className:n,disabled:r,embedded:o,header:i,height:s,onChange:a,nodeViews:l,placeholder:u,readOnly:d,width:p}=this.props;let{editorState:f,runtime:h}=this.props;f=f||cy(),h=h||ov;const{editorView:m}=this.state,g=!0==!!d?null:c.createElement(tv,{disabled:r,dispatchTransaction:this._dispatchTransaction,editorState:f||Jb.EDITOR_EMPTY_STATE,editorView:m,readOnly:d}),y=c.createElement(rv,null,c.createElement(Jb,{autoFocus:e,disabled:r,dispatchTransaction:this._dispatchTransaction,editorState:f,embedded:o,id:this._id,nodeViews:l,onChange:a,onReady:this._onReady,placeholder:u,readOnly:d,runtime:h}),t);return c.createElement(pb,{body:y,className:n,embedded:o,header:i,height:s,toolbar:g,width:p})}}var sv=iv;function av(e){let t=new XMLHttpRequest,n=!1,r=new Promise((r,o)=>{if(t.open(e.method,e.url,!0),t.addEventListener(\"load\",()=>{var e,i;if(!n)if(t.status<400)r(t.responseText);else{let n=t.responseText;n&&/html/.test(t.getResponseHeader(\"content-type\"))&&(e=n,(i=document.createElement(\"div\")).innerHTML=e,n=i.textContent.replace(/\\n[^]*|\\s+$/g,\"\"));let r=new Error(\"Request failed: \"+t.statusText+(n?\"\\n\\n\"+n:\"\"));r.status=t.status,o(r)}}),t.addEventListener(\"error\",()=>{n||o(new Error(\"Network error\"))}),e.headers)for(let n in e.headers)t.setRequestHeader(n,e.headers[n]);t.send(e.body||null)});return r.abort=()=>{n||(t.abort(),n=!0)},r}Oe.a.func;var cv=class{constructor(e,t){f()(this,\"_setState\",void 0),f()(this,\"_editorState\",void 0),f()(this,\"onEdit\",e=>{d.a.unstable_batchedUpdates(()=>{const t=this._editorState.apply(e),n={editorState:t,data:e.doc.toJSON()};this._setState(n,()=>{this._editorState=t})})}),f()(this,\"getState\",()=>this._editorState),f()(this,\"updateSchema\",e=>{}),this._editorState=e,this._setState=t}},lv=function(e,t,n){this.step=e,this.inverted=t,this.origin=n};var uv=function(e,t){this.version=e,this.unconfirmed=t};var dv=new Ye.PluginKey(\"collab\");function pv(e){return void 0===e&&(e={}),e={version:e.version||0,clientID:null==e.clientID?Math.floor(4294967295*Math.random()):e.clientID},new Ye.Plugin({key:dv,state:{init:function(){return new uv(e.version,[])},apply:function(e,t){var n=e.getMeta(dv);return n||(e.docChanged?new uv(t.version,t.unconfirmed.concat(function(e){for(var t=[],n=0;n<e.steps.length;n++)t.push(new lv(e.steps[n],e.steps[n].invert(e.docs[n]),e));return t}(e))):t)}},config:e,historyPreserveItems:!0})}function fv(e,t,n,r){for(var o=dv.getState(e),i=o.version+t.length,s=dv.get(e).spec.config.clientID,a=0;a<n.length&&n[a]==s;)++a;var c=o.unconfirmed.slice(a);if(!(t=a?t.slice(a):t).length)return e.tr.setMeta(dv,new uv(i,c));var l=c.length,u=e.tr;if(l)c=function(e,t,n){for(var r=e.length-1;r>=0;r--)n.step(e[r].inverted);for(var o=0;o<t.length;o++)n.step(t[o]);for(var i=[],s=0,a=e.length;s<e.length;s++){var c=e[s].step.map(n.mapping.slice(a));a--,c&&!n.maybeStep(c).failed&&(n.mapping.setMirror(a,n.steps.length-1),i.push(new lv(c,c.invert(n.docs[n.docs.length-1]),e[s].origin)))}return i}(c,t,u);else{for(var d=0;d<t.length;d++)u.step(t[d]);c=[]}var p=new uv(i,c);return r&&r.mapSelectionBackward&&e.selection instanceof Ye.TextSelection&&(u.setSelection(Ye.TextSelection.between(u.doc.resolve(u.mapping.map(e.selection.anchor,-1)),u.doc.resolve(u.mapping.map(e.selection.head,-1)),-1)),u.updated&=-2),u.setMeta(\"rebased\",l).setMeta(\"addToHistory\",!1).setMeta(dv,p)}var hv=null,mv=0,gv=0,yv=[15,30,60,90,180,360,720];class bv{constructor(e,t){f()(this,\"edit\",void 0),f()(this,\"comm\",void 0),this.edit=e,this.comm=t}}function vv(){clearTimeout(vv),\"recover\"==hv.state.comm?gv<=0&&mv<=yv.length?(hv.dispatch({type:\"restart\"}),mv<yv.length&&(gv=yv[mv],mv+=1,setTimeout(vv,1e3))):(gv-=1,setTimeout(vv,1e3)):(mv=0,gv=0,clearTimeout(vv))}var _v=class{constructor(e,t,n,r,o,i){f()(this,\"backOff\",void 0),f()(this,\"onReady\",void 0),f()(this,\"ready\",void 0),f()(this,\"report\",void 0),f()(this,\"request\",void 0),f()(this,\"state\",void 0),f()(this,\"ws_url\",void 0),f()(this,\"view\",void 0),f()(this,\"schema\",void 0),f()(this,\"socket\",void 0),f()(this,\"dispatch\",e=>{let t=null;if(\"loaded\"==e.type){const t=Ye.EditorState.create({doc:e.doc,plugins:sy.concat([pv({clientID:this.client_id,version:e.version})])});this.state=new bv(t,\"poll\"),this.ready=!0,this.onReady(t)}else\"start\"==e.type?(this.state=new bv(null,\"start\"),this.ws_start()):\"restart\"==e.type?(this.state=new bv(null,\"recover\"),this.ws_start()):\"poll\"==e.type?this.state=new bv(this.state.edit,\"poll\"):\"recover\"==e.type?(this.report.failure(\"error\"),typeof show_message==typeof Function&&show_message(\"error\"),this.state=new bv(null,\"recover\"),this.ws_recover()):\"transaction\"==e.type&&(t=this.state.edit?this.state.edit.apply(e.transaction):null);if(t){let n;t.doc.content.size>4e4?(\"detached\"!==this.state.comm&&(this.report.failure(\"Document too big. Detached.\"),typeof show_message==typeof Function&&show_message(\"size_limit\")),this.state=new bv(t,\"detached\")):e.requestDone?this.state=new bv(t,\"poll\"):\"poll\"==this.state.comm&&(n=this.sendable(t))?(this.state=new bv(t,\"send\"),this.ws_send(t,n)):this.state=new bv(t,this.state.comm)}this.state.edit&&this.view&&this.view.updateState(this.state.edit)}),this.schema=null,this.report=t,this.ws_url=n,this.doc_id=i,this.user_id=o,this.client_id=o+\"#\"+gc(),this.session_hash=r,this.state=new bv(null,\"start\"),this.request=null,this.view=null,this.dispatch=this.dispatch.bind(this),this.ready=!1,this.onReady=e,this.socket=null,this.temp=null,hv=this}getEffectiveSchema(){return null!=this.schema?this.schema:na}cursor_send(e){const t={selection:e,clientID:this.client_id},n=JSON.stringify({type:\"selection\",data:t});this.socket.send(n)}ws_start(){const e=this.ws_url+\"?user_id=\"+this.user_id+\"&session_hash=\"+this.session_hash+\"&doc_id=\"+this.doc_id;this.socket=new WebSocket(e),this.socket.onopen=function(e){typeof add_user==typeof Function&&add_user(hv.user_id,window.user_name),hv.state.comm=\"start\",mv=0,gv=0,typeof hide_message==typeof Function&&hide_message()},this.socket.onmessage=function(e){hv.report.success();var t=JSON.parse(e.data),n=t.data;if(\"init\"==t.type)hv.temp=n.doc_json,hv.recursive_unquote(hv.temp),hv.dispatch({type:\"loaded\",doc:hv.getEffectiveSchema().nodeFromJSON(hv.temp),version:n.version,users:n.users});else if(\"step\"==t.type){if(n.steps&&n.steps.length){hv.temp=n.steps,hv.recursive_unquote(hv.temp);const e=fv(hv.state.edit,hv.temp.map(e=>io.d.fromJSON(hv.getEffectiveSchema(),e)),n.clientIDs);hv.dispatch({type:\"transaction\",transaction:e,requestDone:!1})}}else if(\"users\"==t.type){if(console.log(n.add),console.log(n.add.user_id),console.log(n.add.user_id.length),\"add\"in n&&(n.add.user_id.length||Object.keys(a))&&(console.log(\"in\"),typeof add_user==typeof Function))for(var r in console.log(\"out\"),n.add.user_id)add_user(n.add.user_id[r],n.add.user_name[r]);if(\"delete\"in n&&n.delete.user_id.length&&typeof delete_user==typeof Function)for(var r in n.delete.user_id)delete_user(n.delete.user_id[r])}else console.log(n)},this.socket.onclose=function(e){hv.report.failure(\"error\"),typeof show_message==typeof Function&&show_message(\"error\"),0==mv&&0==gv&&hv.dispatch({type:\"recover\"})}}ws_send(e,t){let{steps:n}=t;this.temp=n?n.steps.map(e=>e.toJSON()):[],this.recursive_enquote(this.temp);const r={version:(o=e,dv.getState(o).version),steps:this.temp,clientID:n?n.clientID:0};var o;let i=JSON.stringify({type:\"content\",data:r});this.socket.send(i),this.report.success();const s=n?fv(this.state.edit,n.steps,function(e,t){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(n.clientID,n.steps.length)):this.state.edit.tr;this.dispatch({type:\"transaction\",transaction:s,requestDone:!0})}ws_recover(){\"recover\"==hv.state.comm&&vv()}sendable(e){const t=(n=e,0==(r=dv.getState(n)).unconfirmed.length?null:{version:r.version,steps:r.unconfirmed.map((function(e){return e.step})),clientID:dv.get(n).spec.config.clientID,get origins(){return this._origins||(this._origins=r.unconfirmed.map((function(e){return e.origin})))}});var n,r;return t?{steps:t}:null}closeRequest(){this.request&&(this.request.abort(),this.request=null)}run(e){return this.request=e}close(){this.closeRequest(),this.setView(null)}setView(e){this.view&&this.view.destroy(),this.view=window.view=e}recursive_enquote(e){for(var t in e)\"string\"==typeof e[t]&&(e[t]=e[t].replace(/\"/g,\"龘\"),e[t]=e[t].replace(/\\\\/g,\"靐\")),\"object\"==typeof e[t]&&this.recursive_enquote(e[t])}recursive_unquote(e){for(var t in e)\"string\"==typeof e[t]&&(e[t]=e[t].replace(/靐/g,\"\\\\\"),e[t]=e[t].replace(/龘/g,'\"')),\"object\"==typeof e[t]&&this.recursive_unquote(e[t])}};var wv=class{constructor(){this.setAt=0}clearState(){this.state&&(this.state=this.node=null,this.setAt=0)}failure(e){console.error(\"fail\",e.toString())}delay(e){\"fail\"!=this.state&&console.info(\"delay\",e.toString())}show(e,t){this.clearState(),this.state=e,this.setAt=Date.now()}success(){\"fail\"==this.state&&this.setAt>Date.now()-1e4?setTimeout(()=>this.success(),5e3):this.clearState()}};var Ev=class extends cv{constructor(e,t,n){super(e,t),f()(this,\"_clientID\",void 0),f()(this,\"_connected\",void 0),f()(this,\"_connection\",void 0),f()(this,\"_docID\",void 0),f()(this,\"_stepKeys\",void 0),f()(this,\"_selection\",void 0),f()(this,\"onEdit\",e=>{this._connection.ready&&d.a.unstable_batchedUpdates(()=>{this._connection.dispatch({type:\"transaction\",transaction:e})})}),f()(this,\"updateSchema\",e=>{this._connection.ws_start()});const{ws_url:r,session_hash:o,user_id:i,docID:s}=n;this._connection=new _v(t,new wv,r,o,i,s),this._connection.view={updateState:e=>{t({editorState:e},()=>{})}}}};function Sv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ov(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sv(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class xv extends c.PureComponent{constructor(){super(...arguments),f()(this,\"_unmounted\",!1),f()(this,\"state\",Ov(Ov({},this.props.initialValue||{}),{},{validValue:null})),f()(this,\"_cancel\",()=>{this.props.close()})}componentWillUnmount(){this._unmounted=!0}render(){return c.createElement(\"div\",{className:\"alert\"},c.createElement(\"span\",{class:\"closebtn\",onClick:this._cancel},\"×\"),c.createElement(\"strong\",null,\"Document Error!\"),\" Unable to load the document.\",c.createElement(\"span\",null,\" Have issues in Json format, please verify...\"))}}f()(xv,\"propsTypes\",{initialValue:Oe.a.object,close:function(e,t){var n=e[t];if(!n.prototype||\"function\"!=typeof n.prototype.constructor&&1!==n.prototype.constructor.length)return new Error(t+\"must be a function with 1 arg of type ImageLike\")}});var kv=xv;n(449);class Cv extends c.Component{constructor(e,t){var n;super(e,t),n=this,f()(this,\"_runtime\",void 0),f()(this,\"_connector\",void 0),f()(this,\"_clientID\",void 0),f()(this,\"_editorView\",void 0),f()(this,\"_skipSCU\",void 0),f()(this,\"_popUp\",null),f()(this,\"setContent\",(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{doc:t,tr:r,schema:o}=n._connector.getState(),i=e?o.nodeFromJSON(e):o.nodeFromJSON(ay),s=Ye.TextSelection.create(t,0,t.content.size),a=r.setSelection(s).replaceSelectionWith(i,!1);n._skipSCU=!0,n._editorView.dispatch(a)})),f()(this,\"_onChange\",e=>{const{transaction:t}=e;let n=!1;if(this._connector.onEdit(t),t.docChanged){const e=t.doc.toJSON();e.content&&1===e.content.length&&e.content[0].content&&\"\"===e.content[0].content[0].text.trim()&&(n=!0),this.state.onChangeCB(e,n)}}),f()(this,\"_onReady\",e=>{const{state:t,dispatch:n}=e;this._editorView=e;const r=t.tr,o=t.doc;n(r.setSelection(Ye.TextSelection.create(o,0,o.content.size))),e.focus(),this.state.onReadyCB&&this.state.onReadyCB(this),this.state.debug&&(window.debugProseMirror=()=>{oo(e)},window.debugProseMirror())}),f()(this,\"setProps\",e=>{if(this.state.readOnly){let t={};this._skipSCU=!0,Object.assign(t,e),t.readOnly=!1,delete t.data,this.setState(t)}this._skipSCU=!1,this.setState(e)});const r=e.ws_url,o=e.docID||0,i=e.user_id,s=e.session_hash,a=0<o,c=e.debug||!1,l=e.width||void 0,u=e.height||void 0,d=\"function\"==typeof e.onChange?e.onChange:_,p=\"function\"==typeof e.onReady?e.onReady:_,h=e.readOnly||!1,m=e.data||null,g=e.disabled||!1,y=e.embedded||!1,b=e.runtime?e.runtime:null,v=e.plugins||null;this._editorView=null,this._skipSCU=!0;const _=function(){};let w=ly(m,null,v);null===w&&(w=ly(ay,null,v),this.showAlert());const E=this.setState.bind(this);this._connector=a?new Ev(w,E,{ws_url:r,session_hash:s,user_id:i,docID:o}):new cv(w,E),this.state={docID:o,data:m,editorState:w,width:l,height:u,readOnly:h,onChangeCB:d,onReadyCB:p,debug:c,disabled:g,embedded:y,runtime:b},this._connector.updateSchema&&this._connector.updateSchema(this.state.editorState.schema)}showAlert(){this._popUp=Ol(kv,null,{anchor:null,position:dl,onClose:e=>{this._popUp&&(this._popUp=null)}})}shouldComponentUpdate(e,t){if(!this._skipSCU){this._skipSCU=!1;let e=!1;if((this.state.data!==t.data||null===t.data&&this.state.editorState.doc.textContent&&0<this.state.editorState.doc.textContent.trim().length)&&(e=!0),e&&this.setContent(t.data),this.state.docID!==t.docID){const e=0!=t.docID,n=this._connector.getState(),r=this.setState.bind(this),o=t.docID||1;this._connector=e?new Ev(n,r,{ws_url:ws_url,session_hash:session_hash,user_id:user_id,docID:o}):new cv(n,r)}}return!0}render(){const{editorState:e,width:t,height:n,readOnly:r,disabled:o,embedded:i,runtime:s}=this.state;return c.createElement(sv,{editorState:e,embedded:i,height:n,onChange:this._onChange,onReady:this._onReady,readOnly:r,runtime:s,width:t,disabled:o})}}var Av=Cv;var Tv=class{canProxyImageSrc(){return!1}getProxyImageSrc(e){return-1===e.indexOf(\"?\")?e+\"?proxied=1\":e+\"&proxied=1\"}canUploadImage(){return!0}uploadImage(e){var t;return new Promise((n,r)=>{(function(e,t,n){return av({url:e,method:\"POST\",body:t,headers:{\"Content-Type\":n}})})(window.location.protocol+\"//\"+window.location.hostname+\":3004/saveimage?fn=\"+e.name,e,\"application/octet-stream\").then(e=>{t=JSON.parse(e),n(t)},e=>{n(t={id:\"\",width:0,height:0,src:\"\"})})})}};function Pv(e){}function Mv(e){}window.onload=function(){let e=null;if(window.lang)e=document.getElementById(\"doc_editor\");else{e=document.createElement(\"div\"),e.id=\"licit-app\",e.style.setProperty(\"width\",\"100vw\"),e.style.setProperty(\"height\",\"100vh\");const{body:t}=document;t&&t.appendChild(e)}new Tv;const t=window.ws_url?window.ws_url:\"ws://192.168.1.2:8800\",n=window.doc_id?window.doc_id:2047,r=window.session_hash?window.session_hash:\"NWY3YjBkOTg0MDI2YQ==\",o=!!window.read_only&&window.read_only,i=window.user_id?window.user_id:5;d.a.render(c.createElement(Av,{ws_url:t,session_hash:r,docID:n,debug:!1,user_id:i,width:\"100vw\",height:\"100vh\",onChange:Pv,onReady:Mv,data:{type:\"doc\",attrs:{layout:null,padding:null,width:null},content:[{type:\"paragraph\",attrs:{align:null,color:null,id:null,indent:null,lineSpacing:null,paddingBottom:null,paddingTop:null,objectId:null},content:[{type:\"text\",text:\" \"}]}]},embedded:!1,readOnly:o,runtime:null,plugins:null}),e)}}});","extractedComments":[]}